scr_Config As screen:
    LoadingSpinnerColor: =RGBA(105, 121, 126, 1)
    OnVisible: |-
        =UpdateContext({showLoading: false});
        UpdateContext({showGallery: false});
        UpdateContext({showStatus: false});

    c_screen_5 As groupContainer.verticalAutoLayoutContainer:
        Height: =App.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        Width: =App.Width
        ZIndex: =1

        HeaderContainer2_7 As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =RGBA(52, 60, 63, 1)
            FillPortions: =0
            Height: =50
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =2

            lbl_mainheader_5 As label:
                AlignInContainer: =AlignInContainer.Stretch
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Color: =RGBA(255, 255, 255, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Fill: =RGBA(68, 68, 68, 1)
                FillPortions: =1
                FocusedBorderThickness: =4
                Font: =Font.'Segoe UI'
                PaddingLeft: =20
                Text: =appTitle
                ZIndex: =1

        MainSectionContainer2_7 As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            ZIndex: =3

            Navigation_8 As Navigation:
                AlignInContainer: =AlignInContainer.Stretch
                Items: =col_nav
                LayoutMinHeight: =600
                LayoutMinWidth: =640
                Width: =If(Navigation_8.IsExpanded, 200, 60)

            Rectangle2_15 As rectangle:
                AlignInContainer: =AlignInContainer.Stretch
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                Fill: =RGBA(230, 230, 230, 1)
                FocusedBorderThickness: =4
                Height: =1
                Width: =1
                ZIndex: =2

            c_mainContent_5 As groupContainer.verticalAutoLayoutContainer:
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                ZIndex: =3

                Container23_6 As groupContainer.verticalAutoLayoutContainer:
                    Fill: =RGBA(241, 241, 241, 1)
                    LayoutAlignItems: =LayoutAlignItems.Stretch
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =20
                    PaddingLeft: =20
                    PaddingRight: =20
                    PaddingTop: =20
                    ZIndex: =6

                    Container1 As groupContainer.horizontalAutoLayoutContainer:
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        LayoutMode: =LayoutMode.Auto
                        ZIndex: =3

                        Container6 As groupContainer.verticalAutoLayoutContainer:
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            ZIndex: =3

                            SearchEnvVars As text:
                                AlignInContainer: =AlignInContainer.Stretch
                                BorderColor: =RGBA(166, 166, 166, 1)
                                BorderThickness: =2
                                Color: =RGBA(51, 51, 51, 1)
                                Default: =""
                                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =RGBA(244, 244, 244, 1)
                                FocusedBorderThickness: =4
                                Font: =Font.'Segoe UI'
                                HintText: ="Search Env Vars"
                                HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                                HoverColor: =RGBA(51, 51, 51, 1)
                                HoverFill: =RGBA(255, 255, 255, 1)
                                PressedBorderColor: =RGBA(105, 121, 126, 1)
                                PressedColor: =RGBA(51, 51, 51, 1)
                                PressedFill: =RGBA(255, 255, 255, 1)
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =13
                                ZIndex: =1

                            galCoEEnvVars As gallery.galleryVertical:
                                BorderColor: =RGBA(166, 166, 166, 1)
                                Items: =Filter('Environment Variable Definitions', "admin_" in 'Schema Name' && (SearchEnvVars.Text in 'Schema Name' || SearchEnvVars.Text in 'Display Name'))
                                Layout: =Layout.Vertical
                                LayoutMinHeight: =287
                                LayoutMinWidth: =320
                                OnSelect: |
                                    =UpdateContext({envVars_ThisDefinitionID: ThisItem.'Environment Variable Definition'});
                                    UpdateContext({envVars_ThisDefaultValue: ThisItem.'Default Value'});
                                    UpdateContext({envVars_ThisCurrentValue: First(Filter('Environment Variable Values',  'Environment Variable Definition'.'Environment Variable Definition' = envVars_ThisDefinitionID))});
                                    
                                    If(IsBlank(envVars_ThisCurrentValue), NewForm(formUpdateEnvVar), EditForm(formUpdateEnvVar))
                                TemplateFill: =If(ThisItem.IsSelected, ColorFade(RGBA(241, 241, 241, 1), .5), White)
                                TemplateSize: =If(Self.Layout = Layout.Horizontal, Min(120, Self.Width - 60), Min(120, Self.Height - 60))
                                ZIndex: =2

                                lblEnvVarTitle As label:
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(51, 51, 51, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    Height: =46
                                    OnSelect: =Select(Parent)
                                    Size: =11
                                    Text: =ThisItem.'Display Name'
                                    Width: =410
                                    X: =16
                                    Y: =4
                                    ZIndex: =1

                                icoEnvVar As icon.ChevronRight:
                                    BorderColor: =RGBA(166, 166, 166, 1)
                                    Color: =RGBA(105, 121, 126, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(220, 220, 220, 1)
                                    DisabledFill: =RGBA(0, 0, 0, 0)
                                    FocusedBorderThickness: =4
                                    Height: =60
                                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                                    HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                                    HoverFill: =RGBA(0, 0, 0, 0)
                                    Icon: =Icon.ChevronRight
                                    OnSelect: =Select(Parent)
                                    PaddingBottom: =10
                                    PaddingLeft: =10
                                    PaddingRight: =10
                                    PaddingTop: =10
                                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                                    PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                                    PressedFill: =RGBA(0, 0, 0, 0)
                                    Width: =50
                                    X: =galCoEEnvVars.TemplateWidth - icoEnvVar.Width
                                    Y: =15
                                    ZIndex: =2

                                lblEnvVarDescription As label:
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(153, 153, 153, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    Height: =72
                                    OnSelect: =Select(Parent)
                                    Size: =11
                                    Text: =ThisItem.Description
                                    VerticalAlign: =VerticalAlign.Top
                                    Width: =452
                                    X: =17
                                    Y: =39
                                    ZIndex: =3

                        Container2 As groupContainer.verticalAutoLayoutContainer:
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutMinHeight: =100
                            LayoutMinWidth: =250
                            LayoutMode: =LayoutMode.Auto
                            ZIndex: =4

                            lblDefaultValue As label:
                                AlignInContainer: =AlignInContainer.Stretch
                                BorderColor: =RGBA(0, 0, 0, 0)
                                BorderStyle: =BorderStyle.None
                                BorderThickness: =2
                                Color: =RGBA(51, 51, 51, 1)
                                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                FocusedBorderThickness: =4
                                Font: =Font.'Segoe UI'
                                FontWeight: =FontWeight.Semibold
                                PaddingLeft: =25
                                Size: =13
                                Text: ="Default Value"
                                ZIndex: =1

                            txtDefaultValue As text:
                                AlignInContainer: =AlignInContainer.Stretch
                                BorderColor: =RGBA(166, 166, 166, 1)
                                BorderThickness: =2
                                Color: =RGBA(51, 51, 51, 1)
                                Default: =galCoEEnvVars.Selected.'Default Value'
                                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =RGBA(244, 244, 244, 1)
                                DisplayMode: =DisplayMode.Disabled
                                FillPortions: =0.5
                                FocusedBorderThickness: =4
                                Font: =Font.'Segoe UI'
                                Height: =60
                                HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                                HoverColor: =RGBA(51, 51, 51, 1)
                                HoverFill: =RGBA(255, 255, 255, 1)
                                Mode: =TextMode.MultiLine
                                PaddingLeft: =25
                                PressedBorderColor: =RGBA(105, 121, 126, 1)
                                PressedColor: =RGBA(51, 51, 51, 1)
                                PressedFill: =RGBA(255, 255, 255, 1)
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =13
                                ZIndex: =2

                            formUpdateEnvVar As form:
                                AcceptsFocus: =false
                                BorderColor: =RGBA(166, 166, 166, 1)
                                DataSource: ='Environment Variable Values'
                                DefaultMode: =FormMode.New
                                Item: =LookUp('Environment Variable Values', 'Environment Variable Definition'.'Environment Variable Definition' = galCoEEnvVars.Selected.'Environment Variable Definition')
                                LayoutMinHeight: =250
                                LayoutMinWidth: =400
                                NumberOfColumns: =1
                                OnSuccess: =Notify("The Environment Variable " & galCoEEnvVars.Selected.'Display Name' & " has been updated. Please reset flows to see this updated", Success)
                                ZIndex: =3

                                "'Schema Name_DataCard1' As typedDataCard.textualEditCard":
                                    BorderColor: =RGBA(166, 166, 166, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    DataField: ="schemaname"
                                    Default: =ThisItem.'Schema Name'
                                    DisplayMode: =Parent.DisplayMode
                                    DisplayName: ="Schema Name"
                                    Fill: =RGBA(0, 0, 0, 0)
                                    Height: =50
                                    MaxLength: =DataSourceInfo([@'Environment Variable Values'], DataSourceInfo.MaxLength, "schemaname")
                                    Required: =true
                                    Update: =DataCardValue22.Text
                                    Visible: =false
                                    Width: =632
                                    X: =0
                                    Y: =1
                                    ZIndex: =1

                                    DataCardKey22 As label:
                                        AutoHeight: =true
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(51, 51, 51, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        FontWeight: =FontWeight.Semibold
                                        Height: =34
                                        PaddingLeft: =0
                                        Size: =13
                                        Text: =Parent.DisplayName
                                        Width: =Parent.Width - 60
                                        Wrap: =false
                                        X: =30
                                        Y: =10
                                        ZIndex: =1

                                    DataCardValue22 As text:
                                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                        BorderThickness: =2
                                        Color: =RGBA(51, 51, 51, 1)
                                        Default: =galCoEEnvVars.Selected.'Schema Name'
                                        DelayOutput: =true
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        DisabledFill: =RGBA(244, 244, 244, 1)
                                        DisplayMode: =Parent.DisplayMode
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                                        HoverColor: =RGBA(51, 51, 51, 1)
                                        HoverFill: =RGBA(255, 255, 255, 1)
                                        MaxLength: =Parent.MaxLength
                                        PaddingLeft: =5
                                        PressedBorderColor: =RGBA(105, 121, 126, 1)
                                        PressedColor: =RGBA(51, 51, 51, 1)
                                        PressedFill: =RGBA(255, 255, 255, 1)
                                        RadiusBottomLeft: =0
                                        RadiusBottomRight: =0
                                        RadiusTopLeft: =0
                                        RadiusTopRight: =0
                                        Size: =13
                                        Tooltip: =Parent.DisplayName
                                        Width: =Parent.Width - 60
                                        X: =30
                                        Y: =DataCardKey22.Y + DataCardKey22.Height + 5
                                        ZIndex: =2

                                    ErrorMessage22 As label:
                                        AutoHeight: =true
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(168, 0, 0, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(168, 0, 0, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        FontWeight: =FontWeight.Semibold
                                        Height: =10
                                        Live: =Live.Assertive
                                        PaddingBottom: =0
                                        PaddingLeft: =0
                                        PaddingRight: =0
                                        PaddingTop: =0
                                        Size: =13
                                        Text: =Parent.Error
                                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                                        Width: =Parent.Width - 60
                                        X: =30
                                        Y: =DataCardValue22.Y + DataCardValue22.Height
                                        ZIndex: =3

                                    StarVisible22 As label:
                                        Align: =Align.Center
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(51, 51, 51, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        FontWeight: =FontWeight.Semibold
                                        Height: =DataCardKey22.Height
                                        PaddingLeft: =0
                                        Size: =13
                                        Text: ="*"
                                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                        Width: =30
                                        Wrap: =false
                                        Y: =DataCardKey22.Y
                                        ZIndex: =4

                                Value_DataCard1 As typedDataCard.textualMultiLineEditCard:
                                    BorderColor: =RGBA(166, 166, 166, 1)
                                    BorderStyle: =BorderStyle.Solid
                                    DataField: ="value"
                                    Default: =ThisItem.Value
                                    DisplayMode: =Parent.DisplayMode
                                    DisplayName: ="Value"
                                    Fill: =RGBA(0, 0, 0, 0)
                                    Height: =50
                                    Required: =false
                                    Update: =DataCardValue1.Text
                                    Width: =formUpdateEnvVar.Width
                                    X: =0
                                    Y: =0
                                    ZIndex: =3

                                    DataCardKey1 As label:
                                        AutoHeight: =true
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(51, 51, 51, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        FontWeight: =FontWeight.Semibold
                                        Height: =34
                                        PaddingLeft: =0
                                        Size: =13
                                        Text: ="Current Value"
                                        Width: =Parent.Width - 60
                                        Wrap: =false
                                        X: =30
                                        Y: =10
                                        ZIndex: =1

                                    DataCardValue1 As text:
                                        BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                        BorderThickness: =2
                                        Color: =RGBA(51, 51, 51, 1)
                                        Default: =Parent.Default
                                        DelayOutput: =true
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        DisabledFill: =RGBA(244, 244, 244, 1)
                                        DisplayMode: =Parent.DisplayMode
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        Height: =80
                                        HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                                        HoverColor: =RGBA(51, 51, 51, 1)
                                        HoverFill: =RGBA(255, 255, 255, 1)
                                        Mode: =TextMode.MultiLine
                                        PaddingLeft: =5
                                        PressedBorderColor: =RGBA(105, 121, 126, 1)
                                        PressedColor: =RGBA(51, 51, 51, 1)
                                        PressedFill: =RGBA(255, 255, 255, 1)
                                        RadiusBottomLeft: =0
                                        RadiusBottomRight: =0
                                        RadiusTopLeft: =0
                                        RadiusTopRight: =0
                                        Reset: =true
                                        Size: =13
                                        Tooltip: =Parent.DisplayName
                                        Width: =Parent.Width - 60
                                        X: =30
                                        Y: =DataCardKey1.Y + DataCardKey1.Height + 5
                                        ZIndex: =2

                                    ErrorMessage1 As label:
                                        AutoHeight: =true
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(168, 0, 0, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(168, 0, 0, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        FontWeight: =FontWeight.Semibold
                                        Height: =10
                                        Live: =Live.Assertive
                                        PaddingBottom: =0
                                        PaddingLeft: =0
                                        PaddingRight: =0
                                        PaddingTop: =0
                                        Size: =13
                                        Text: =Parent.Error
                                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                                        Width: =Parent.Width - 60
                                        X: =30
                                        Y: =DataCardValue1.Y + DataCardValue1.Height
                                        ZIndex: =3

                                    StarVisible1 As label:
                                        Align: =Align.Center
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(51, 51, 51, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        FontWeight: =FontWeight.Semibold
                                        Height: =DataCardKey1.Height
                                        PaddingLeft: =0
                                        Size: =13
                                        Text: ="*"
                                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                        Width: =30
                                        Wrap: =false
                                        Y: =DataCardKey1.Y
                                        ZIndex: =4

                            Container10 As groupContainer.horizontalAutoLayoutContainer:
                                FillPortions: =0.1
                                LayoutGap: =10
                                LayoutJustifyContent: =LayoutJustifyContent.End
                                LayoutMinHeight: =50
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                ZIndex: =4

                                btnResetFlows As button:
                                    AlignInContainer: =AlignInContainer.End
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderThickness: =0
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    DisabledFill: =RGBA(244, 244, 244, 1)
                                    Fill: =var_powerappspurple
                                    FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                                    Font: =Font.'Segoe UI'
                                    FontWeight: =FontWeight.Semibold
                                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                                    HoverColor: =RGBA(0, 0, 0, 1)
                                    HoverFill: =ColorFade(RGBA(105, 121, 126, 0.1), -10%)
                                    OnSelect: |-
                                        =UpdateContext({showLoading: true});
                                        
                                        //get flows
                                        ClearCollect(CurrentCoEFlows, 'CommandCenterApp>GetCoEFlows'.Run(CoE_Envt, true));
                                        
                                        //create collection
                                        Clear(flowsToReset_EnvVar);
                                        ForAll(SortByColumns(Filter(EnvVarMetadata, metaName = galCoEEnvVars.Selected.'Display Name'), "metaOrder"), 
                                            Collect(flowsToReset_EnvVar,
                                                {
                                                    FlowID: First(Filter(CurrentCoEFlows, FlowDisplayName = metaFlows)).FlowGUID,
                                                    FlowName: metaFlows, 
                                                    FlowState: First(Filter(CurrentCoEFlows, FlowDisplayName = metaFlows)).FlowState
                                                }));
                                        RemoveIf(flowsToReset_EnvVar, IsBlank(FlowID)); //remove flows the user has not setup
                                        
                                        UpdateContext({showGallery: true});
                                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                                    PressedColor: =RGBA(0, 0, 0, 1)
                                    PressedFill: =ColorFade(RGBA(105, 121, 126, 0.01), -30%)
                                    RadiusBottomLeft: =3
                                    RadiusBottomRight: =3
                                    RadiusTopLeft: =3
                                    RadiusTopRight: =3
                                    Size: =12
                                    Text: ="Reset Flows"
                                    Tooltip: ="After you update the value, quickly turns all related flows off and on to get new value into the flows"
                                    Visible: |-
                                        =//testing the teams capability so leaving in place until validated
                                        //If(CountRows(Filter(EnvVarMetadata, metaName = galCoEEnvVars.Selected.'Display Name').metaName) && !CoE_Envt_isTeams && !IsBlank(CoE_Envt), true, false)
                                        
                                        If(CountRows(Filter(EnvVarMetadata, metaName = galCoEEnvVars.Selected.'Display Name').metaName) && !IsBlank(CoE_Envt), true, false)
                                    Width: =100
                                    ZIndex: =1

                                btnDelete As button:
                                    AlignInContainer: =AlignInContainer.End
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderThickness: =0
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    DisabledFill: =RGBA(244, 244, 244, 1)
                                    Fill: =var_powerappspurple
                                    FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                                    Font: =Font.'Segoe UI'
                                    FontWeight: =FontWeight.Semibold
                                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                                    HoverColor: =RGBA(0, 0, 0, 1)
                                    HoverFill: =ColorFade(RGBA(105, 121, 126, 0.1), -10%)
                                    OnSelect: |-
                                        =RemoveIf('Environment Variable Values', 'Environment Variable Value' = envVars_ThisCurrentValue.'Environment Variable Value');
                                        ResetForm(formUpdateEnvVar);
                                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                                    PressedColor: =RGBA(0, 0, 0, 1)
                                    PressedFill: =ColorFade(RGBA(105, 121, 126, 0.01), -30%)
                                    RadiusBottomLeft: =3
                                    RadiusBottomRight: =3
                                    RadiusTopLeft: =3
                                    RadiusTopRight: =3
                                    Size: =12
                                    Text: ="Delete"
                                    Visible: =!IsBlank(envVars_ThisCurrentValue)
                                    Width: =100
                                    ZIndex: =2

                                btnSave As button:
                                    AlignInContainer: =AlignInContainer.End
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderThickness: =0
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    DisabledFill: =RGBA(244, 244, 244, 1)
                                    Fill: =var_powerappspurple
                                    FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                                    Font: =Font.'Segoe UI'
                                    FontWeight: =FontWeight.Semibold
                                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                                    HoverColor: =RGBA(0, 0, 0, 1)
                                    HoverFill: =ColorFade(RGBA(105, 121, 126, 0.1), -10%)
                                    OnSelect: =SubmitForm(formUpdateEnvVar);
                                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                                    PressedColor: =RGBA(0, 0, 0, 1)
                                    PressedFill: =ColorFade(RGBA(105, 121, 126, 0.01), -30%)
                                    RadiusBottomLeft: =3
                                    RadiusBottomRight: =3
                                    RadiusTopLeft: =3
                                    RadiusTopRight: =3
                                    Size: =12
                                    Text: ="Save"
                                    Width: =100
                                    ZIndex: =3

    grpLoading_envvars As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =11

        rctLoading_1 As rectangle:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            DisabledFill: =RGBA(255, 255, 255, 0.7)
            Fill: =RGBA(255, 255, 255, 0.7)
            FocusedBorderThickness: =4
            Height: =scr_EditBookmarks.Height
            HoverFill: =RGBA(255, 255, 255, 0.7)
            PressedFill: =RGBA(255, 255, 255, 0.7)
            Visible: =showLoading
            Width: =Parent.Width
            ZIndex: =2

        "FlowsToReset As gallery.'BrowseLayout_Vertical_TwoTextOneImageVariant_ver4.0'":
            BorderColor: =RGBA(166, 166, 166, 1)
            Fill: =RGBA(255, 255, 255, 1)
            Height: =Min(Parent.Height * .8, CountRows(flowsToReset_EnvVar) * 40 + 40)
            Items: =flowsToReset_EnvVar
            Layout: =Layout.Vertical
            TemplateSize: =40
            Visible: =showGallery
            Width: =Parent.Width * .8
            X: =Parent.Width * .1
            Y: =Parent.Height * .1
            ZIndex: =6

            FlowToReset As label:
                Color: =RGBA(51, 51, 51, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Font: =Font.'Segoe UI'
                Height: =30
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =11
                Text: =ThisItem.FlowName
                Width: =FlowsToReset.Width - 300
                X: =20
                ZIndex: =1

            Separator2_1 As rectangle:
                BorderColor: =RGBA(0, 0, 0, 0)
                Fill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                Height: =1
                OnSelect: =Select(Parent)
                Width: =Parent.TemplateWidth
                Y: =Parent.TemplateHeight - 1
                ZIndex: =2

            FlowToReset_State As label:
                Color: =RGBA(51, 51, 51, 1)
                DisabledColor: =RGBA(166, 166, 166, 1)
                Font: =Font.'Segoe UI'
                Height: =FlowToReset.Height
                OnSelect: =Select(Parent)
                PaddingBottom: =0
                PaddingLeft: =0
                PaddingRight: =0
                PaddingTop: =0
                Size: =11
                Text: =ThisItem.FlowState
                Width: =100
                X: =FlowToReset_On.X -Self.Width - 25
                Y: =FlowToReset.Y
                ZIndex: =3

            FlowToReset_Off As image:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =FlowToReset_On.Height
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverFill: =RGBA(0, 0, 0, 0)
                Image: =off
                OnSelect: |-
                    =UpdateContext({statusText: "Turning on " & ThisItem.FlowName});
                    UpdateContext({showStatus: true});
                    If('CommandCenterApp>SetCoEFlowsState'.Run(CoE_Envt, true, ThisItem.FlowID).return = "pass", UpdateIf(flowsToReset_EnvVar, FlowID=ThisItem.FlowID, {FlowState: "Started"}));
                    UpdateContext({showStatus: false});
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedFill: =RGBA(0, 0, 0, 0)
                Visible: =ThisItem.FlowState = "Stopped"
                Width: =FlowToReset_On.Width
                X: =FlowToReset_On.X
                Y: =FlowToReset_On.Y
                ZIndex: =4

            FlowToReset_On As image:
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderStyle: =BorderStyle.None
                BorderThickness: =2
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledFill: =RGBA(0, 0, 0, 0)
                FocusedBorderThickness: =4
                Height: =FlowToReset.Height
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverFill: =RGBA(0, 0, 0, 0)
                Image: =on
                OnSelect: |-
                    =UpdateContext({showStatus: true});
                    UpdateContext({statusText: "Turning off " & ThisItem.FlowName});
                    If('CommandCenterApp>SetCoEFlowsState'.Run(CoE_Envt, false, ThisItem.FlowID).return = "pass", UpdateIf(flowsToReset_EnvVar, FlowID=ThisItem.FlowID, {FlowState: "Stopped"}));
                    UpdateContext({showStatus: false});
                PressedBorderColor: =RGBA(0, 0, 0, 0)
                PressedFill: =RGBA(0, 0, 0, 0)
                Visible: =ThisItem.FlowState = "Started"
                Width: =Self.Height
                X: =Parent.Width - Self.Width - 25
                Y: =FlowToReset.Y
                ZIndex: =5

        ResetHowTo As label:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(255, 255, 255, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Fill: =RGBA(105, 121, 126, 1)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            FontWeight: =Semibold
            Size: =12
            Text: ="Flows cache env vars. Turn all impacted flows off, and then back on in order shown to see new value"
            Visible: =showGallery
            Width: =FlowsToReset.Width - 160
            X: =FlowsToReset.X
            Y: =FlowsToReset.Y-40
            ZIndex: =7

        ResetNext As button:
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderThickness: =0
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            DisabledFill: =RGBA(244, 244, 244, 1)
            Fill: =RGBA(105, 121, 126, 1)
            FocusedBorderColor: =ColorFade(Self.Fill, -75%)
            Font: =Font.'Segoe UI'
            FontWeight: =FontWeight.Semibold
            HoverBorderColor: =RGBA(0, 0, 0, 0)
            HoverColor: =RGBA(255, 255, 255, 1)
            HoverFill: =ColorFade(RGBA(105, 121, 126, 1), -10%)
            OnSelect: |-
                =UpdateContext({showLoading: false});
                UpdateContext({showGallery: false});
            PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
            PressedColor: =RGBA(255, 255, 255, 1)
            PressedFill: =ColorFade(RGBA(105, 121, 126, 1), -30%)
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =12
            Text: ="Done"
            Visible: =showGallery
            X: =ResetHowTo.X+ResetHowTo.Width
            Y: =FlowsToReset.Y-40
            ZIndex: =8

        lblLoading_envvars As label:
            Align: =Align.Center
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(255, 255, 255, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Fill: =RGBA(105, 121, 126, 1)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            FontWeight: =Semibold
            Height: =57
            Size: =13
            Text: =statusText
            Visible: =showStatus
            Width: =447
            X: =scr_EditBookmarks.Width / 2 - lblLoading_envvars.Width / 2
            Y: =FlowsToReset.Y + 150
            ZIndex: =9

