{
  "properties": {
    "connectionReferences": {
      "shared_commondataserviceforapps": {
        "runtimeSource": "embedded",
        "connection": {
          "connectionReferenceLogicalName": "admin_sharedcommondataserviceforapps_98924"
        },
        "api": {
          "name": "shared_commondataserviceforapps"
        }
      },
      "shared_powerplatformforadmins_1": {
        "runtimeSource": "embedded",
        "connection": {
          "connectionReferenceLogicalName": "admin_CoECorePowerPlatformforAdmins"
        },
        "api": {
          "name": "shared_powerplatformforadmins"
        }
      },
      "shared_powerappsforadmins": {
        "runtimeSource": "embedded",
        "connection": {
          "connectionReferenceLogicalName": "admin_CoECorePowerAppsAdmin2"
        },
        "api": {
          "name": "shared_powerappsforadmins"
        }
      },
      "shared_flowmanagement": {
        "runtimeSource": "embedded",
        "connection": {
          "connectionReferenceLogicalName": "admin_CoECorePowerAutomateManagement"
        },
        "api": {
          "name": "shared_flowmanagement"
        }
      }
    },
    "definition": {
      "$schema": "https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#",
      "contentVersion": "1.0.0.0",
      "parameters": {
        "$connections": {
          "defaultValue": {},
          "type": "Object"
        },
        "$authentication": {
          "defaultValue": {},
          "type": "SecureObject"
        },
        "Power Automate Environment Variable (admin_PowerAutomateEnvironmentVariable)": {
          "defaultValue": "https://flow.microsoft.com/manage/environments/",
          "type": "String",
          "metadata": {
            "schemaName": "admin_PowerAutomateEnvironmentVariable",
            "description": "REQUIRED. Environment, including geographic location, for Power Automate - Ex for commercial: https://flow.microsoft.com/manage/environments/"
          }
        },
        "TenantID (admin_TenantID)": {
          "defaultValue": "8a235459-3d2c-415d-8c1e-e2fe133509ad",
          "type": "String",
          "metadata": {
            "schemaName": "admin_TenantID",
            "description": "REQUIRED. Azure Tenant ID"
          }
        }
      },
      "triggers": {
        "manual": {
          "metadata": {
            "operationMetadataId": "71ea05e6-f411-4d5f-95b9-e8766f386d4f"
          },
          "type": "Request",
          "kind": "PowerAppV2",
          "inputs": {
            "schema": {
              "type": "object",
              "properties": {},
              "required": []
            }
          }
        }
      },
      "actions": {
        "Add_or_update_data": {
          "actions": {
            "Apps": {
              "actions": {
                "Apply_to_each_-_App": {
                  "foreach": "@body('Parse_JSON_-_Apps')",
                  "actions": {
                    "Canvas_or_Model_Driven": {
                      "actions": {
                        "Filter_array_-_Apps": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "f66a4cd5-6e40-49a4-b28f-7934369f238b"
                          },
                          "type": "Query",
                          "inputs": {
                            "from": "@body('Select_Envt_PowerApps')",
                            "where": "@equals(item()?['DisplayName'], items('Apply_to_each_-_App')['ObjectName'])"
                          }
                        },
                        "Add_if_in_tenant_-_Apps": {
                          "actions": {
                            "See_if_already_exists_-_Apps": {
                              "runAfter": {},
                              "metadata": {
                                "operationMetadataId": "6e243b6d-b2ce-40e3-9c02-5ac90fd2af44"
                              },
                              "type": "OpenApiConnection",
                              "inputs": {
                                "host": {
                                  "connectionName": "shared_commondataserviceforapps",
                                  "operationId": "ListRecords",
                                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                },
                                "parameters": {
                                  "entityName": "admin_coesolutionmetadatas",
                                  "$select": "admin_coesolutionmetadataid",
                                  "$filter": "admin_objectname eq '@{items('Apply_to_each_-_App')['ObjectName']}'",
                                  "$top": 1
                                },
                                "authentication": "@parameters('$authentication')"
                              }
                            },
                            "Add_if_does_not_exist_-_Apps": {
                              "actions": {
                                "Add_Metadata_-_Apps": {
                                  "runAfter": {},
                                  "metadata": {
                                    "operationMetadataId": "0354a06a-94fa-448c-a043-8ff26fb50aed"
                                  },
                                  "type": "OpenApiConnection",
                                  "inputs": {
                                    "host": {
                                      "connectionName": "shared_commondataserviceforapps",
                                      "operationId": "CreateRecord",
                                      "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                    },
                                    "parameters": {
                                      "entityName": "admin_coesolutionmetadatas",
                                      "item/admin_objectname": "@items('Apply_to_each_-_App')['ObjectName']",
                                      "item/admin_coesolution": "@items('Apply_to_each_-_App')['CoESolution']",
                                      "item/admin_coesolutionarea": "@items('Apply_to_each_-_App')['CoESolutionArea']",
                                      "item/admin_flag": "@items('Apply_to_each_-_App')['Flag']",
                                      "item/admin_helplink": "@items('Apply_to_each_-_App')['HelpLink']",
                                      "item/admin_installorder": "@items('Apply_to_each_-_App')['InstallOrder']",
                                      "item/admin_objectguid": "@if(equals(length(body('Filter_array_-_Apps')), 0), '',  first(body('Filter_array_-_Apps'))?['GUID'])",
                                      "item/admin_objectismanaged": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestIsManaged'), true))))))",
                                      "item/admin_objectmakerurl": "@if(equals(length(body('Filter_array_-_Apps')), 0), '',  first(body('Filter_array_-_Apps'))?['MakerURL'])",
                                      "item/admin_objecttype": "@items('Apply_to_each_-_App')['ObjectType']",
                                      "item/admin_objecturl": "@if(equals(length(body('Filter_array_-_Apps')), 0), '',  first(body('Filter_array_-_Apps'))?['PlayerURL'])",
                                      "item/admin_rerunonupgrade": false,
                                      "item/admin_shipon": "@items('Apply_to_each_-_App')['ShipOn']",
                                      "item/admin_solutionid": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestID'), 'error'))))))",
                                      "item/admin_usedforbyodlcoe": true,
                                      "item/admin_usedforsyncflowcoe": true
                                    },
                                    "authentication": "@parameters('$authentication')"
                                  }
                                }
                              },
                              "runAfter": {
                                "See_if_already_exists_-_Apps": [
                                  "Succeeded"
                                ]
                              },
                              "else": {
                                "actions": {
                                  "Update_Metadata_-_Apps": {
                                    "runAfter": {},
                                    "metadata": {
                                      "operationMetadataId": "91b971ab-f833-44e9-8015-a5b3ba1dda5a"
                                    },
                                    "type": "OpenApiConnection",
                                    "inputs": {
                                      "host": {
                                        "connectionName": "shared_commondataserviceforapps",
                                        "operationId": "UpdateRecord",
                                        "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                      },
                                      "parameters": {
                                        "entityName": "admin_coesolutionmetadatas",
                                        "recordId": "@first(outputs('See_if_already_exists_-_Apps')?['body/value'])?['admin_coesolutionmetadataid']",
                                        "item/admin_objectname": "@items('Apply_to_each_-_App')['ObjectName']",
                                        "item/admin_coesolution": "@items('Apply_to_each_-_App')['CoESolution']",
                                        "item/admin_coesolutionarea": "@items('Apply_to_each_-_App')['CoESolutionArea']",
                                        "item/admin_flag": "@items('Apply_to_each_-_App')['Flag']",
                                        "item/admin_helplink": "@items('Apply_to_each_-_App')['HelpLink']",
                                        "item/admin_installorder": "@items('Apply_to_each_-_App')['InstallOrder']",
                                        "item/admin_objectguid": "@if(equals(length(body('Filter_array_-_Apps')), 0), '',  first(body('Filter_array_-_Apps'))?['GUID'])",
                                        "item/admin_objectismanaged": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestIsManaged'), true))))))",
                                        "item/admin_objectmakerurl": "@if(equals(length(body('Filter_array_-_Apps')), 0), '',  first(body('Filter_array_-_Apps'))?['MakerURL'])",
                                        "item/admin_objecttype": "@items('Apply_to_each_-_App')['ObjectType']",
                                        "item/admin_objecturl": "@if(equals(length(body('Filter_array_-_Apps')), 0), '',  first(body('Filter_array_-_Apps'))?['PlayerURL'])",
                                        "item/admin_rerunonupgrade": false,
                                        "item/admin_shipon": "@items('Apply_to_each_-_App')['ShipOn']",
                                        "item/admin_solutionid": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestID'), 'error'))))))",
                                        "item/admin_usedforbyodlcoe": true,
                                        "item/admin_usedforsyncflowcoe": true
                                      },
                                      "authentication": "@parameters('$authentication')"
                                    }
                                  }
                                }
                              },
                              "expression": {
                                "less": [
                                  "@length(outputs('See_if_already_exists_-_Apps')?['body/value'])",
                                  1
                                ]
                              },
                              "metadata": {
                                "operationMetadataId": "ac003774-a532-4e00-b8e6-770b7ad14455"
                              },
                              "type": "If"
                            }
                          },
                          "runAfter": {
                            "Filter_array_-_Apps": [
                              "Succeeded"
                            ]
                          },
                          "expression": {
                            "greater": [
                              "@length(body('Filter_array_-_Apps'))",
                              0
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "0f5ebba5-09fc-40cb-b8ce-c81b57fbe813"
                          },
                          "type": "If"
                        }
                      },
                      "runAfter": {},
                      "else": {
                        "actions": {
                          "Filter_array_-_Model_Driven_Apps": {
                            "runAfter": {},
                            "metadata": {
                              "operationMetadataId": "f66a4cd5-6e40-49a4-b28f-7934369f238b"
                            },
                            "type": "Query",
                            "inputs": {
                              "from": "@body('Select_Envt_Model_Driven_Apps')",
                              "where": "@equals(item()?['DisplayName'], items('Apply_to_each_-_App')['ObjectName'])"
                            }
                          },
                          "Add_if_in_tenant_-_Model_Driven_Apps": {
                            "actions": {
                              "See_if_already_exists_-_Model_Driven_Apps": {
                                "runAfter": {},
                                "metadata": {
                                  "operationMetadataId": "6e243b6d-b2ce-40e3-9c02-5ac90fd2af44"
                                },
                                "type": "OpenApiConnection",
                                "inputs": {
                                  "host": {
                                    "connectionName": "shared_commondataserviceforapps",
                                    "operationId": "ListRecords",
                                    "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                  },
                                  "parameters": {
                                    "entityName": "admin_coesolutionmetadatas",
                                    "$select": "admin_coesolutionmetadataid",
                                    "$filter": "admin_objectname eq '@{items('Apply_to_each_-_App')['ObjectName']}'",
                                    "$top": 1
                                  },
                                  "authentication": "@parameters('$authentication')"
                                }
                              },
                              "Add_if_does_not_exist_-_Model_Driven_Apps": {
                                "actions": {
                                  "Add_Metadata_-_Model_Driven_Apps": {
                                    "runAfter": {},
                                    "metadata": {
                                      "operationMetadataId": "0354a06a-94fa-448c-a043-8ff26fb50aed"
                                    },
                                    "type": "OpenApiConnection",
                                    "inputs": {
                                      "host": {
                                        "connectionName": "shared_commondataserviceforapps",
                                        "operationId": "CreateRecord",
                                        "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                      },
                                      "parameters": {
                                        "entityName": "admin_coesolutionmetadatas",
                                        "item/admin_objectname": "@items('Apply_to_each_-_App')['ObjectName']",
                                        "item/admin_coesolution": "@items('Apply_to_each_-_App')['CoESolution']",
                                        "item/admin_coesolutionarea": "@items('Apply_to_each_-_App')['CoESolutionArea']",
                                        "item/admin_flag": "@items('Apply_to_each_-_App')['Flag']",
                                        "item/admin_helplink": "@items('Apply_to_each_-_App')['HelpLink']",
                                        "item/admin_installorder": "@items('Apply_to_each_-_App')['InstallOrder']",
                                        "item/admin_objectguid": "@if(equals(length(body('Filter_array_-_Model_Driven_Apps')), 0), '',  first(body('Filter_array_-_Model_Driven_Apps'))?['ProductGUID'])",
                                        "item/admin_objectismanaged": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestIsManaged'), true))))))",
                                        "item/admin_objectmakerurl": "@if(equals(length(body('Filter_array_-_Model_Driven_Apps')), 0), '',  first(body('Filter_array_-_Model_Driven_Apps'))?['MakerURL'])",
                                        "item/admin_objecttype": "@items('Apply_to_each_-_App')['ObjectType']",
                                        "item/admin_objecturl": "@if(equals(length(body('Filter_array_-_Model_Driven_Apps')), 0), '',  first(body('Filter_array_-_Model_Driven_Apps'))?['PlayerURL'])",
                                        "item/admin_rerunonupgrade": false,
                                        "item/admin_shipon": "@items('Apply_to_each_-_App')['ShipOn']",
                                        "item/admin_solutionid": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestID'), 'error'))))))",
                                        "item/admin_usedforbyodlcoe": true,
                                        "item/admin_usedforsyncflowcoe": true
                                      },
                                      "authentication": "@parameters('$authentication')"
                                    }
                                  }
                                },
                                "runAfter": {
                                  "See_if_already_exists_-_Model_Driven_Apps": [
                                    "Succeeded"
                                  ]
                                },
                                "else": {
                                  "actions": {
                                    "Update_Metadata_-_Model_Driven_Apps": {
                                      "runAfter": {},
                                      "metadata": {
                                        "operationMetadataId": "91b971ab-f833-44e9-8015-a5b3ba1dda5a"
                                      },
                                      "type": "OpenApiConnection",
                                      "inputs": {
                                        "host": {
                                          "connectionName": "shared_commondataserviceforapps",
                                          "operationId": "UpdateRecord",
                                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                        },
                                        "parameters": {
                                          "entityName": "admin_coesolutionmetadatas",
                                          "recordId": "@first(outputs('See_if_already_exists_-_Model_Driven_Apps')?['body/value'])?['admin_coesolutionmetadataid']",
                                          "item/admin_objectname": "@items('Apply_to_each_-_App')['ObjectName']",
                                          "item/admin_coesolution": "@items('Apply_to_each_-_App')['CoESolution']",
                                          "item/admin_coesolutionarea": "@items('Apply_to_each_-_App')['CoESolutionArea']",
                                          "item/admin_flag": "@items('Apply_to_each_-_App')['Flag']",
                                          "item/admin_helplink": "@items('Apply_to_each_-_App')['HelpLink']",
                                          "item/admin_installorder": "@items('Apply_to_each_-_App')['InstallOrder']",
                                          "item/admin_objectguid": "@if(equals(length(body('Filter_array_-_Model_Driven_Apps')), 0), '',  first(body('Filter_array_-_Model_Driven_Apps'))?['ProductGUID'])",
                                          "item/admin_objectismanaged": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureIsManaged'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestIsManaged'), true))))))",
                                          "item/admin_objectmakerurl": "@if(equals(length(body('Filter_array_-_Model_Driven_Apps')), 0), '',  first(body('Filter_array_-_Model_Driven_Apps'))?['MakerURL'])",
                                          "item/admin_objecttype": "@items('Apply_to_each_-_App')['ObjectType']",
                                          "item/admin_objecturl": "@if(equals(length(body('Filter_array_-_Model_Driven_Apps')), 0), '',  first(body('Filter_array_-_Model_Driven_Apps'))?['PlayerURL'])",
                                          "item/admin_rerunonupgrade": false,
                                          "item/admin_shipon": "@items('Apply_to_each_-_App')['ShipOn']",
                                          "item/admin_solutionid": "@if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Core'),  outputs('CoreID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Governance'),  outputs('GovernanceID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'Nurture'),  outputs('NurtureID'), if(equals(items('Apply_to_each_-_App')['CoESolution'], 'test soln'),  outputs('TestID'), 'error'))))))",
                                          "item/admin_usedforbyodlcoe": true,
                                          "item/admin_usedforsyncflowcoe": true
                                        },
                                        "authentication": "@parameters('$authentication')"
                                      }
                                    }
                                  }
                                },
                                "expression": {
                                  "less": [
                                    "@length(outputs('See_if_already_exists_-_Model_Driven_Apps')?['body/value'])",
                                    1
                                  ]
                                },
                                "metadata": {
                                  "operationMetadataId": "ac003774-a532-4e00-b8e6-770b7ad14455"
                                },
                                "type": "If"
                              }
                            },
                            "runAfter": {
                              "Filter_array_-_Model_Driven_Apps": [
                                "Succeeded"
                              ]
                            },
                            "expression": {
                              "greater": [
                                "@length(body('Filter_array_-_Model_Driven_Apps'))",
                                0
                              ]
                            },
                            "metadata": {
                              "operationMetadataId": "0f5ebba5-09fc-40cb-b8ce-c81b57fbe813"
                            },
                            "type": "If"
                          }
                        }
                      },
                      "expression": {
                        "equals": [
                          "@items('Apply_to_each_-_App')['ObjectType']",
                          "CanvasApp"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "82db7208-a374-44f2-89da-27cf2e514cbf"
                      },
                      "type": "If"
                    }
                  },
                  "runAfter": {
                    "Parse_JSON_-_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "2afdbf28-ad11-4c16-88d2-064924d3a664"
                  },
                  "type": "Foreach"
                },
                "Cleanup_Deleted_-_Apps": {
                  "runAfter": {
                    "Apply_to_each_-_App": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "110f4dbf-528c-458d-adfa-94727ca9bc6f"
                  },
                  "type": "OpenApiConnection",
                  "inputs": {
                    "host": {
                      "connectionName": "shared_commondataserviceforapps",
                      "operationId": "ListRecords",
                      "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                    },
                    "parameters": {
                      "entityName": "admin_coesolutionmetadatas",
                      "$select": "admin_coesolutionmetadataid",
                      "$filter": "modifiedon lt @{body('Get_past_time')} and (admin_objecttype eq 'CanvasApp' or admin_objecttype eq 'ModelDrivenApp')"
                    },
                    "authentication": "@parameters('$authentication')"
                  }
                },
                "Cleanup_Deleted_Apps": {
                  "foreach": "@outputs('Cleanup_Deleted_-_Apps')?['body/value']",
                  "actions": {
                    "Cleanup_Deleted_App": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "9d8b1273-d654-44ce-b410-1c6faaf9d41f"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_commondataserviceforapps",
                          "operationId": "DeleteRecord",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                        },
                        "parameters": {
                          "entityName": "admin_coesolutionmetadatas",
                          "recordId": "@items('Cleanup_Deleted_Apps')?['admin_coesolutionmetadataid']"
                        },
                        "authentication": "@parameters('$authentication')"
                      }
                    }
                  },
                  "runAfter": {
                    "Cleanup_Deleted_-_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "152c5c65-de61-4d69-93d0-f95a12944af4"
                  },
                  "type": "Foreach"
                },
                "Parse_JSON_-_Apps": {
                  "runAfter": {
                    "TenantApps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "4fb6cec5-20a3-4a79-8d76-f5578d1a02c9"
                  },
                  "type": "ParseJson",
                  "inputs": {
                    "content": "@outputs('TenantApps')",
                    "schema": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "ObjectName": {
                            "type": "string"
                          },
                          "CoESolution": {
                            "type": "string"
                          },
                          "CoESolutionArea": {
                            "type": "string"
                          },
                          "Flag": {
                            "type": "string"
                          },
                          "HelpLink": {
                            "type": "string"
                          },
                          "ObjectType": {
                            "type": "string"
                          },
                          "ShipOn": {
                            "type": "boolean"
                          },
                          "InstallOrder": {
                            "type": "integer"
                          }
                        },
                        "required": [
                          "ObjectName",
                          "CoESolution",
                          "CoESolutionArea",
                          "Flag",
                          "HelpLink",
                          "ObjectType",
                          "ShipOn",
                          "InstallOrder"
                        ]
                      }
                    }
                  }
                },
                "Core_Apps": {
                  "runAfter": {},
                  "metadata": {
                    "operationMetadataId": "c5db976b-c6e6-4a14-9efb-ded7a1103f77"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "CoreObjects",
                    "value": [
                      {
                        "ObjectName": "Admin - Access this App",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/setup-powerbi#optional-configure-embedded-apps-in-the-coe-dashboard",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Admin - Access this Flow",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/setup-powerbi#optional-configure-embedded-apps-in-the-coe-dashboard",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Admin - Command Center",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/core-components#admin---command-center",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Admin - Environment Request",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/env-mgmt",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "App Catalog",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/core-components#app-catalog",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Developer Compliance Center (Teams version)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/governance-components#developer-compliance-center",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "DLP Editor V2",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/core-components#dlp-editor-v2",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Maker - Command Center",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/core-components#admin---command-center",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Maker - Environment Request",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/env-mgmt",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Power Platform Admin View",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/core-components#power-platform-admin-view",
                        "ObjectType": "ModelDrivenApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Set App Permissions",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/core-components#set-app-permissions",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Set Flow Permissions",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/core-components#set-flow-permissions",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      }
                    ]
                  }
                },
                "Audit_Logs_Apps": {
                  "runAfter": {
                    "Core_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "424dffdd-0a5c-4526-b6d3-545dc0774b03"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "AuditLogsObjects",
                    "value": []
                  }
                },
                "Governance_Apps": {
                  "runAfter": {
                    "Audit_Logs_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "a1a65162-0c78-4af7-a97b-4ac53b619c9d"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "GovernanceObjects",
                    "value": [
                      {
                        "ObjectName": "App and Flow Inactivity Notifications Clean Up View",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Notifications",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/governance-components#app-and-flow-archive-and-clean-up-view",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Cleanup Old Objects App",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Notifications",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/governance-components#cleanup-old-objects-app",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Developer Compliance Center",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/governance-components#developer-compliance-center",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      }
                    ]
                  }
                },
                "Innovation_Backlog_Apps": {
                  "runAfter": {
                    "Governance_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "4292b7dc-2c91-4c3f-836a-f5685acc1de6"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "InnovationBacklogObjects",
                    "value": [
                      {
                        "ObjectName": "Innovation Backlog",
                        "CoESolution": "Innovation Backlog",
                        "CoESolutionArea": "Innovation Backlog",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/innovationbacklog-components#innovation-backlog-app",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Innovation Backlog Admin",
                        "CoESolution": "Innovation Backlog",
                        "CoESolutionArea": "Innovation Backlog",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/innovationbacklog-components#innovation-backlog-admin-app",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      }
                    ]
                  }
                },
                "Nurture_Apps": {
                  "runAfter": {
                    "Innovation_Backlog_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "cb416b9b-72bb-4e1e-bb33-0555b08e969e"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "NurtureObjects",
                    "value": [
                      {
                        "ObjectName": "Maker Assessment",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/nurture-components#maker-assessment",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Maker Assessment Admin App",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/nurture-components#maker-assessment-admin-app",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Power Platform Training Management",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/nurture-components#training-in-a-day--management",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Power Platform Training Registration",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/nurture-components#training-in-a-day--registration",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Template Catalog",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://docs.microsoft.com/power-platform/guidance/coe/nurture-components#template-catalog",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Video Hub - Admin",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://learn.microsoft.com/power-platform/guidance/coe/nurture-components#video-hub---admin",
                        "ObjectType": "ModelDrivenApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Video Hub",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "https://learn.microsoft.com/power-platform/guidance/coe/nurture-components#video-hub",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      }
                    ]
                  }
                },
                "Test_Apps": {
                  "runAfter": {
                    "Nurture_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "b04f5e03-ceb6-41e5-a6a8-ed7c9849bbd7"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "TestObjects",
                    "value": [
                      {
                        "ObjectName": "Test MDA",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "ModelDrivenApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "App Page",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      },
                      {
                        "ObjectName": "Standalone App",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CanvasApp",
                        "ShipOn": true,
                        "InstallOrder": 1
                      }
                    ]
                  }
                },
                "TenantApps": {
                  "runAfter": {
                    "Test_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "b9094186-9b03-49f0-a875-53840a33ef8c"
                  },
                  "type": "Compose",
                  "inputs": "@union(variables('CoreObjects'), if(equals(outputs('hasAuditLogs'), true), variables('AuditLogsObjects'), variables('CoreObjects')), if(equals(outputs('hasGovernance'), true), variables('GovernanceObjects'), variables('CoreObjects')), if(equals(outputs('hasInnovationBacklog'), true), variables('InnovationBacklogObjects'), variables('CoreObjects')), if(equals(outputs('hasNurture'), true), variables('NurtureObjects'), variables('CoreObjects')), if(equals(outputs('hasTest'), true), variables('TestObjects'), variables('CoreObjects')))"
                }
              },
              "runAfter": {
                "Flows": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "cf0e0e98-d727-4779-9b85-f1dd8e44b0e0"
              },
              "type": "Scope"
            },
            "Get_Tenant_Info": {
              "actions": {
                "Prep_work": {
                  "actions": {
                    "CoE_Envt": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "ef230184-b936-4b8f-b591-9ad02a540b78"
                      },
                      "type": "Compose",
                      "inputs": "@workflow()?['tags']['environmentName']"
                    },
                    "Tenant_ID": {
                      "runAfter": {
                        "CoE_Envt": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "1b430ae6-e6a6-4212-bbb6-c42a76381f48"
                      },
                      "type": "Compose",
                      "inputs": "@parameters('TenantID (admin_TenantID)')"
                    },
                    "Get_Environment_as_Admin": {
                      "runAfter": {
                        "Tenant_ID": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "8771890e-4d4a-44cf-9521-a36fbd032b89"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_powerplatformforadmins_1",
                          "operationId": "GetSingleEnvironment",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_powerplatformforadmins"
                        },
                        "parameters": {
                          "environment": "@outputs('CoE_Envt')",
                          "api-version": "2018-10-01"
                        },
                        "authentication": "@parameters('$authentication')"
                      }
                    }
                  },
                  "runAfter": {},
                  "metadata": {
                    "operationMetadataId": "ee09a7e4-afd6-46fe-822b-72df44bfe921"
                  },
                  "type": "Scope"
                },
                "Canvas_Apps": {
                  "actions": {
                    "Get_Apps_as_Admin": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "a604d373-8596-480f-bce3-a765513203d0"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_powerappsforadmins",
                          "operationId": "Get-AdminApps",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_powerappsforadmins"
                        },
                        "parameters": {
                          "environment": "@outputs('CoE_Envt')",
                          "api-version": "2016-11-01",
                          "$top": 250
                        },
                        "authentication": "@parameters('$authentication')"
                      },
                      "runtimeConfiguration": {
                        "paginationPolicy": {
                          "minimumItemCount": 100000
                        }
                      }
                    },
                    "Select_Envt_PowerApps": {
                      "runAfter": {
                        "Get_Apps_as_Admin": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "5818c134-4631-4bb9-ba79-4fc6fc58f905"
                      },
                      "type": "Select",
                      "inputs": {
                        "from": "@outputs('Get_Apps_as_Admin')?['body/value']",
                        "select": {
                          "GUID": "@item()?['name']",
                          "PlayerURL": "@concat('https://apps.powerapps.com/play/e/', outputs('CoE_Envt'), '/a/', item()?['name'], '?tenantId=', outputs('Tenant_ID'), '&source=portal')",
                          "DisplayName": "@item()?['properties/displayName']",
                          "MakerURL": "@concat('https://make.powerapps.com/e/', outputs('CoE_Envt'), '/canvas/?action=edit&app-id=%2Fproviders%2FMicrosoft.PowerApps%2Fapps%2F', item()?['name'])"
                        }
                      }
                    }
                  },
                  "runAfter": {
                    "Solutions": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "0bd78b2a-81c3-41b8-8f3b-6b56c2db77e0"
                  },
                  "type": "Scope"
                },
                "Model_Driven_Apps": {
                  "actions": {
                    "List_Model_Driven_Apps": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "1fe35b8b-ac1f-4618-afd3-691a6ae4efed"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_commondataserviceforapps",
                          "operationId": "ListRecords",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                        },
                        "parameters": {
                          "entityName": "appmodules",
                          "$select": "appmoduleid, name",
                          "$filter": "appmoduleid ne null"
                        },
                        "authentication": "@parameters('$authentication')"
                      },
                      "runtimeConfiguration": {
                        "paginationPolicy": {
                          "minimumItemCount": 100000
                        }
                      }
                    },
                    "Select_Envt_Model_Driven_Apps": {
                      "runAfter": {
                        "List_Model_Driven_Apps": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "c017cee8-84ff-4e6e-ade2-9661f85a097a"
                      },
                      "type": "Select",
                      "inputs": {
                        "from": "@outputs('List_Model_Driven_Apps')?['body/value']",
                        "select": {
                          "ProductGUID": "@item()?['appmoduleid']",
                          "PlayerURL": "@concat(outputs('Get_Environment_as_Admin')?['body/properties/linkedEnvironmentMetadata/instanceUrl'], 'main.aspx?appid=', item()?['appmoduleid'])",
                          "DisplayName": "@item()?['name']",
                          "MakerURL": "@concat('https://make.powerapps.com/e/', outputs('CoE_Envt'), '/s/00000001-0000-0000-0001-00000000009b/app/edit/', item()?['appmoduleid'])"
                        }
                      }
                    }
                  },
                  "runAfter": {
                    "Canvas_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "4c217764-7e42-4edf-81b0-6aaa30ef1419"
                  },
                  "type": "Scope"
                },
                "Cloud_Flows": {
                  "actions": {
                    "List_Flows_as_Admin": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "09d0c7ce-f5af-47e3-a85d-160ea3ca1f5c"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_flowmanagement",
                          "operationId": "ListFlowsInEnvironment",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_flowmanagement"
                        },
                        "parameters": {
                          "environmentName": "@outputs('CoE_Envt')"
                        },
                        "authentication": "@parameters('$authentication')"
                      },
                      "runtimeConfiguration": {
                        "paginationPolicy": {
                          "minimumItemCount": 100000
                        }
                      }
                    },
                    "Select_Envt_Cloud_Flows": {
                      "runAfter": {
                        "List_Flows_as_Admin": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "375475ff-34b8-4168-9483-596f8f50b5dc"
                      },
                      "type": "Select",
                      "inputs": {
                        "from": "@outputs('List_Flows_as_Admin')?['body/value']",
                        "select": {
                          "GUID": "@item()?['name']",
                          "PlayerURL": "@concat(parameters('Power Automate Environment Variable (admin_PowerAutomateEnvironmentVariable)'), outputs('CoE_Envt'), '/flows/', item()?['name'], '/details')",
                          "DisplayName": "@item()?['properties/displayName']",
                          "WorkflowEntityID": "@item()?['properties/workflowEntityId']",
                          "MakerURL": "@concat('https://make.powerautomate.com/environments/', outputs('CoE_Envt'), '/flows/', item()?['name'])"
                        }
                      }
                    },
                    "Filter_out_non_Soln": {
                      "runAfter": {
                        "Select_Envt_Cloud_Flows": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "27280120-2478-487a-8c0b-c2728d0e6991"
                      },
                      "type": "Query",
                      "inputs": {
                        "from": "@body('Select_Envt_Cloud_Flows')",
                        "where": "@not(equals(item()?['WorkflowEntityID'], null))"
                      }
                    },
                    "List_Unpublished_Cloud_Flows": {
                      "runAfter": {
                        "Filter_out_non_Soln": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "1e39548f-86c7-4d6e-b830-b0fc30580142"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_commondataserviceforapps",
                          "operationId": "ListRecords",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                        },
                        "parameters": {
                          "entityName": "workflows",
                          "$select": "name, workflowidunique, workflowid, solutionid",
                          "$filter": "category eq 5 and statecode eq 0"
                        },
                        "authentication": "@parameters('$authentication')"
                      },
                      "runtimeConfiguration": {
                        "paginationPolicy": {
                          "minimumItemCount": 100000
                        }
                      }
                    },
                    "Select_Envt_Cloud_Flows_Off": {
                      "runAfter": {
                        "List_Unpublished_Cloud_Flows": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "375475ff-34b8-4168-9483-596f8f50b5dc"
                      },
                      "type": "Select",
                      "inputs": {
                        "from": "@outputs('List_Unpublished_Cloud_Flows')?['body/value']",
                        "select": {
                          "GUID": "@if(equals(length(split(string(body('Filter_out_non_Soln')), item()?['workflowid'])), 1), 'unpublished', 'duplicate')",
                          "PlayerURL": "@concat('https://make.powerautomate.com/environments/', outputs('CoE_Envt'), '/flows/', item()?['workflowidunique'], '/details')",
                          "DisplayName": "@item()?['name']",
                          "WorkflowEntityID": "@item()?['workflowid']",
                          "MakerURL": "@concat('https://make.powerautomate.com/environments/', outputs('CoE_Envt'), '/flows/', item()?['workflowidunique'])"
                        }
                      }
                    },
                    "Union_Envt_Cloud_Flows": {
                      "runAfter": {
                        "Filter_Envt_Clouds_Unpublished": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "06b522dc-edd5-437b-92e6-092574336264"
                      },
                      "type": "Compose",
                      "inputs": "@union(body('Filter_Envt_Clouds_Unpublished'), body('Filter_out_non_Soln'))"
                    },
                    "Parse_Envt_Cloud_Flows": {
                      "runAfter": {
                        "Union_Envt_Cloud_Flows": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "2fcbd5de-f09a-4ccb-a790-8e4d2146ec92"
                      },
                      "type": "ParseJson",
                      "inputs": {
                        "content": "@outputs('Union_Envt_Cloud_Flows')",
                        "schema": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "GUID": {
                                "type": "string"
                              },
                              "PlayerURL": {
                                "type": "string"
                              },
                              "DisplayName": {
                                "type": "string"
                              },
                              "WorkflowEntityID": {
                                "type": [
                                  "string",
                                  "null"
                                ]
                              },
                              "MakerURL": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "GUID",
                              "PlayerURL",
                              "DisplayName",
                              "MakerURL"
                            ]
                          }
                        }
                      }
                    },
                    "Filter_Envt_Clouds_Unpublished": {
                      "runAfter": {
                        "Select_Envt_Cloud_Flows_Off": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "5ca6e40e-366d-4cef-8b72-62be95f6074f"
                      },
                      "type": "Query",
                      "inputs": {
                        "from": "@body('Select_Envt_Cloud_Flows_Off')",
                        "where": "@equals(item()?['GUID'], 'unpublished')"
                      }
                    }
                  },
                  "runAfter": {
                    "Model_Driven_Apps": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "1c99a7d3-5b9e-49f6-9ce2-fc1812c8be12"
                  },
                  "type": "Scope"
                },
                "Solutions": {
                  "actions": {
                    "SetupTest": {
                      "actions": {
                        "Filter_to_tenant_Test": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "0be06f50-e30d-4372-a195-0754299f2024"
                          },
                          "type": "Query",
                          "inputs": {
                            "from": "@outputs('List_Envt_Solutions')?['body/value']",
                            "where": "@equals(item()?['friendlyname'], 'testing solution flow stuff')"
                          }
                        },
                        "TestID": {
                          "runAfter": {
                            "Filter_to_tenant_Test": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "dbc42129-6e84-4798-a1be-d9e94f992b15"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Test'))?['solutionid']"
                        },
                        "TestIsManaged": {
                          "runAfter": {
                            "TestID": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "0d352e81-3b62-4d9d-860b-dc7023eabbd0"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Test'))?['ismanaged']"
                        },
                        "hasTest": {
                          "runAfter": {
                            "TestIsManaged": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "16576aa6-ebd0-4178-9145-12f56a0f4e2b"
                          },
                          "type": "Compose",
                          "inputs": "@if(equals(outputs('TestID'), null), false, true)"
                        }
                      },
                      "runAfter": {
                        "SetupNurture": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "24435626-aef9-49de-b6fa-e0c358af693c"
                      },
                      "type": "Scope"
                    },
                    "SetupCore": {
                      "actions": {
                        "Filter_to_tenant_Core": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "0be06f50-e30d-4372-a195-0754299f2024"
                          },
                          "type": "Query",
                          "inputs": {
                            "from": "@outputs('List_Envt_Solutions')?['body/value']",
                            "where": "@or(equals(item()?['friendlyname'], 'Center of Excellence - Core Components'), equals(item()?['friendlyname'], 'Center of Excellence - Core Components for Team'))"
                          }
                        },
                        "CoreID": {
                          "runAfter": {
                            "Filter_to_tenant_Core": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "dbc42129-6e84-4798-a1be-d9e94f992b15"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Core'))?['solutionid']"
                        },
                        "CoreIsManaged": {
                          "runAfter": {
                            "CoreID": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "e7eb6f28-5f72-404e-827a-c3429b313739"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Core'))?['ismanaged']"
                        }
                      },
                      "runAfter": {
                        "List_Envt_Solutions": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "24435626-aef9-49de-b6fa-e0c358af693c"
                      },
                      "type": "Scope"
                    },
                    "SetupGovernance": {
                      "actions": {
                        "Filter_to_tenant_Governance": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "0be06f50-e30d-4372-a195-0754299f2024"
                          },
                          "type": "Query",
                          "inputs": {
                            "from": "@outputs('List_Envt_Solutions')?['body/value']",
                            "where": "@equals(item()?['friendlyname'], 'Center of Excellence - Governance Components')"
                          }
                        },
                        "GovernanceID": {
                          "runAfter": {
                            "Filter_to_tenant_Governance": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "dbc42129-6e84-4798-a1be-d9e94f992b15"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Governance'))?['solutionid']"
                        },
                        "GovernanceIsManaged": {
                          "runAfter": {
                            "GovernanceID": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "0d352e81-3b62-4d9d-860b-dc7023eabbd0"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Governance'))?['ismanaged']"
                        },
                        "hasGovernance": {
                          "runAfter": {
                            "GovernanceIsManaged": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "ae37a450-6330-473e-bbdd-e1bd7e0ee59d"
                          },
                          "type": "Compose",
                          "inputs": "@if(equals(outputs('GovernanceID'), null), false, true)"
                        }
                      },
                      "runAfter": {
                        "SetupAuditLogs": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "24435626-aef9-49de-b6fa-e0c358af693c"
                      },
                      "type": "Scope"
                    },
                    "SetupInnovationBacklog": {
                      "actions": {
                        "Filter_to_tenant_InnovationBacklog": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "0be06f50-e30d-4372-a195-0754299f2024"
                          },
                          "type": "Query",
                          "inputs": {
                            "from": "@outputs('List_Envt_Solutions')?['body/value']",
                            "where": "@equals(item()?['friendlyname'], 'Center of Excellence - Innovation Backlog\"')"
                          }
                        },
                        "InnovationBacklogID": {
                          "runAfter": {
                            "Filter_to_tenant_InnovationBacklog": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "dbc42129-6e84-4798-a1be-d9e94f992b15"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_InnovationBacklog'))?['solutionid']"
                        },
                        "InnovationBacklogIsManaged": {
                          "runAfter": {
                            "InnovationBacklogID": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "0d352e81-3b62-4d9d-860b-dc7023eabbd0"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_InnovationBacklog'))?['ismanaged']"
                        },
                        "hasInnovationBacklog": {
                          "runAfter": {
                            "InnovationBacklogIsManaged": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "ead5d0ae-f8df-4116-bd4b-757fcbbe992b"
                          },
                          "type": "Compose",
                          "inputs": "@if(equals(outputs('InnovationBacklogID'), null), false, true)"
                        }
                      },
                      "runAfter": {
                        "SetupGovernance": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "24435626-aef9-49de-b6fa-e0c358af693c"
                      },
                      "type": "Scope"
                    },
                    "SetupNurture": {
                      "actions": {
                        "Filter_to_tenant_Nurture": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "0be06f50-e30d-4372-a195-0754299f2024"
                          },
                          "type": "Query",
                          "inputs": {
                            "from": "@outputs('List_Envt_Solutions')?['body/value']",
                            "where": "@equals(item()?['friendlyname'], 'Center of Excellence - Nurture Components')"
                          }
                        },
                        "NurtureID": {
                          "runAfter": {
                            "Filter_to_tenant_Nurture": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "dbc42129-6e84-4798-a1be-d9e94f992b15"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Nurture'))?['solutionid']"
                        },
                        "NurtureIsManaged": {
                          "runAfter": {
                            "NurtureID": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "0d352e81-3b62-4d9d-860b-dc7023eabbd0"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_Nurture'))?['ismanaged']"
                        },
                        "hasNurture": {
                          "runAfter": {
                            "NurtureIsManaged": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "3b9c1608-1a2a-4d16-a386-df96378f1a54"
                          },
                          "type": "Compose",
                          "inputs": "@if(equals(outputs('NurtureID'), null), false, true)"
                        }
                      },
                      "runAfter": {
                        "SetupInnovationBacklog": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "24435626-aef9-49de-b6fa-e0c358af693c"
                      },
                      "type": "Scope"
                    },
                    "List_Envt_Solutions": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "9c93ca42-1bcf-49b5-90f1-7ba358052646"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_commondataserviceforapps",
                          "operationId": "ListRecords",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                        },
                        "parameters": {
                          "entityName": "solutions",
                          "$select": "solutionid, friendlyname, ismanaged",
                          "$filter": "solutionid ne null"
                        },
                        "authentication": "@parameters('$authentication')"
                      }
                    },
                    "SetupAuditLogs": {
                      "actions": {
                        "Filter_to_tenant_AuditLogs": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "0be06f50-e30d-4372-a195-0754299f2024"
                          },
                          "type": "Query",
                          "inputs": {
                            "from": "@outputs('List_Envt_Solutions')?['body/value']",
                            "where": "@equals(item()?['friendlyname'], 'Center of Excellence - Audit Logs')"
                          }
                        },
                        "AuditLogsID": {
                          "runAfter": {
                            "Filter_to_tenant_AuditLogs": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "dbc42129-6e84-4798-a1be-d9e94f992b15"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_AuditLogs'))?['solutionid']"
                        },
                        "AuditLogsIsManaged": {
                          "runAfter": {
                            "AuditLogsID": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "0d352e81-3b62-4d9d-860b-dc7023eabbd0"
                          },
                          "type": "Compose",
                          "inputs": "@first(body('Filter_to_tenant_AuditLogs'))?['ismanaged']"
                        },
                        "hasAuditLogs": {
                          "runAfter": {
                            "AuditLogsIsManaged": [
                              "Succeeded"
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "30cd260d-7da5-4962-be05-6774c252ab24"
                          },
                          "type": "Compose",
                          "inputs": "@if(equals(outputs('AuditLogsID'), null), false, true)"
                        }
                      },
                      "runAfter": {
                        "SetupCore": [
                          "Succeeded"
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "24435626-aef9-49de-b6fa-e0c358af693c"
                      },
                      "type": "Scope"
                    }
                  },
                  "runAfter": {
                    "Prep_work": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "c99a1d35-2bcb-4661-a471-a3bcbdf5f2e2"
                  },
                  "type": "Scope"
                }
              },
              "runAfter": {},
              "metadata": {
                "operationMetadataId": "7543f29e-8ef5-4552-87f0-d4098bea370b"
              },
              "type": "Scope"
            },
            "Flows": {
              "actions": {
                "Apply_to_each_-_Flow": {
                  "foreach": "@body('Parse_JSON_-_Flows')",
                  "actions": {
                    "Filter_array_-_Flows": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "f66a4cd5-6e40-49a4-b28f-7934369f238b"
                      },
                      "type": "Query",
                      "inputs": {
                        "from": "@body('Parse_Envt_Cloud_Flows')",
                        "where": "@equals(item()?['DisplayName'], items('Apply_to_each_-_Flow')['ObjectName'])"
                      }
                    },
                    "Add_if_in_tenant_-_Flows": {
                      "actions": {
                        "See_if_already_exists_-_Flows": {
                          "runAfter": {},
                          "metadata": {
                            "operationMetadataId": "6e243b6d-b2ce-40e3-9c02-5ac90fd2af44"
                          },
                          "type": "OpenApiConnection",
                          "inputs": {
                            "host": {
                              "connectionName": "shared_commondataserviceforapps",
                              "operationId": "ListRecords",
                              "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                            },
                            "parameters": {
                              "entityName": "admin_coesolutionmetadatas",
                              "$select": "admin_coesolutionmetadataid",
                              "$filter": "admin_objectname eq '@{items('Apply_to_each_-_Flow')['ObjectName']}'",
                              "$top": 1
                            },
                            "authentication": "@parameters('$authentication')"
                          }
                        },
                        "Add_if_does_not_exist_-_Flows": {
                          "actions": {
                            "Add_Metadata_-_Flows": {
                              "runAfter": {},
                              "metadata": {
                                "operationMetadataId": "0354a06a-94fa-448c-a043-8ff26fb50aed"
                              },
                              "type": "OpenApiConnection",
                              "inputs": {
                                "host": {
                                  "connectionName": "shared_commondataserviceforapps",
                                  "operationId": "CreateRecord",
                                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                },
                                "parameters": {
                                  "entityName": "admin_coesolutionmetadatas",
                                  "item/admin_objectname": "@items('Apply_to_each_-_Flow')['ObjectName']",
                                  "item/admin_coesolution": "@items('Apply_to_each_-_Flow')['CoESolution']",
                                  "item/admin_coesolutionarea": "@items('Apply_to_each_-_Flow')['CoESolutionArea']",
                                  "item/admin_flag": "@items('Apply_to_each_-_Flow')['Flag']",
                                  "item/admin_helplink": "@items('Apply_to_each_-_Flow')['HelpLink']",
                                  "item/admin_installorder": "@items('Apply_to_each_-_Flow')['InstallOrder']",
                                  "item/admin_objectguid": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['GUID'])",
                                  "item/admin_objectismanaged": "@if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Core'),  outputs('CoreIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Governance'),  outputs('GovernanceIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Nurture'),  outputs('NurtureIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'test soln'),  outputs('TestIsManaged'), true))))))",
                                  "item/admin_objectmakerurl": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['MakerURL'])",
                                  "item/admin_objectsolutionguid": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['WorkflowEntityID'])",
                                  "item/admin_objecttype": "@items('Apply_to_each_-_Flow')['ObjectType']",
                                  "item/admin_objecturl": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['PlayerURL'])",
                                  "item/admin_rerunonupgrade": "@items('Apply_to_each_-_Flow')['RunOnUpgrade']",
                                  "item/admin_shipon": "@items('Apply_to_each_-_Flow')['ShipOn']",
                                  "item/admin_solutionid": "@if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Core'),  outputs('CoreID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Governance'),  outputs('GovernanceID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Nurture'),  outputs('NurtureID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'test soln'),  outputs('TestID'), 'error'))))))",
                                  "item/admin_usedforbyodlcoe": "@items('Apply_to_each_-_Flow')['UsedInByodlCoE']",
                                  "item/admin_usedforsyncflowcoe": "@items('Apply_to_each_-_Flow')['UsedInSyncFlowCoE']"
                                },
                                "authentication": "@parameters('$authentication')"
                              }
                            }
                          },
                          "runAfter": {
                            "See_if_already_exists_-_Flows": [
                              "Succeeded"
                            ]
                          },
                          "else": {
                            "actions": {
                              "Update_Metadata_-_Flows": {
                                "runAfter": {},
                                "metadata": {
                                  "operationMetadataId": "91b971ab-f833-44e9-8015-a5b3ba1dda5a"
                                },
                                "type": "OpenApiConnection",
                                "inputs": {
                                  "host": {
                                    "connectionName": "shared_commondataserviceforapps",
                                    "operationId": "UpdateRecord",
                                    "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                                  },
                                  "parameters": {
                                    "entityName": "admin_coesolutionmetadatas",
                                    "recordId": "@first(outputs('See_if_already_exists_-_Flows')?['body/value'])?['admin_coesolutionmetadataid']",
                                    "item/admin_objectname": "@items('Apply_to_each_-_Flow')['ObjectName']",
                                    "item/admin_coesolution": "@items('Apply_to_each_-_Flow')['CoESolution']",
                                    "item/admin_coesolutionarea": "@items('Apply_to_each_-_Flow')['CoESolutionArea']",
                                    "item/admin_flag": "@items('Apply_to_each_-_Flow')['Flag']",
                                    "item/admin_helplink": "@items('Apply_to_each_-_Flow')['HelpLink']",
                                    "item/admin_installorder": "@items('Apply_to_each_-_Flow')['InstallOrder']",
                                    "item/admin_objectguid": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['GUID'])",
                                    "item/admin_objectismanaged": "@if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Core'),  outputs('CoreIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Governance'),  outputs('GovernanceIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Nurture'),  outputs('NurtureIsManaged'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'test soln'),  outputs('TestIsManaged'), true))))))",
                                    "item/admin_objectmakerurl": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['MakerURL'])",
                                    "item/admin_objectsolutionguid": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['WorkflowEntityID'])",
                                    "item/admin_objecttype": "@items('Apply_to_each_-_Flow')['ObjectType']",
                                    "item/admin_objecturl": "@if(equals(length(body('Filter_array_-_Flows')), 0), '',  first(body('Filter_array_-_Flows'))?['PlayerURL'])",
                                    "item/admin_rerunonupgrade": "@items('Apply_to_each_-_Flow')['RunOnUpgrade']",
                                    "item/admin_shipon": "@items('Apply_to_each_-_Flow')['ShipOn']",
                                    "item/admin_solutionid": "@if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Core'),  outputs('CoreID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Audit Logs'),  outputs('AuditLogsID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Governance'),  outputs('GovernanceID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Innovation Backlog'),  outputs('InnovationBacklogID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'Nurture'),  outputs('NurtureID'), if(equals(items('Apply_to_each_-_Flow')['CoESolution'], 'test soln'),  outputs('TestID'), 'error'))))))",
                                    "item/admin_usedforbyodlcoe": "@items('Apply_to_each_-_Flow')['UsedInByodlCoE']",
                                    "item/admin_usedforsyncflowcoe": "@items('Apply_to_each_-_Flow')['UsedInSyncFlowCoE']"
                                  },
                                  "authentication": "@parameters('$authentication')"
                                }
                              }
                            }
                          },
                          "expression": {
                            "less": [
                              "@length(outputs('See_if_already_exists_-_Flows')?['body/value'])",
                              1
                            ]
                          },
                          "metadata": {
                            "operationMetadataId": "ac003774-a532-4e00-b8e6-770b7ad14455"
                          },
                          "type": "If"
                        }
                      },
                      "runAfter": {
                        "Filter_array_-_Flows": [
                          "Succeeded"
                        ]
                      },
                      "expression": {
                        "greater": [
                          "@length(body('Filter_array_-_Flows'))",
                          0
                        ]
                      },
                      "metadata": {
                        "operationMetadataId": "19e95f88-fd17-4d94-b0d2-0d06ff9e0848"
                      },
                      "type": "If"
                    }
                  },
                  "runAfter": {
                    "Parse_JSON_-_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "2afdbf28-ad11-4c16-88d2-064924d3a664"
                  },
                  "type": "Foreach"
                },
                "Cleanup_Deleted_-_Flows": {
                  "runAfter": {
                    "Apply_to_each_-_Flow": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "110f4dbf-528c-458d-adfa-94727ca9bc6f"
                  },
                  "type": "OpenApiConnection",
                  "inputs": {
                    "host": {
                      "connectionName": "shared_commondataserviceforapps",
                      "operationId": "ListRecords",
                      "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                    },
                    "parameters": {
                      "entityName": "admin_coesolutionmetadatas",
                      "$select": "admin_coesolutionmetadataid",
                      "$filter": "modifiedon lt @{body('Get_past_time')} and admin_objecttype eq 'CloudFlows'"
                    },
                    "authentication": "@parameters('$authentication')"
                  }
                },
                "Cleanup_Deleted_Flows": {
                  "foreach": "@outputs('Cleanup_Deleted_-_Flows')?['body/value']",
                  "actions": {
                    "Cleanup_Deleted_Flow": {
                      "runAfter": {},
                      "metadata": {
                        "operationMetadataId": "688fb9ab-f25b-4503-b8ae-74a47a34e694"
                      },
                      "type": "OpenApiConnection",
                      "inputs": {
                        "host": {
                          "connectionName": "shared_commondataserviceforapps",
                          "operationId": "DeleteRecord",
                          "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                        },
                        "parameters": {
                          "entityName": "admin_coesolutionmetadatas",
                          "recordId": "@items('Cleanup_Deleted_Flows')?['admin_coesolutionmetadataid']"
                        },
                        "authentication": "@parameters('$authentication')"
                      }
                    }
                  },
                  "runAfter": {
                    "Cleanup_Deleted_-_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "5e6a6974-811d-4db4-bff5-c8a31daaaa46"
                  },
                  "type": "Foreach"
                },
                "Parse_JSON_-_Flows": {
                  "runAfter": {
                    "TenantFlows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "4fb6cec5-20a3-4a79-8d76-f5578d1a02c9"
                  },
                  "type": "ParseJson",
                  "inputs": {
                    "content": "@outputs('TenantFlows')",
                    "schema": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "ObjectName": {
                            "type": "string"
                          },
                          "CoESolution": {
                            "type": "string"
                          },
                          "CoESolutionArea": {
                            "type": "string"
                          },
                          "Flag": {
                            "type": "string"
                          },
                          "HelpLink": {
                            "type": "string"
                          },
                          "ObjectType": {
                            "type": "string"
                          },
                          "ShipOn": {
                            "type": "string"
                          },
                          "InstallOrder": {
                            "type": "string"
                          },
                          "RunOnUpgrade": {
                            "type": "string"
                          },
                          "UsedInSyncFlowCoE": {
                            "type": "string"
                          },
                          "UsedInByodlCoE": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "ObjectName",
                          "CoESolution",
                          "CoESolutionArea",
                          "Flag",
                          "HelpLink",
                          "ObjectType",
                          "ShipOn",
                          "InstallOrder",
                          "RunOnUpgrade",
                          "UsedInSyncFlowCoE",
                          "UsedInByodlCoE"
                        ]
                      }
                    }
                  }
                },
                "Test_Flows": {
                  "runAfter": {
                    "Nurture_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "78c2d1a3-50b7-4a4f-92df-2f3c46c5c62c"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "TestObjects",
                    "value": [
                      {
                        "ObjectName": "flow shipped off 1",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "1",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "flow shipped off 2",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "2",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "flow shipped on 1",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "hi",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "3",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "flow shipped on 2",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "4",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "flow shipped off turned on",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "5",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "flow shipped on turned off",
                        "CoESolution": "test soln",
                        "CoESolutionArea": "testing",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "6",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      }
                    ]
                  }
                },
                "Core_Flows": {
                  "runAfter": {},
                  "metadata": {
                    "operationMetadataId": "6ddfcb5e-b665-4bd3-a67e-a4eac1178957"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "CoreObjects",
                    "value": [
                      {
                        "ObjectName": "HELPER - Send Email",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "1",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "HELPER - Maker Check",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "2",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "HELPER - CloudFlowOperations",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "3",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "HELPER - CanvasAppOperations",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "4",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "HELPER - ObjectOperations",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "5",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (Ai Models)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "6",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (Business Process Flows)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "7",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (Canvas Apps)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "8",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (Cloud Flows)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "9",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (Custom Connectors)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "10",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (Model Driven Apps)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "11",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (PVA)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "12",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Check Deleted (Solutions)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "13",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP HELPER - Power Apps User Shared With",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "14",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 CoE Solution Metadata",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "It's recommended to run this flow, and let it complete, before continuing.",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "15",
                        "RunOnUpgrade": "True",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 Configure Emails",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "It's recommended to run this flow, and let it complete, before continuing",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "16",
                        "RunOnUpgrade": "True",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Connectors)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "It's recommended to run this flow, and let it complete, before continuing.",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "17",
                        "RunOnUpgrade": "True",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Add Maker to Group",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "18",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Excuse Support Envts from Governance Flows",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "19",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Command Center App >  Get M365 Service Messages",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "20",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Command Center App > Initially Populate Bookmarks",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "21",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Command Center App > Get CoE Flows",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "22",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Command Center App > Set CoE Flows State",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "23",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "DLP Editor>Parse impacted resources into CSV",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "24",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Ai Models)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "25",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Apps)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "26",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "False"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Business Process Flows)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "27",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Call Updates)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "28",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Connection Identities)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "29",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Custom Connectors)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "30",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Desktop Flow - Runs)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "31",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Desktop flows)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "32",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Environment Properties)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "33",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Flow Action Details)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "Due to the high number of API calls, a Per Flow license may be needed for this flow",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "34",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Flows)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "35",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "False"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Model Driven Apps)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "36",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "False"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Portals)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "37",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (PVA)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "38",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Solutions)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "39",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3 (Sync Flow Errors)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "40",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Template v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "0",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "41",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "False"
                      },
                      {
                        "ObjectName": "CLEANUP - Admin | Sync Template v3 (Check Deleted)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "42",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP - Admin | Sync Template v3 (Connection Status)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "43",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "False"
                      },
                      {
                        "ObjectName": "CLEANUP - Admin | Sync Template v3 (Delete Bad Data)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "44",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP - Admin | Sync Template v3 (Orphaned Makers)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "45",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "CLEANUP - Admin | Sync Template v3 (Power Apps User Shared With)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Inventory",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "46",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance request complete apps v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "60",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance request complete bots v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "61",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance request complete custom connector v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "62",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance request complete desktop flows v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "63",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance request complete flows v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "64",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance Teams Environment BPF kickoff v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "65",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance Details Request eMail (Apps)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "66",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance Details Request eMail (Chatbots)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "67",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance Details Request eMail (Custom Connectors)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "68",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance Details Request eMail (Desktop Flows)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "69",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance Details Request eMail (Flows)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "70",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance detail request [Teams] v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "71",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Compliance detail request v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Compliance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "72",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "DLP Request | Apply Policy to Environment (Child)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "80",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "DLP Request | Process Approved Policy Change",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "81",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "DLP Request | Sync new Policy",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "82",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "DLP Request | Sync Policy to Dataverse (Child)",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "83",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "DLP Request | Sync Shared Policies",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "84",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Env Request | Cleanup Environments",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "85",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Env Request | Create Approved Environment",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "86",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Env Request | Notify admin when new request submitted",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "87",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Env Request | Notify requestor when rejected",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Environment Request",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "88",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Capacity Alerts",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Other Core Components",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "100",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Welcome Email v3",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Other Core Components",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "101",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "App Catalog > Request Access",
                        "CoESolution": "Core",
                        "CoESolutionArea": "Other Core Components",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "102",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      }
                    ]
                  }
                },
                "Audit_Logs_Flows": {
                  "runAfter": {
                    "Core_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "ffabcdfd-3922-40d0-8041-5e943c7d870c"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "AuditLogsObjects",
                    "value": [
                      {
                        "ObjectName": "[Child] Admin | Sync Logs",
                        "CoESolution": "Audit Logs",
                        "CoESolutionArea": "Audit Logs",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "1",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Sync Audit Logs",
                        "CoESolution": "Audit Logs",
                        "CoESolutionArea": "Audit Logs",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "2",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      }
                    ]
                  }
                },
                "Governance_Flows": {
                  "runAfter": {
                    "Audit_Logs_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "b58705ef-0138-4ddf-b86a-4a331c415a7f"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "GovernanceObjects",
                    "value": [
                      {
                        "ObjectName": "Admin | Broken Connection Cleanup",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Processes",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "9",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Email Managers Ignored Inactivity notifications Approvals",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Processes",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "8",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Inactivity notifications v2 (Check Approval)",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Processes",
                        "Flag": "Be sure to setup and check on Governance Pre-reqs",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "4",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Inactivity notifications v2 (Clean Up and Delete)",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Processes",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "5",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Inactivity notifications v2 (Start Approval for Apps)",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Processes",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "6",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Inactivity notifications v2 (Start Approval for Flows)",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Inactivity Processes",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "7",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Quarantine non-compliant apps",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Quarantine",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "2",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Admin | Set app quarantine status",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Quarantine",
                        "Flag": "Be sure to setup and check on Governance Pre-reqs",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "1",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "HELPER - CanvasAppOperations Gov",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Governance Pre-reqs",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "2",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "HELPER - CloudFlowOperations Gov",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Governance Pre-reqs",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "1",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "HELPER - ObjectOperations Gov",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Governance Pre-reqs",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "3",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Microsoft Teams Admin | Ask for Business Justification when Microsoft Teams environment is created",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Dataverse for Teams Governance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "5",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Microsoft Teams Admin | Send Reminder Mail",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Dataverse for Teams Governance",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "6",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Microsoft Teams Admin | Weekly Clean Up of Microsoft Teams environments",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Dataverse for Teams Governance",
                        "Flag": "Be sure to setup and check on Governance Pre-reqs",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "4",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Request Orphaned Objects Reassigned (Child)",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Cleanup Orphans",
                        "Flag": "Be sure to setup and check on Governance Pre-reqs",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "4",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Request Orphaned Objects Reassigned (Parent)",
                        "CoESolution": "Governance",
                        "CoESolutionArea": "Cleanup Orphans",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "5",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      }
                    ]
                  }
                },
                "Innovation_Backlog_Flows": {
                  "runAfter": {
                    "Governance_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "63f4ae70-ae7f-4cd2-af18-dbe4486894b7"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "InnovationBacklogObjects",
                    "value": [
                      {
                        "ObjectName": "Add pain points",
                        "CoESolution": "Innovation Backlog",
                        "CoESolutionArea": "Innovation Backlog",
                        "Flag": "It's recommended to run this flow, and let it complete, before continuing.",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "1",
                        "RunOnUpgrade": "True",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Update Software Tools",
                        "CoESolution": "Innovation Backlog",
                        "CoESolutionArea": "Innovation Backlog",
                        "Flag": "It's recommended to run this flow, and let it complete, before continuing.",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "2",
                        "RunOnUpgrade": "True",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      }
                    ]
                  }
                },
                "Nurture_Flows": {
                  "runAfter": {
                    "Innovation_Backlog_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "95e08a4f-a038-45f5-96b5-9ad07ab38daa"
                  },
                  "type": "SetVariable",
                  "inputs": {
                    "name": "NurtureObjects",
                    "value": [
                      {
                        "ObjectName": "Admin | Newsletter with Product Updates",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "1",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Training In A Day | Feedback Reminder",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "2",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Training In A Day | Registration Confirmation",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "3",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Training In A Day | Reminder 3 days prior event",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "4",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Add Maker Assessment Starter Data",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "It's recommended to run this flow, and let it complete, before continuing.",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "5",
                        "RunOnUpgrade": "True",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Pulse - Survey Makers for CoE feedback",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "False",
                        "InstallOrder": "7",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      },
                      {
                        "ObjectName": "Pulse [Child] - Post adaptive cards to maker",
                        "CoESolution": "Nurture",
                        "CoESolutionArea": "Nurture",
                        "Flag": "",
                        "HelpLink": "TBD",
                        "ObjectType": "CloudFlows",
                        "ShipOn": "True",
                        "InstallOrder": "6",
                        "RunOnUpgrade": "False",
                        "UsedInSyncFlowCoE": "True",
                        "UsedInByodlCoE": "True"
                      }
                    ]
                  }
                },
                "TenantFlows": {
                  "runAfter": {
                    "Test_Flows": [
                      "Succeeded"
                    ]
                  },
                  "metadata": {
                    "operationMetadataId": "287b9b76-2c4f-4733-ad6d-a1092df6ac44"
                  },
                  "type": "Compose",
                  "inputs": "@union(variables('CoreObjects'), if(equals(outputs('hasAuditLogs'), true), variables('AuditLogsObjects'), variables('CoreObjects')), if(equals(outputs('hasGovernance'), true), variables('GovernanceObjects'), variables('CoreObjects')), if(equals(outputs('hasInnovationBacklog'), true), variables('InnovationBacklogObjects'), variables('CoreObjects')), if(equals(outputs('hasNurture'), true), variables('NurtureObjects'), variables('CoreObjects')), if(equals(outputs('hasTest'), true), variables('TestObjects'), variables('CoreObjects')))"
                }
              },
              "runAfter": {
                "Get_Tenant_Info": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "cf0e0e98-d727-4779-9b85-f1dd8e44b0e0"
              },
              "type": "Scope"
            }
          },
          "runAfter": {
            "Initialize_TestObjects": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "ca1a100e-f702-40d7-bb73-c94646ca2599"
          },
          "type": "Scope"
        },
        "Update_CoE_Metadata_-_Error_Handling": {
          "actions": {
            "Create_a_new_record_-_Sync_Flow_Errors": {
              "runAfter": {},
              "metadata": {
                "operationMetadataId": "87961ff0-e261-4890-9ab9-a53f88fe0de5"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "host": {
                  "connectionName": "shared_commondataserviceforapps",
                  "operationId": "CreateRecord",
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                },
                "parameters": {
                  "entityName": "admin_syncflowerrorses",
                  "item/admin_name": "Admin | Sync Template v3 CoE Solution Metadata",
                  "item/admin_flowinstanceurl": "@concat(parameters('Power Automate Environment Variable (admin_PowerAutomateEnvironmentVariable)'), workflow()?['tags']['environmentName'], '/flows/', workflow()?['name'], '/runs/', workflow()?['run']['name'])"
                },
                "authentication": "@parameters('$authentication')",
                "retryPolicy": {
                  "type": "exponential",
                  "count": 10,
                  "interval": "PT10S"
                }
              }
            },
            "Terminate": {
              "runAfter": {
                "Update_Last_Run_Fail": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "999e38e8-77eb-4eaa-93dc-2c764eb76a35"
              },
              "type": "Terminate",
              "inputs": {
                "runStatus": "Failed",
                "runError": {
                  "code": "500",
                  "message": "CoE Metadata Update Failed"
                }
              }
            },
            "Get_ID_Fail": {
              "runAfter": {
                "Create_a_new_record_-_Sync_Flow_Errors": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "78cab945-9781-46bd-938d-fb0fd8c1fc0c"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "host": {
                  "connectionName": "shared_commondataserviceforapps",
                  "operationId": "ListRecords",
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                },
                "parameters": {
                  "entityName": "admin_coesolutionmetadatas",
                  "$select": "admin_coesolutionmetadataid",
                  "$filter": "admin_objectguid eq @{workflow()?['name']}",
                  "$top": 1
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Update_Last_Run_Fail": {
              "runAfter": {
                "Get_ID_Fail": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "bc34f416-123e-4689-914f-e9259d507168"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "host": {
                  "connectionName": "shared_commondataserviceforapps",
                  "operationId": "UpdateRecord",
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                },
                "parameters": {
                  "entityName": "admin_coesolutionmetadatas",
                  "recordId": "@first(outputs('Get_ID_Fail')?['body/value'])?['admin_coesolutionmetadataid']",
                  "item/admin_lastrun": "@utcNow()",
                  "item/admin_lastrunpassed": false
                },
                "authentication": "@parameters('$authentication')"
              }
            }
          },
          "runAfter": {
            "Add_or_update_data": [
              "Failed"
            ]
          },
          "metadata": {
            "operationMetadataId": "5b6528c7-c6a2-4b65-9f5e-e506c3595022"
          },
          "type": "Scope"
        },
        "Update_CoE_Metadata_last_run_as_pass": {
          "actions": {
            "Update_Last_Run_Successful": {
              "runAfter": {
                "Get_ID_Pass": [
                  "Succeeded"
                ]
              },
              "metadata": {
                "operationMetadataId": "7dfce3c3-1022-4592-baad-a7d04e7a8985"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "host": {
                  "connectionName": "shared_commondataserviceforapps",
                  "operationId": "UpdateRecord",
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                },
                "parameters": {
                  "entityName": "admin_coesolutionmetadatas",
                  "recordId": "@first(outputs('Get_ID_Pass')?['body/value'])?['admin_coesolutionmetadataid']",
                  "item/admin_lastrun": "@utcNow()",
                  "item/admin_lastrunpassed": true
                },
                "authentication": "@parameters('$authentication')"
              }
            },
            "Get_ID_Pass": {
              "runAfter": {},
              "metadata": {
                "operationMetadataId": "6ea131ec-659a-4870-a48d-51f88575c7c4"
              },
              "type": "OpenApiConnection",
              "inputs": {
                "host": {
                  "connectionName": "shared_commondataserviceforapps",
                  "operationId": "ListRecords",
                  "apiId": "/providers/Microsoft.PowerApps/apis/shared_commondataserviceforapps"
                },
                "parameters": {
                  "entityName": "admin_coesolutionmetadatas",
                  "$select": "admin_coesolutionmetadataid",
                  "$filter": "admin_objectguid eq @{workflow()?['name']}",
                  "$top": 1
                },
                "authentication": "@parameters('$authentication')"
              }
            }
          },
          "runAfter": {
            "Update_CoE_Metadata_-_Error_Handling": [
              "Skipped"
            ]
          },
          "metadata": {
            "operationMetadataId": "2762d195-6d91-4840-b1c4-a8743110bcc9"
          },
          "type": "Scope"
        },
        "Get_past_time": {
          "runAfter": {
            "Respond_to_a_PowerApp_or_flow": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "bbd36329-dcb9-4eda-b086-32840d3493a3"
          },
          "type": "Expression",
          "kind": "GetPastTime",
          "inputs": {
            "interval": 1,
            "timeUnit": "Hour"
          }
        },
        "Initialize_CoreObjects": {
          "runAfter": {
            "Get_past_time": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "3b9440b5-9822-42a6-9a34-fd6f73df3747"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "CoreObjects",
                "type": "array"
              }
            ]
          }
        },
        "Initialize_AuditLogsObjects": {
          "runAfter": {
            "Initialize_CoreObjects": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "7a1ba9b1-0bc2-4538-adc0-44aa6dfc2953"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "AuditLogsObjects",
                "type": "array"
              }
            ]
          }
        },
        "Initialize_GovernanceObjects": {
          "runAfter": {
            "Initialize_AuditLogsObjects": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "415e12ee-7986-4df3-8193-9fbe09b64b1e"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "GovernanceObjects",
                "type": "array"
              }
            ]
          }
        },
        "Initialize_InnovationBacklogObjects": {
          "runAfter": {
            "Initialize_GovernanceObjects": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "87717d8a-cacf-42e3-a7eb-ceffd24b1743"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "InnovationBacklogObjects",
                "type": "array"
              }
            ]
          }
        },
        "Initialize_NurtureObjects": {
          "runAfter": {
            "Initialize_InnovationBacklogObjects": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "6893a344-1307-4e33-bcc7-d93477f7b2ac"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "NurtureObjects",
                "type": "array"
              }
            ]
          }
        },
        "Initialize_TestObjects": {
          "runAfter": {
            "Initialize_NurtureObjects": [
              "Succeeded"
            ]
          },
          "metadata": {
            "operationMetadataId": "ee6ea965-b61a-47b3-95d3-e46e3ce46b71"
          },
          "type": "InitializeVariable",
          "inputs": {
            "variables": [
              {
                "name": "TestObjects",
                "type": "array"
              }
            ]
          }
        },
        "Respond_to_a_PowerApp_or_flow": {
          "runAfter": {},
          "metadata": {
            "operationMetadataId": "eb024ca6-698c-4dc3-ab20-51b6968b6938"
          },
          "type": "Response",
          "kind": "PowerApp",
          "inputs": {
            "statusCode": 200,
            "body": {
              "return": "pass"
            },
            "schema": {
              "type": "object",
              "properties": {
                "return": {
                  "title": "return",
                  "x-ms-dynamically-added": true,
                  "type": "string"
                }
              }
            }
          }
        }
      }
    }
  },
  "schemaVersion": "1.0.0.0"
}