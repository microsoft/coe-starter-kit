scr_EnvironmentCreationRequests As screen:
    LoadingSpinnerColor: =RGBA(0, 120, 212, 1)

    pnlViewDetails As Panel:
        Buttons: |-
            =Table(
                {
                    Label: "Cancel",
                    ButtonType: 'Button.ButtonType'.Standard,
                    Visible: true,
                    Enabled: true
                },
                {
                    Label: "Save",
                    ButtonType: 'Button.ButtonType'.Primary,
                    Visible: true,
                    Enabled: true
                }
            )
        Fill: =pnlViewDetails.OverlayColor
        Height: =scr_EnvironmentCreationRequests.Height
        OnButtonSelect: |-
            =If(
                Self.SelectedButton.Label = "Cancel",
                Set(
                    showPanel,
                    false
                ),
                Switch(
                    pnlContext,
                    "securitygroup",
                    UpdateContext({var_selectedSecurityGroup: dlSearchGroups.Selected});Patch('Environment Creation Requests', LookUp('Environment Creation Requests', 'Environment Creation Request' = var_selectedCreateReq.'Environment Creation Request'), {'Database security group ID':dlSearchGroups.Selected.id}),
                    "editDetails",
                    SubmitForm(formEditRequest);
                    Refresh('Environment Creation Requests');
                    Set(vViewDetails,false);
                );
                Set(
                    showPanel,
                    false
                );
                
            )
        OnCloseSelect: =Set(showPanel, false)
        Subtitle: =""
        Title: |-
            =Switch(pnlContext,
            "securitygroup", "Edit security group",
            "editDetails", "Edit details",
            "policydetails", dlAllPolicies.Selected.displayName)
        Visible: =showPanel
        Width: =scr_EnvironmentCreationRequests.Width

    conMain As groupContainer.verticalAutoLayoutContainer:
        Height: =scr_EnvironmentCreationRequests.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        Width: =scr_EnvironmentCreationRequests.Width
        ZIndex: =1

        c_ActionHeader As groupContainer.verticalAutoLayoutContainer:
            Fill: =RGBA(243, 242, 241, 1)
            FillPortions: =0
            Height: =44
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutGap: =15
            LayoutJustifyContent: =LayoutJustifyContent.End
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =32
            PaddingRight: =32
            ZIndex: =1

            "cbEnvList As 'Fluent Command Bar (1.0.22)'.pcfdataset":
                DisplayMode: =DisplayMode.Edit
                FillPortions: =1
                Height: =200
                Items: |-
                    =Table(
                      {
                          ItemKey: "refresh",
                          ItemDisplayName: "Refresh",
                          ItemIconName: "Refresh",
                          ItemEnabled: true
                      },
                      {
                          ItemKey: "view",
                          ItemDisplayName: "View",
                          ItemIconName: "View",
                          ItemEnabled: !IsBlank(dlEnvRequests.Selected)
                      }
                    )
                LayoutMinHeight: =33
                LayoutMinWidth: =200
                OnSelect: |-
                    =Switch(
                        Self.Selected.ItemKey,
                        /* Action for ItemKey 'new' (e.g., Patch function) */
                        "refresh", Refresh('Environment Creation Requests'),
                        "view", Select(btnViewDetails))
                Theme: =SearchBoxThemeJson
                Visible: |
                    =true
                Width: =200
                X: =0
                Y: =0
                ZIndex: =1

            cbx_view As combobox:
                AlignInContainer: =AlignInContainer.Center
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderThickness: =1
                ChevronBackground: =Self.Fill
                ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                ChevronFill: =RGBA(32, 31, 30, 1)
                ChevronHoverBackground: =Self.Fill
                ChevronHoverFill: =RGBA(33, 33, 33, 1)
                Color: =RGBA(51, 51, 51, 1)
                DefaultSelectedItems: =['Approval Status'.Pending]
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                DisplayFields: =["Value"]
                Fill: =RGBA(243, 242, 241, 1)
                Font: =Font.'Segoe UI'
                Height: =33
                HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                HoverColor: =RGBA(51, 51, 51, 1)
                HoverFill: =Self.Fill
                IsSearchable: =false
                Items: =Sort(col_requestStatuses, Text(Value), SortOrder.Ascending)
                LayoutMinHeight: =33
                NoSelectionText: ="Any status"
                OnChange: =Set(var_selectedItem, Blank())
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                PressedColor: =RGBA(255, 255, 255, 1)
                PressedFill: =RGBA(105, 121, 126, 1)
                SearchFields: =["Value"]
                SearchItems: =[]
                SelectionColor: =RGBA(0, 0, 0, 1)
                SelectionFill: =RGBA(230, 230, 230, 1)
                SelectMultiple: =false
                Width: =180
                X: =957
                Y: =64
                ZIndex: =2

            "tin_searchRequests As 'Fluent SearchBox (1.0.22) Preview'":
                AlignInContainer: =AlignInContainer.Center
                DisplayMode: =DisplayMode.Edit
                Height: =33
                LayoutMinHeight: =33
                LayoutMinWidth: =200
                Theme: =SearchBoxThemeJson
                Width: =200
                X: =0
                Y: =0
                ZIndex: =3

        conMainHeader As groupContainer.horizontalAutoLayoutContainer:
            FillPortions: =0
            Height: =150
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutJustifyContent: =LayoutJustifyContent.Center
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =40
            PaddingRight: =Self.PaddingLeft
            PaddingTop: =32
            X: =40
            Y: =40
            ZIndex: =2

            conMainHeaderLeft As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                Height: =100
                LayoutDirection: =LayoutDirection.Vertical
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                ZIndex: =3

                Label1 As Label:
                    AlignInContainer: =AlignInContainer.Stretch
                    AutoHeight: =true
                    Color: =
                    DisplayMode: =DisplayMode.Edit
                    FontSize: =16
                    FontWeight: =FontWeight.Semibold
                    Height: =43
                    LayoutMinHeight: =32
                    LayoutMinWidth: =320
                    OnChange: =false
                    PaddingStart: =0  
                    Text: =Coalesce(Text(cbx_view.Selected.Value), "All") &" Environment Creation Requests"
                    Width: =320
                    X: =35
                    Y: =15
                    ZIndex: =1

                lblMainSubheading As Label:
                    AlignInContainer: =AlignInContainer.Stretch
                    Alignment: =Align.Left
                    AutoHeight: =true
                    Color: =
                    DisplayMode: =DisplayMode.Edit
                    FontSize: =11
                    Height: =24
                    LayoutMinHeight: =32
                    LayoutMinWidth: =320
                    OnChange: =false
                    Text: ="Select one of the requests below to view details. Admins can approve or reject Pending requests in the details page."
                    VerticalAlignment: ="middle"
                    Width: =320
                    X: =40
                    Y: =40
                    ZIndex: =2

        conMainBody As groupContainer.horizontalAutoLayoutContainer:
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            X: =40
            Y: =40
            ZIndex: =4

            conMainDetails As groupContainer.verticalAutoLayoutContainer:
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =40
                PaddingRight: =Self.PaddingLeft
                PaddingTop: =16
                ZIndex: =3

                "dlEnvRequests As 'Fluent Details List (1.0.22)'.pcfdataset":
                    AlignInContainer: =AlignInContainer.Stretch
                    columns_Items: |-
                        =Table(
                                {
                                ColName: "coe_name",
                                ColDisplayName: "ID",
                                ColWidth: 100,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            }, 
                            {
                                ColName: "coe_envdisplayname",
                                ColDisplayName: "Name",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },{
                                ColName: "cExpiration",
                                ColDisplayName: "Expiration",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },
                         
                              {
                                ColName: "coe_requeststatus",
                                ColDisplayName: "Status",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },
                            {
                                ColName: "cRequestedBy",
                                ColDisplayName: "Requested by",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },
                         
                              {
                                ColName: "cRequestedOn",
                                ColDisplayName: "Requested On",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            }
                            )
                    Compact: =false
                    DisplayMode: =DisplayMode.Edit
                    FillPortions: =1
                    Height: =200
                    Items: |-
                        =SortByColumns(
                            Search(
                               AddColumns(
                                    Filter('Environment Creation Requests', 'Request status'=cbx_view.Selected.Value || IsBlank(cbx_view.Selected)),
                                    cExpiration,
                                    If(
                                        ThisRecord.'Has expiration date',
                                        Coalesce(
                                            Text(
                                                ThisRecord.'Expiration date',
                                                "mm/dd/yyyy"
                                            ) & If(
                                                ThisRecord.'Has Extension Request',
                                                " (" & ThisRecord.'Duration Requested' & " day extension requested)"
                                            ),
                                            Text(ThisRecord.'Duration Requested') & " days (requested)",
                                            "--"
                                        ),
                                        "None"
                                    ),
                                    cRequestedBy,
                                    ThisRecord.'Created By'.'Full Name',
                                    cRequestedOn,
                                    Text(
                                        ThisRecord.'Created On',
                                        "mm/dd/yyyy"
                                    )
                                ),
                                tin_searchRequests.SearchText,
                                'Environment display name',
                                'Request  No'
                            ),
                            "coe_name",
                            SortOrder.Descending
                        )
                    LayoutMinHeight: =200
                    LayoutMinWidth: =200
                    Theme: =AppThemeJson
                    Width: =200
                    X: =0
                    Y: =0
                    ZIndex: =1

                    "'Request  No2' As pcfDataField.textualColumn":
                        FieldDisplayName: ="Request  No"
                        FieldName: ="coe_name"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =1
                        ZIndex: =13

                    "'Environment display name2' As pcfDataField.textualColumn":
                        FieldDisplayName: ="Environment display name"
                        FieldName: ="coe_envdisplayname"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =2
                        ZIndex: =14

                    "'Environment type1' As pcfDataField.textualColumn":
                        FieldDisplayName: ="Environment type"
                        FieldName: ="coe_envsku"
                        FieldType: ="l"
                        FieldVariantName: ="textualColumn"
                        Order: =3
                        ZIndex: =15

                    "'Environment region1' As pcfDataField.textualColumn":
                        FieldDisplayName: ="Environment region"
                        FieldName: ="coe_envregion"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =4
                        ZIndex: =16

                    "'Created By2' As pcfDataField":
                        FieldDisplayName: ="Created By"
                        FieldName: ="createdby"
                        FieldType: ="E"
                        FieldVariantName: ="complexTypeColumn"
                        Order: =5
                        ZIndex: =17

                    "'Created On2' As pcfDataField.textualColumn":
                        FieldDisplayName: ="Created On"
                        FieldName: ="createdon"
                        FieldType: ="d"
                        FieldVariantName: ="textualColumn"
                        Order: =6
                        ZIndex: =18

                    "'Has expiration date2' As pcfDataField.textualColumn":
                        FieldDisplayName: ="Has expiration date"
                        FieldName: ="coe_canexpire"
                        FieldType: ="l"
                        FieldVariantName: ="textualColumn"
                        Order: =7
                        ZIndex: =19

                    "'Request status2' As pcfDataField.textualColumn":
                        FieldDisplayName: ="Request status"
                        FieldName: ="coe_requeststatus"
                        FieldType: ="l"
                        FieldVariantName: ="textualColumn"
                        Order: =8
                        ZIndex: =20

                    cExpiration1 As pcfDataField.textualColumn:
                        FieldDisplayName: ="cExpiration"
                        FieldName: ="cExpiration"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =9
                        ZIndex: =21

                    cRequestedBy1 As pcfDataField.textualColumn:
                        FieldDisplayName: ="cRequestedBy"
                        FieldName: ="cRequestedBy"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =10
                        ZIndex: =22

                    cRequestedOn1 As pcfDataField.textualColumn:
                        FieldDisplayName: ="cRequestedOn"
                        FieldName: ="cRequestedOn"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =11
                        ZIndex: =23

    conDetails As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =scr_EnvironmentCreationRequests.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        Visible: =vViewDetails
        Width: =scr_EnvironmentCreationRequests.Width
        ZIndex: =2

        c_ActionHeader_1 As groupContainer.verticalAutoLayoutContainer:
            Fill: =RGBA(243, 242, 241, 1)
            FillPortions: =0
            Height: =44
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutGap: =15
            LayoutJustifyContent: =LayoutJustifyContent.End
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =32
            PaddingRight: =32
            ZIndex: =1

            "cbPoliciesView As 'Fluent Command Bar (1.0.22)'.pcfdataset":
                AlignInContainer: =AlignInContainer.Center
                DisplayMode: =DisplayMode.Edit
                FillPortions: =1
                Height: =33
                Items: |-
                    =Table(
                         {
                          ItemKey: "add",
                          ItemDisplayName: "Add environment to selected policies",
                          ItemIconName: "Add",
                          ItemEnabled: CountRows(dlAllPolicies.SelectedItems) > 0
                      },
                      {
                          ItemKey: "details",
                          ItemDisplayName: "Details",
                          ItemIconName: "Info",
                          ItemEnabled: CountRows(dlAllPolicies.SelectedItems) = 1
                      },
                      {
                          ItemKey: "view",
                          ItemDisplayName: "Edit policies in the admin center",
                          ItemIconName: "OpenInNewTab",
                          ItemEnabled: true
                      }
                    )
                LayoutMinHeight: =33
                LayoutMinWidth: =200
                OnSelect: |-
                    =Switch(
                        Self.Selected.ItemKey,
                        /* Action for ItemKey 'new' (e.g., Patch function) */
                    
                        "add",
                        ForAll(
                            dlAllPolicies.SelectedItems As tPolicy,
                                       Collect(
                                    col_selectedPolicies,
                                    tPolicy
                                       ));
                                Select(btnRefreshImpact),
                        "details",
                        Set(
                            showPanel,
                            true
                        );
                        Set(
                            pnlContext,
                            "policydetails"
                        ),
                        "open",
                        Launch("https://admin.powerplatform.microsoft.com/dlp")
                    );
                    Select(btnRefreshImpact)
                Theme: =SearchBoxThemeJson
                Visible: =showPolicies
                Width: =200
                X: =0
                Y: =0
                ZIndex: =1

            "cbEnvView As 'Fluent Command Bar (1.0.22)'.pcfdataset":
                DisplayMode: =DisplayMode.Edit
                FillPortions: =1
                Height: =200
                Items: |-
                    =Table(
                      {
                          ItemKey: "approve",
                          ItemDisplayName: "Approve",
                          ItemIconName: "CheckMark",
                          ItemEnabled: If(Text(var_selectedCreateReq.'Request status')="Pending",true,false)
                      },
                      {
                          ItemKey: "reject",
                          ItemDisplayName: "Reject",
                          ItemIconName: "Cancel",
                          ItemEnabled: If(Text(var_selectedCreateReq.'Request status')="Pending",true,false)
                      },
                        {
                          ItemKey: "email",
                          ItemDisplayName: "Email admins",
                          ItemIconName: "Mail",
                          ItemEnabled: true
                      }
                    )
                LayoutMinHeight: =33
                LayoutMinWidth: =200
                OnSelect: |-
                    =Switch(
                        Self.Selected.ItemKey,
                        /* Action for ItemKey 'new' (e.g., Patch function) */
                        "approve",
                        ForAll(
                            col_selectedPolicies,
                            Patch(
                                'DLP Policy Change Requests',
                                Defaults('DLP Policy Change Requests'),
                                {
                                    'Action Requested': 'Action Requested (DLP Policy Change Requests)'.'Apply a Policy to an Environment',
                                    'Environment Creation Request': var_selectedCreateReq,
                                    'Policy Id': ThisRecord.name
                                }
                            )
                        );
                        Patch(
                            'Environment Creation Requests',
                            LookUp(
                                'Environment Creation Requests',
                                'Environment Creation Request' = var_selectedCreateReq.'Environment Creation Request'
                            ),
                            {
                                'Request status': 'Approval Status'.Approved,
                                'Database security group ID': var_selectedSecurityGroup.id
                            }
                        );
                        Notify(
                            "Approved the Environment Creation Request for " & var_selectedCreateReq.'Environment display name' & ".",
                            NotificationType.Success
                        );
                        Refresh('Environment Creation Requests');
                        Set(
                            vViewDetails,
                            false
                        ),
                        "reject",
                        Patch(
                            'Environment Creation Requests',
                            LookUp(
                                'Environment Creation Requests',
                                'Environment Creation Request' = var_selectedCreateReq.'Environment Creation Request'
                            ),
                            {'Request status': 'Approval Status'.Rejected}
                        );
                        Notify(
                            "Rejected the Environment Creation Request for " & var_selectedCreateReq.'Environment display name' & ".",
                            NotificationType.Information
                        );
                        Refresh('Environment Creation Requests');
                        ,
                        "email",
                        Launch("mailto:" & Concat(
                            col_requestedMakers,
                            'User Principal Name',
                            ";"
                        ) & "?subject=" & var_selectedCreateReq.'Request  No' & ": '" & var_selectedCreateReq.'Environment display name' & "' Environment Creation Request")
                    )
                Theme: =SearchBoxThemeJson
                Visible: |
                    =!showPolicies
                Width: =200
                X: =0
                Y: =0
                ZIndex: =2

            btnViewDetails As Button:
                BorderColor: =
                DisabledBorderColor: =
                DisabledFillColor: =
                DisabledTextColor: =
                DisplayMode: =DisplayMode.Edit
                FillColor: =
                Height: =32
                HoverBorderColor: =
                HoverFillColor: =
                HoverTextColor: =
                LayoutMinHeight: =32
                LayoutMinWidth: =96
                OnChange: =false
                OnSelect: |
                    = Set(var_selectedCreateReq, dlEnvRequests.Selected); Clear(col_selectedPolicies);
                    ClearCollect( col_requestedConnectors, dlEnvRequests.Selected.'PowerApps Connectors');
                    ClearCollect( col_requestedMakers, dlEnvRequests.Selected.Makers); 
                    Collect( col_requestedMakers, LookUp(Makers, 'User Principal Name' = dlEnvRequests.Selected.'Created By'.'User Name'));
                    ClearCollect( col_reqConnBlockedStatus, ShowColumns(col_requestedConnectors, admin_id, admin_displayname, admin_iconuri));
                    /* Navigate with context variables */
                    UpdateContext({var_notes: dlEnvRequests.Selected.'Notes (coe_notes)', var_adminControlsMode: If(dlEnvRequests.Selected.Status = 'Status (Environment Creation Requests)'.Active, 
                            DisplayMode.Edit, DisplayMode.Disabled)
                        , var_securityGroupId: dlEnvRequests.Selected.'Database security group ID'
                        , var_selectedSecurityGroup: LookUp( col_groups, id = dlEnvRequests.Selected.'Database security group ID' )
                        , var_initialSecurityGroupId: dlEnvRequests.Selected.'Database security group ID'
                        , var_init_row: true
                    }); 
                    
                    If( !IsBlank(dlEnvRequests.Selected.'Database security group ID'), 
                        Set( var_selectedSecurityGroup, LookUp(col_groups, id=dlEnvRequests.Selected.'Database security group ID')),
                        Set( var_selectedSecurityGroup, Blank() );
                    );
                    
                    /* evaluate each policy's impact on the requested connectors */
                    ClearCollect( col_tempImpactingPolicies, 
                        AddColumns( col_allPolicies,
                        hasBlockedConnectors, !IsEmpty(Filter( blocked, id in col_requestedConnectors.admin_id)),
                        hasGeneralConnectors, !IsEmpty(Filter( general, id in col_requestedConnectors.admin_id)),
                        hasConfidentialConnectors, !IsEmpty(Filter( confidential, id in col_requestedConnectors.admin_id)))
                    );
                    
                    ClearCollect(col_policyImpact, AddColumns(col_tempImpactingPolicies, 
                        hasRestriction, hasGeneralConnectors && hasConfidentialConnectors,
                        impact, 0 + If( hasBlockedConnectors, 1, If( hasGeneralConnectors && hasConfidentialConnectors, 2)))
                    );
                    
                    /* Take a copy of the policies before removing selected ones */
                    ClearCollect( col_unselectedPolicies, col_policyImpact );
                    ClearCollect( col_includePoliciesImpact, Filter(col_policyImpact, environmentType = "OnlyEnvironments" ) );
                    ClearCollect( col_excludePoliciesImpact, Filter(col_policyImpact, environmentType = "ExceptEnvironments" ) );
                    
                    /* If policies are selected, remove selected exclude from and add selected include policies to impacted list, else remove all include policies from list */
                    If( !IsEmpty( col_selectedPolicies ),
                        /* If Exclude policy has been selected, remove from impacting policies list */
                        ClearCollect( col_selectedExceptEnvironments, Filter( col_selectedPolicies, environmentType = "ExceptEnvironments").name);
                        Remove( col_policyImpact, Filter(col_policyImpact, name in col_selectedExceptEnvironments.name));
                    
                        /* If Include policy has been selected, add to impacting policies list */
                        ClearCollect( col_selectedIncludeEnvironments, Filter( col_selectedPolicies, environmentType = "OnlyEnvironments").name);
                        Remove( col_policyImpact, Filter(col_policyImpact, !(name in col_selectedIncludeEnvironments.name)) );
                        ,
                        /* If no policies were selected, remove all Include policies from impact list*/
                        Remove( col_policyImpact, Filter(col_policyImpact, name in col_includePoliciesImpact.name ));
                    );
                    
                    Clear(col_blockedConnectors); Clear(col_blockingPolicies); Clear(col_restrictedConnectors); Clear(col_restrictingPolicies);
                    
                    ForAll( col_policyImpact, 
                        /* evaluate if any impacting policies are blocking connectors */
                            /* collect blocked connectors and blocking policy */
                            If( ThisRecord.hasBlockedConnectors, 
                                Collect( col_blockedConnectors, Filter( ThisRecord.blocked, id in col_requestedConnectors.admin_id));
                                Collect( col_blockingPolicies, ThisRecord)
                            );
                    
                            /* collect restricted connectors and blocking policy */
                            If( ThisRecord.hasRestriction,  
                                Collect( col_restrictedConnectors, general, confidential );
                                Collect( col_restrictingPolicies, ThisRecord)
                            )
                    );
                    
                    If( var_init_row, ClearCollect( col_originalPolicyImpact, col_policyImpact); UpdateContext({ var_init_row: false }) );
                    
                    ClearCollect( col_impactSummary, Filter( col_unselectedPolicies, name in col_originalPolicyImpact.name || name in col_selectedIncludeEnvironments.name));
                    
                    /* check all types of impacting policies  */
                    ClearCollect( col_impactSummaryTypes, ForAll(Distinct( col_impactSummary, environmentType ), {Result: ThisRecord.Value}));
                    
                    UpdateContext({ var_impactingPolicyType: 0 });
                    
                    ClearCollect( col_impactSummaryTypeValues, 
                        AddColumns( col_impactSummaryTypes, Value, 
                            Switch(Result,
                                "AllEnvironments", 1,
                                "OnlyEnvironments", 2,
                                "ExceptEnvironments", 4
                            )
                    	)
                    );
                    
                    col_sharedPolicies.'Policy Id';
                    
                    UpdateContext({ var_impactingPolicyType: Sum(col_impactSummaryTypeValues, Value) });
                    ClearCollect( col_handledBlockingExcludePolicies, Filter( col_impactSummary, name in col_selectedPolicies.name ));
                    
                    /* Add include policy suggestion if there are only exclude policies impacting the environment that will be blocking */
                    If( var_impactingPolicyType = 4 && !IsEmpty(col_handledBlockingExcludePolicies),
                        UpdateContext({ var_suggestedSharedPolicy: LookUp( col_unselectedPolicies, name in col_sharedPolicies.'Policy Id' && impact = 0 ) });
                        Collect( col_impactSummary, var_suggestedSharedPolicy )
                    );
                    
                    /* Warning message calculation */
                    UpdateContext({ 
                        var_condition : If( !IsEmpty(col_blockedConnectors), "BLOCKED", 
                            If(!IsEmpty(col_restrictedConnectors), "RESTRICTED", 
                            "UNBLOCKED")
                        ),
                    
                        var_configs: If( !IsEmpty(col_selectedPolicies), "CONFIGURED", 
                            If(!IsEmpty(col_allNonIncludePolicies), "UNCONFIGURED", 
                            "NONE")
                        ),
                    
                        triggerRefresh: false 
                    });
                    
                    /**/
                    If( var_selectedCreateReq.Status = 'Status (Environment Creation Requests)'.Inactive, 
                        ClearCollect( col_linkedChangeRequests, var_selectedCreateReq.'DLP Policy Change Requests' );
                        ClearCollect( col_dlpChangeRequestPolicies, Filter( col_unselectedPolicies, name in col_linkedChangeRequests.'Policy Id'));
                    );
                    
                    UpdateContext({ var_environmentId: Coalesce( Text(var_selectedCreateReq.Environment.Environment), var_selectedCreateReq.'Environment name') });
                    UpdateContext({ var_environmentExists: false });
                    UpdateContext({ var_currentEnvironment: LookUp(Environments, Environment = GUID(var_environmentId) ) });
                    If( !IsBlank( var_currentEnvironment ), UpdateContext({ var_environmentExists: true }));
                    
                    
                      Set(vViewDetails, true)
                PressedBorderColor: =
                PressedFillColor: =
                PressedTextColor: =
                TextColor: =
                Visible: =false
                Width: =96
                X: =0
                Y: =0
                ZIndex: =3

            "sbPolicies As 'Fluent SearchBox (1.0.22) Preview'":
                AlignInContainer: =AlignInContainer.Center
                DisplayMode: =DisplayMode.Edit
                Height: =33
                LayoutMinHeight: =33
                LayoutMinWidth: =200
                Theme: =SearchBoxThemeJson
                Visible: =showPolicies
                Width: =200
                X: =0
                Y: =0
                ZIndex: =4

            btnRefreshImpact As button:
                Align: =Align.Right
                BorderColor: =RGBA(0, 0, 0, 0)
                BorderThickness: =0
                Color: =RGBA(50, 50, 50, 1)
                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                DisabledColor: =RGBA(166, 166, 166, 1)
                DisabledFill: =RGBA(244, 244, 244, 1)
                Fill: =RGBA(0, 0, 0, 0)
                FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                Font: =Font.'Segoe UI'
                HoverBorderColor: =RGBA(0, 0, 0, 0)
                HoverColor: =RGBA(0, 0, 0, 1)
                HoverFill: =ColorFade(RGBA(105, 121, 126, 0.1), -10%)
                OnSelect: |
                    =/* evaluate each policy's impact on the requested connectors */
                    ClearCollect( col_tempImpactingPolicies, 
                        AddColumns( col_allPolicies,
                        hasBlockedConnectors, !IsEmpty(Filter( blocked, id in col_requestedConnectors.admin_id)),
                        hasGeneralConnectors, !IsEmpty(Filter( general, id in col_requestedConnectors.admin_id)),
                        hasConfidentialConnectors, !IsEmpty(Filter( confidential, id in col_requestedConnectors.admin_id)))
                    );
                    
                    ClearCollect(col_policyImpact, AddColumns(col_tempImpactingPolicies, 
                        hasRestriction, hasGeneralConnectors && hasConfidentialConnectors,
                        impact, 0 + If( hasBlockedConnectors, 1, If( hasGeneralConnectors && hasConfidentialConnectors, 2)))
                    );
                    
                    /* Take a copy of the policies before removing selected ones */
                    ClearCollect( col_unselectedPolicies, col_policyImpact );
                    ClearCollect( col_includePoliciesImpact, Filter(col_policyImpact, environmentType = "OnlyEnvironments" ) );
                    ClearCollect( col_excludePoliciesImpact, Filter(col_policyImpact, environmentType = "ExceptEnvironments" ) );
                    
                    /* If policies are selected, remove selected exclude from and add selected include policies to impacted list, else remove all include policies from list */
                    If( !IsEmpty( col_selectedPolicies ),
                        /* If Exclude policy has been selected, remove from impacting policies list */
                        ClearCollect( col_selectedExceptEnvironments, Filter( col_selectedPolicies, environmentType = "ExceptEnvironments").name);
                        Remove( col_policyImpact, Filter(col_policyImpact, name in col_selectedExceptEnvironments.name));
                    
                        /* If Include policy has been selected, add to impacting policies list */
                        ClearCollect( col_selectedIncludeEnvironments, Filter( col_selectedPolicies, environmentType = "OnlyEnvironments").name);
                        Remove( col_policyImpact, Filter(col_policyImpact, !(name in col_selectedIncludeEnvironments.name)) );
                        ,
                        /* If no policies were selected, remove all Include policies from impact list*/
                        Remove( col_policyImpact, Filter(col_policyImpact, name in col_includePoliciesImpact.name ));
                    );
                    
                    Clear(col_blockedConnectors); Clear(col_blockingPolicies); Clear(col_restrictedConnectors); Clear(col_restrictingPolicies);
                    
                    ForAll( col_policyImpact, 
                        /* evaluate if any impacting policies are blocking connectors */
                            /* collect blocked connectors and blocking policy */
                            If( ThisRecord.hasBlockedConnectors, 
                                Collect( col_blockedConnectors, Filter( ThisRecord.blocked, id in col_requestedConnectors.admin_id));
                                Collect( col_blockingPolicies, ThisRecord)
                            );
                    
                            /* collect restricted connectors and blocking policy */
                            If( ThisRecord.hasRestriction,  
                                Collect( col_restrictedConnectors, general, confidential );
                                Collect( col_restrictingPolicies, ThisRecord)
                            )
                    );
                    
                    col_sharedPolicies.'Policy Id';
                    
                    If( var_init_row, ClearCollect( col_originalPolicyImpact, col_policyImpact); UpdateContext({ var_init_row: false }) );
                    
                    ClearCollect( col_impactSummary, Filter( col_unselectedPolicies, name in col_originalPolicyImpact.name || name in col_selectedIncludeEnvironments.name));
                    
                    /* check all types of impacting policies  */
                    ClearCollect( col_impactSummaryTypes, ForAll(Distinct( col_impactSummary, environmentType ), {Result: ThisRecord.Value}));
                    
                    UpdateContext({ var_impactingPolicyType: 0 });
                    
                    ClearCollect( col_impactSummaryTypeValues, 
                        AddColumns( col_impactSummaryTypes, Value, 
                            Switch(Result,
                                "AllEnvironments", 1,
                                "OnlyEnvironments", 2,
                                "ExceptEnvironments", 4
                            )
                    	)
                    );
                    
                    UpdateContext({ var_impactingPolicyType: Sum(col_impactSummaryTypeValues, Value) });
                    ClearCollect( col_handledBlockingExcludePolicies, Filter( col_impactSummary, name in col_selectedPolicies.name ));
                    
                    /* Add include policy suggestion if there are only exclude policies impacting the environment that will be blocking */
                    If( var_impactingPolicyType = 4 && !IsEmpty(col_handledBlockingExcludePolicies),
                        UpdateContext({ var_suggestedSharedPolicy: LookUp( col_unselectedPolicies, name in col_sharedPolicies.'Policy Id' && impact = 0 ) });
                        Collect( col_impactSummary, var_suggestedSharedPolicy )
                    );
                    
                    /* Warning message calculation */
                    UpdateContext({ 
                        var_condition : If( !IsEmpty(col_blockedConnectors), "BLOCKED", 
                            If(!IsEmpty(col_restrictedConnectors), "RESTRICTED", 
                            "UNBLOCKED")
                        ),
                    
                        var_configs: If( !IsEmpty(col_selectedPolicies), "CONFIGURED", 
                            If(!IsEmpty(col_allNonIncludePolicies), "UNCONFIGURED", 
                            "NONE")
                        ),
                    
                        triggerRefresh: false 
                    });
                    
                    /**/
                    If( var_selectedCreateReq.Status = 'Status (Environment Creation Requests)'.Inactive, 
                        ClearCollect( col_linkedChangeRequests, var_selectedCreateReq.'DLP Policy Change Requests' );
                        ClearCollect( col_dlpChangeRequestPolicies, Filter( col_unselectedPolicies, name in col_linkedChangeRequests.'Policy Id'));
                    );
                    
                    UpdateContext({ var_environmentId: Coalesce( Text(var_selectedCreateReq.Environment.Environment), var_selectedCreateReq.'Environment name') });
                    UpdateContext({ var_environmentExists: false });
                    UpdateContext({ var_currentEnvironment: LookUp(Environments, Environment = GUID(var_environmentId))});
                    If( !IsBlank( var_currentEnvironment ), UpdateContext({ var_environmentExists: true }));
                PaddingRight: =15
                PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                PressedColor: =RGBA(0, 0, 0, 1)
                PressedFill: =ColorFade(RGBA(105, 121, 126, 0.01), -30%)
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Size: =12
                Text: ="↩ Refresh"
                Visible: =false
                Width: =100
                ZIndex: =5

        Container26_2 As groupContainer.verticalAutoLayoutContainer:
            Height: =Parent.Height - Self.Y
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            Width: =Parent.Width
            X: =c_ActionHeader.X
            ZIndex: =4

            c_warning As groupContainer.horizontalAutoLayoutContainer:
                Fill: =Coalesce(ColorValue(LookUp(tbl_warnings, Condition=var_condition && Policy=var_configs && ImpactingPolicyType = var_impactingPolicyType).Color),RGBA(0,0,0,0))
                FillPortions: =0
                Height: =Max(30, lbl_message.Height)
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =5
                Visible: =var_selectedCreateReq.'Request status' = 'Approval Status'.Pending && !IsBlank(LookUp(tbl_warnings, Condition=var_condition && Policy=var_configs && ImpactingPolicyType = var_impactingPolicyType).Message)
                ZIndex: =1

                Icon6 As icon.CheckBadge:
                    BorderColor: =RGBA(166, 166, 166, 1)
                    Color: =ColorValue(LookUp(tbl_warnings, Condition=var_condition && Policy=var_configs && ImpactingPolicyType = var_impactingPolicyType).IconColor)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(220, 220, 220, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.View
                    FocusedBorderThickness: =4
                    Height: =40
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Icon: =Switch(LookUp(tbl_warnings, Condition=var_condition && Policy=var_configs).Icon, "OK", Icon.CheckBadge, Icon.Warning)
                    PaddingBottom: =10
                    PaddingLeft: =12
                    PaddingRight: =12
                    PaddingTop: =10
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Width: =40
                    ZIndex: =1

                lbl_message As label:
                    AutoHeight: =true
                    BorderColor: =ColorFade(Self.Fill, -10%)
                    Color: =RGBA(52, 60, 63, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FillPortions: =1
                    Font: =Font.'Segoe UI'
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =10
                    Text: =LookUp(tbl_warnings, Condition=var_condition && Policy=var_configs && ImpactingPolicyType = var_impactingPolicyType).Message
                    ZIndex: =2

            c_inactiveStatus As groupContainer.horizontalAutoLayoutContainer:
                Fill: |-
                    =ColorValue("#fff4ce")
                FillPortions: =0
                Height: =30
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =5
                Visible: =var_selectedCreateReq.Status = 'Status (Environment Creation Requests)'.Inactive
                ZIndex: =2

                icon_inactive As icon.CheckBadge:
                    BorderColor: =RGBA(166, 166, 166, 1)
                    Color: |-
                        =ColorValue("#797673")
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(220, 220, 220, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    DisplayMode: =DisplayMode.View
                    FocusedBorderThickness: =4
                    Height: =Parent.Height
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Icon: =Icon.Warning
                    OnSelect: =
                    PaddingBottom: =5
                    PaddingLeft: =12
                    PaddingRight: =12
                    PaddingTop: =5
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Width: =40
                    ZIndex: =1

                lbl_message_1 As label:
                    AutoHeight: =true
                    BorderColor: =ColorFade(Self.Fill, -10%)
                    Color: =icon_inactive.Color
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FillPortions: =1
                    Font: =Font.'Segoe UI'
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =11
                    Text: ="This record is inactive. Changes cannot be made to inactive Environment Creation Request records."
                    ZIndex: =2

            c_ecrHeader As groupContainer.horizontalAutoLayoutContainer:
                FillPortions: =0
                Height: =60
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =5
                PaddingLeft: =20
                ZIndex: =3

                "Breadcrumb1 As 'Fluent Breadcrumb (1.0.22)'.pcfdataset":
                    AlignInContainer: =AlignInContainer.Stretch
                    DisplayMode: =DisplayMode.Edit
                    Height: =200
                    ItemKey: =""
                    Items: |-
                        =Table(
                            {
                                ItemKey: "1",
                                ItemDisplayName: "Environment Creation Requests",
                                ItemClickable: true
                            },
                            {
                                ItemKey: "2",
                                ItemDisplayName: var_selectedCreateReq.'Environment display name',
                                ItemClickable: true
                            }
                            )
                    LayoutMinHeight: =50
                    LayoutMinWidth: =200
                    MaxDisplayedItems: =
                    OnSelect: |-
                        = Switch( Self.Selected.ItemKey,
                            /* Action for ItemKey 1 */
                            "1", Set(vViewDetails,false);Set(showPolicies, false),
                            "2", Set(showPolicies, false)
                         )
                    Theme: =AppThemeJson
                    Width: =200
                    X: =0
                    Y: =0
                    ZIndex: =1

            con_policies As groupContainer.verticalAutoLayoutContainer:
                FillPortions: =0
                Height: =Parent.Height - Self.Y-c_ecrHeader.Height-c_warning.Height-c_inactiveStatus.Height
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =20
                Visible: =showPolicies
                Width: =Parent.Width
                ZIndex: =4

                Label9 As label:
                    AlignInContainer: =AlignInContainer.Stretch
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(50, 50, 50, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    Font: =Font.'Segoe UI'
                    Height: =70
                    PaddingBottom: =10
                    PaddingLeft: =10
                    Size: =11
                    Text: ="Add the environment to one of the policies below to either include or exclude it from that policy (depending on the Environment filter type of the policy). The new environment will be added to that policy if the request is approved."
                    VerticalAlign: =VerticalAlign.Top
                    ZIndex: =3

                "dlAllPolicies As 'Fluent Details List (1.0.22)'.pcfdataset":
                    AlignInContainer: =AlignInContainer.Stretch
                    columns_Items: |-
                        =Table(
                            {
                                ColName: "displayName",
                                ColDisplayName: "Policy Name",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },     
                             {
                                ColName: "cType",
                                ColDisplayName: "Environment filter type",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            }, 
                            {
                                ColName: "cEnvs",
                                ColDisplayName: "Applied to",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            }, 
                            {
                                ColName: "cVisible",
                                ColDisplayName: "Visible to makers",
                                ColWidth: 150,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },
                         
                              {
                                ColName: "cImpact",
                                ColDisplayName: "Impact",
                                ColWidth: 150,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },
                            {
                                ColName: "ModifiedByName",
                                ColDisplayName: "Modified by",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            },
                         
                              {
                                ColName: "fModifiedTime",
                                ColDisplayName: "Modified",
                                ColWidth: 200,
                                ColSortable: true,
                                ColIsBold: false,
                                ColResizable: true
                            }
                            )
                    Compact: =false
                    DisplayMode: =DisplayMode.Edit
                    FillPortions: =1
                    Height: =200
                    Items: |-
                        =Search(
                            AddColumns(
                                Filter(
                                    col_unselectedPolicies,
                                    environmentType = "OnlyEnvironments"
                                ),
                                cType,
                                Switch(
                                    ThisRecord.environmentType,
                                    "AllEnvironments",
                                    "All environments",
                                    "ExceptEnvironments",
                                    "Exclude certain environments",
                                    "OnlyEnvironments",
                                    "Multiple environments"
                                ),
                                cEnvs,
                                Switch(
                                    CountRows(ThisRecord.environments),
                                    0,
                                    "All environments",
                                    1,
                                    LookUp(
                                        Environments,
                                        Environment = GUID(First(environments).name)
                                    ).'Display Name',
                                    CountRows(ThisRecord.environments) & " environments"
                                ),
                                cVisible,
                                If(
                                    ThisRecord.name in Filter(
                                        'DLP Policies',
                                        'Is Shared' = 'Is Shared (DLP Policies)'.Yes
                                    ).'Policy Id',
                                    "✔",
                                    ""
                                ),
                                cImpact,
                                Switch(
                                    ThisRecord.impact,
                                    0,
                                    "✅",
                                    1,
                                    "⛔",
                                    2,
                                    "🟡"
                                )
                            ),
                            sbPolicies.SearchText,
                            name,
                            displayName
                        )
                    LayoutMinHeight: =200
                    LayoutMinWidth: =200
                    SelectionType: ='PowerCAT.FluentDetailsList.SelectionType'.Multiple
                    Theme: =AppThemeJson
                    Width: =200
                    X: =0
                    Y: =0
                    ZIndex: =7

                    cImpact2 As pcfDataField.textualColumn:
                        FieldDisplayName: ="cImpact"
                        FieldName: ="cImpact"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =1
                        ZIndex: =42

                    cEnvs1 As pcfDataField.textualColumn:
                        FieldDisplayName: ="cEnvs"
                        FieldName: ="cEnvs"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =2
                        ZIndex: =43

                    cType2 As pcfDataField.textualColumn:
                        FieldDisplayName: ="cType"
                        FieldName: ="cType"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =3
                        ZIndex: =44

                    cVisible1 As pcfDataField.textualColumn:
                        FieldDisplayName: ="cVisible"
                        FieldName: ="cVisible"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =4
                        ZIndex: =45

                    displayName3 As pcfDataField.textualColumn:
                        FieldDisplayName: ="displayName"
                        FieldName: ="displayName"
                        FieldType: ="s"
                        FieldVariantName: ="textualColumn"
                        Order: =5
                        ZIndex: =46

            con_mainContent As groupContainer.horizontalAutoLayoutContainer:
                FillPortions: =0
                Height: =1500
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Visible: =!showPolicies
                ZIndex: =5

                con_leftpanel As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =7
                    Height: =400+ 200 + 60 + c_sec_impactingPolicies.Height
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =600
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    ZIndex: =1

                    c_sec_details As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =c_details.Height + 30
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        Width: =Parent.Width
                        ZIndex: =1

                        html_bxsh_details As htmlViewer:
                            Font: =Font.'Segoe UI'
                            Height: =Parent.Height
                            HtmlText: |-
                                ="<div style='
                                	width:"& Self.Width-50 &"px;
                                	height:"& Self.Height-25 &"px;
                                    margin-left: 20px;
                                    margin-top: 10px;
                                    border-radius:1px;
                                	background: white;
                                	box-shadow: rgba(0, 0, 0, .11) 0px 1.6px 3.6px;
                                '>
                                    <div style='
                                        width:"& Self.Width-50 &"px;
                                        height:50px;
                                        padding:15px;
                                        border-bottom:1px solid rgba(230,230,230,0);
                                        font-size:14px;
                                        font-weight:600;
                                        color:rgb(50,50,50);
                                    '> Details</div>
                                </div>"
                            PaddingBottom: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =14
                            Width: =Parent.Width
                            ZIndex: =1

                        c_details As groupContainer.verticalAutoLayoutContainer:
                            Height: =610
                            LayoutAlignItems: =LayoutAlignItems.Stretch
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =20
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =40
                            PaddingTop: =10
                            Width: =Parent.Width - 20
                            ZIndex: =4

                            c_h_details As groupContainer.horizontalAutoLayoutContainer:
                                FillPortions: =0
                                Height: =50
                                LayoutJustifyContent: =LayoutJustifyContent.End
                                LayoutMinHeight: =100
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                PaddingRight: =10
                                ZIndex: =1

                                btnEditDetails As button:
                                    Align: =Align.Right
                                    AlignInContainer: =AlignInContainer.Center
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderThickness: =0
                                    Color: =ColorValue(AppTheme.palette.themePrimary)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(200,200,200, 1)
                                    DisabledFill: =RGBA(0, 0, 0, 0)
                                    DisplayMode: =DisplayMode.Edit //If( var_selectedCreateReq.Status = 'Status (Environment Creation Requests)'.Active, DisplayMode.Edit, DisplayMode.Disabled)
                                    Fill: =RGBA(0, 0, 0, 0)
                                    FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                                    Font: =Font.'Segoe UI'
                                    Height: =30
                                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                                    HoverColor: =ColorFade(ColorValue(AppTheme.palette.themePrimary),20%)
                                    HoverFill: =RGBA(0,0,0,0)
                                    OnSelect: =Set(showPanel, true); Set(pnlContext, "editDetails");
                                    PaddingLeft: =10
                                    PaddingRight: =10
                                    PressedBorderColor: =Self.BorderColor
                                    PressedColor: =RGBA(0, 0, 0, 1)
                                    PressedFill: =ColorFade(RGBA(105, 121, 126, 0.01), -30%)
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Size: =11
                                    Text: ="Edit details"
                                    Width: =300
                                    ZIndex: =1

                            gal_requestDetails As gallery.galleryVertical:
                                '#CopilotOverlayLabel': ="Filtered"
                                AlignInContainer: =AlignInContainer.SetByContainer
                                BorderColor: =RGBA(166, 166, 166, 1)
                                FillPortions: =0
                                Height: =RoundUp(CountRows(Self.AllItems)/ 3, 0) * 60
                                Items: |-
                                    =Table({Label: "State",Value: Text(var_selectedCreateReq.'Request status') },
                                        {Label: "Environment Owner",Value: Coalesce(Text(var_selectedCreateReq.'Environment Owner'.'Full Name'), "NA") },
                                        {Label: "Region",Value: LookUp(col_regions, name=var_selectedCreateReq.'Environment region').DisplayName },
                                        {Label: "Requested by",Value: Text(var_selectedCreateReq.'Created By'.'Full Name')}, 
                                        {Label: "Can Expire",Value: Coalesce(Text(var_selectedCreateReq.'Has expiration date'), "No") },
                                        If(var_selectedCreateReq.'Has expiration date',
                                            {Label: "Requested Duration",Value: Text(var_selectedCreateReq.'Duration Requested' + 0 & " days") }
                                        ),
                                        {Label: "Has Dataverse",Value: Text(var_selectedCreateReq.'Has database')},
                                        If(var_selectedCreateReq.'Has database', 
                                            {Label: "Language",Value: LookUp(col_languages, name=Text(var_selectedCreateReq.'Database language')).DisplayName }
                                        ),
                                        If(var_selectedCreateReq.'Has database', 
                                            {Label: "Currency",Value: Text(var_selectedCreateReq.'Database currency') }
                                        ),
                                        {Label:"Business Area",Value:Coalesce(var_selectedCreateReq.'Business Area'.'Area Name', "NA") },
                                        {Label: "Comments",Value: Coalesce(Text(var_selectedCreateReq.Comments), "NA") },
                                         {Label: "PCF enabled?",Value: Coalesce(Text(var_selectedCreateReq.'Enable PCF Control?'), "NA") }
                                        )
                                Layout: =Layout.Vertical
                                LayoutMinHeight: =100
                                LayoutMinWidth: =320
                                ShowScrollbar: =false
                                TemplatePadding: =0
                                TemplateSize: =60
                                WrapCount: =3
                                ZIndex: =2

                                Container17_2 As groupContainer.verticalAutoLayoutContainer:
                                    Height: =Parent.TemplateHeight
                                    LayoutDirection: =LayoutDirection.Vertical
                                    LayoutMode: =LayoutMode.Auto
                                    Width: =Parent.TemplateWidth
                                    ZIndex: =1

                                    Label15_4 As label:
                                        AlignInContainer: =AlignInContainer.Stretch
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(80, 80, 80, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        FontWeight: =FontWeight.Semibold
                                        Height: =20
                                        PaddingBottom: =2
                                        Size: =10
                                        Text: =ThisItem.Label
                                        ZIndex: =1

                                    Label16_2 As label:
                                        AlignInContainer: =AlignInContainer.Stretch
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =RGBA(51, 51, 51, 1)
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        PaddingBottom: =10
                                        PaddingTop: =0
                                        Size: =12
                                        Text: =ThisItem.Value
                                        ZIndex: =2

                            c_justification As groupContainer.verticalAutoLayoutContainer:
                                AlignInContainer: =AlignInContainer.SetByContainer
                                FillPortions: =0
                                Height: =lbl_val_justification.Height + lbl_hdr_justification.Height
                                LayoutAlignItems: =LayoutAlignItems.Stretch
                                LayoutDirection: =LayoutDirection.Vertical
                                LayoutMinHeight: =100
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                Width: =450
                                X: =20
                                Y: =60
                                ZIndex: =3

                                lbl_hdr_justification As label:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(80, 80, 80, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    FontWeight: =FontWeight.Semibold
                                    Size: =10
                                    Text: ="Business Justification"
                                    ZIndex: =1

                                lbl_val_justification As label:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(51, 51, 51, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    PaddingBottom: =10
                                    PaddingRight: =40
                                    Size: =12
                                    Text: =Coalesce(var_selectedCreateReq.Justification,"{no data}")
                                    ZIndex: =2

                            c_Attachments As groupContainer.verticalAutoLayoutContainer:
                                AlignInContainer: =AlignInContainer.SetByContainer
                                DropShadow: =DropShadow.Light
                                Height: =150
                                LayoutMinHeight: =100
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                LayoutOverflowY: =LayoutOverflow.Scroll
                                RadiusBottomLeft: =4
                                RadiusBottomRight: =4
                                RadiusTopLeft: =4
                                RadiusTopRight: =4
                                ZIndex: =5

                                FormViewer1 As formViewer:
                                    AlignInContainer: =AlignInContainer.SetByContainer
                                    BorderColor: =RGBA(166, 166, 166, 1)
                                    DataSource: ='Environment Creation Requests'
                                    Item: =LookUp('Environment Creation Requests', 'Environment Creation Request'=var_selectedCreateReq.'Environment Creation Request')
                                    LayoutMinHeight: =250
                                    LayoutMinWidth: =400
                                    NumberOfColumns: =2
                                    ZIndex: =1

                                    Attachments_DataCard1 As typedDataCard.attachmentsViewCard:
                                        BorderColor: =RGBA(166, 166, 166, 1)
                                        BorderStyle: =BorderStyle.Solid
                                        DataField: ="{Attachments}"
                                        Default: =ThisItem.Attachments
                                        DisplayMode: =DisplayMode.View
                                        DisplayName: =DataSourceInfo([@'Environment Creation Requests'],DataSourceInfo.DisplayName,'{Attachments}')
                                        Fill: =RGBA(0, 0, 0, 0)
                                        Height: =50
                                        Required: =false
                                        Update: =DataCardValue9.Attachments
                                        Width: =444
                                        X: =0
                                        Y: =0
                                        ZIndex: =1

                                        DataCardKey9 As label:
                                            AutoHeight: =true
                                            BorderColor: =RGBA(0, 0, 0, 0)
                                            BorderStyle: =BorderStyle.None
                                            BorderThickness: =2
                                            Color: =RGBA(51, 51, 51, 1)
                                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                            DisabledColor: =RGBA(166, 166, 166, 1)
                                            FocusedBorderThickness: =2
                                            Font: =Font.'Segoe UI'
                                            FontWeight: =FontWeight.Semibold
                                            Height: =34
                                            PaddingLeft: =0
                                            Size: =10.5
                                            Text: =Parent.DisplayName
                                            Width: =Parent.Width - 60
                                            Wrap: =false
                                            X: =30
                                            Y: =10
                                            ZIndex: =1

                                        DataCardValue9 As attachments:
                                            BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                                            BorderStyle: =BorderStyle.None
                                            BorderThickness: =2
                                            Color: =RGBA(51, 51, 51, 1)
                                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                            DisabledColor: =RGBA(166, 166, 166, 1)
                                            DisabledFill: =RGBA(244, 244, 244, 1)
                                            DisplayMode: =Parent.DisplayMode
                                            FocusedBorderThickness: =2
                                            Font: =Font.'Segoe UI'
                                            HoverColor: =RGBA(51, 51, 51, 1)
                                            HoverFill: =RGBA(212, 212, 212, 1)
                                            IsInDataCard: =true
                                            ItemColor: =RGBA(0, 0, 0, 1)
                                            ItemFill: =RGBA(0, 120, 212, 1)
                                            ItemHoverColor: =RGBA(51, 51, 51, 1)
                                            ItemHoverFill: =RGBA(212, 212, 212, 1)
                                            Items: =Parent.Default
                                            ItemSpacing: =12
                                            NoAttachmentsColor: =RGBA(166, 166, 166, 1)
                                            PaddingBottom: =5
                                            PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                                            PaddingRight: =5
                                            PaddingTop: =5
                                            PressedColor: =RGBA(255, 255, 255, 1)
                                            PressedFill: =RGBA(0, 120, 212, 1)
                                            Size: =10.5
                                            Width: =Parent.Width - 60
                                            X: =30
                                            Y: =DataCardKey9.Y + DataCardKey9.Height + 5
                                            ZIndex: =2

                                        ErrorMessage2 As label:
                                            AutoHeight: =true
                                            BorderColor: =RGBA(0, 0, 0, 0)
                                            BorderStyle: =BorderStyle.None
                                            BorderThickness: =2
                                            Color: =RGBA(168, 0, 0, 1)
                                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                            DisabledColor: =RGBA(168, 0, 0, 1)
                                            FocusedBorderThickness: =2
                                            Font: =Font.'Segoe UI'
                                            FontWeight: =FontWeight.Semibold
                                            Height: =10
                                            PaddingBottom: =0
                                            PaddingLeft: =0
                                            PaddingRight: =0
                                            PaddingTop: =0
                                            Size: =10.5
                                            Text: =Parent.Error
                                            Visible: =Parent.DisplayMode=DisplayMode.Edit
                                            Width: =Parent.Width - 60
                                            X: =30
                                            Y: =DataCardValue9.Y + DataCardValue9.Height
                                            ZIndex: =3

                                        StarVisible2 As label:
                                            Align: =Align.Center
                                            BorderColor: =RGBA(0, 0, 0, 0)
                                            BorderStyle: =BorderStyle.None
                                            BorderThickness: =2
                                            Color: =RGBA(51, 51, 51, 1)
                                            DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                            DisabledColor: =RGBA(166, 166, 166, 1)
                                            FocusedBorderThickness: =2
                                            Font: =Font.'Segoe UI'
                                            FontWeight: =FontWeight.Semibold
                                            Height: =DataCardKey9.Height
                                            PaddingLeft: =0
                                            Size: =10.5
                                            Text: ="*"
                                            Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                                            Width: =30
                                            Wrap: =false
                                            Y: =DataCardKey9.Y
                                            ZIndex: =4

                        Rectangle4 As rectangle:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(230, 230, 230, 1)
                            FocusedBorderThickness: =4
                            Height: =1
                            Width: =Parent.Width - Self.X * 2
                            X: =25
                            Y: =60
                            ZIndex: =5

                    c_sec_impactingPolicies As groupContainer.manualLayoutContainer:
                        FillPortions: =0
                        Height: =c_impactingPolicies.Height + 60
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        ZIndex: =6

                        html_bxsh_dataPolicy As htmlViewer:
                            Font: =Font.'Segoe UI'
                            Height: =Parent.Height
                            HtmlText: |-
                                ="<div style='
                                	width:"& Self.Width-50 &"px;
                                	height:"& Self.Height-45 &"px;
                                    margin-left: 20px;
                                    margin-top: 10px;
                                    border-radius:1px;
                                	background: white;
                                	box-shadow: rgba(0, 0, 0, .11) 0px 1.6px 3.6px;
                                '>
                                    <div style='
                                        width:"& Self.Width-50 &"px;
                                        height:50px;
                                        padding:15px;
                                        border-bottom:1px solid rgba(230,230,230,0);
                                        font-size:14px;
                                        font-weight:600;
                                        color:rgb(50,50,50);
                                    '> Data Policy</div>
                                </div>"
                            PaddingBottom: =0
                            PaddingRight: =0
                            PaddingTop: =0
                            Size: =14
                            Width: =Parent.Width
                            ZIndex: =1

                        c_impactingPolicies As groupContainer.verticalAutoLayoutContainer:
                            Height: =Container23_5.Height+ c_dataPolicy_description.Height+Container24.Height+0
                            LayoutAlignItems: =LayoutAlignItems.Stretch
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =40
                            PaddingRight: =40
                            PaddingTop: =10
                            Width: =Parent.Width
                            ZIndex: =4

                            Container24 As groupContainer.horizontalAutoLayoutContainer:
                                FillPortions: =0
                                Height: =50
                                LayoutJustifyContent: =LayoutJustifyContent.End
                                LayoutMinHeight: =30
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                ZIndex: =1

                                btnModifyPolicies As button:
                                    Align: =Align.Right
                                    AlignInContainer: =AlignInContainer.Center
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderThickness: =0
                                    Color: =ColorValue(AppTheme.palette.themePrimary)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(200,200,200, 1)
                                    DisabledFill: =RGBA(0, 0, 0, 0)
                                    DisplayMode: =If( var_selectedCreateReq.Status = 'Status (Environment Creation Requests)'.Active, DisplayMode.Edit, DisplayMode.Disabled)
                                    Fill: =RGBA(0, 0, 0, 0)
                                    FocusedBorderColor: =ColorFade(Self.Fill, -75%)
                                    Font: =Font.'Segoe UI'
                                    Height: =30
                                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                                    HoverColor: =ColorFade(ColorValue(AppTheme.palette.themePrimary),20%)
                                    HoverFill: =RGBA(0,0,0,0)
                                    OnSelect: =Set(showPolicies, true)
                                    PaddingLeft: =10
                                    PaddingRight: =10
                                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -50%)
                                    PressedColor: =RGBA(0, 0, 0, 1)
                                    PressedFill: =ColorFade(RGBA(105, 121, 126, 0.01), -30%)
                                    RadiusBottomLeft: =0
                                    RadiusBottomRight: =0
                                    RadiusTopLeft: =0
                                    RadiusTopRight: =0
                                    Size: =11
                                    Text: ="View policies"
                                    Width: =300
                                    ZIndex: =1

                            c_dataPolicy_description As groupContainer.horizontalAutoLayoutContainer:
                                FillPortions: =0
                                Height: =80
                                LayoutAlignItems: =LayoutAlignItems.Stretch
                                LayoutDirection: =LayoutDirection.Vertical
                                LayoutJustifyContent: =LayoutJustifyContent.Center
                                LayoutMinHeight: =30
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                ZIndex: =2

                                lbl_dataPolicy_description As label:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(52, 60, 63, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    Height: =Parent.Height
                                    Size: =11
                                    Text: |-
                                        =If( dlPolicies.TotalRecords = 0, 
                                            // No items in gallery
                                        	Switch( var_selectedCreateReq.'Request status',
                                            'Approval Status'.Pending, "No policy changes are recommended.",
                                        		"No policy changes were made for this request."
                                        	),
                                            // Items are in gallery
                                            Switch( var_selectedCreateReq.'Request status',
                                            'Approval Status'.Pending, "The policies below impact the environment upon creation. Select the clickable actions below to configure the recommended changes.",
                                            'Approval Status'.Rejected, "The request was rejected, therefore no policy changes were made for this request.",
                                            'Approval Status'.Failed, "The request failed, therefore no policy changes were made for this request.",
                                            "The policy changes below were applied when the environment was approved."
                                            )
                                        )
                                    ZIndex: =1

                            Container23_5 As groupContainer.verticalAutoLayoutContainer:
                                AlignInContainer: =AlignInContainer.SetByContainer
                                FillPortions: =0
                                Height: =300
                                LayoutDirection: =LayoutDirection.Vertical
                                LayoutMinHeight: =100
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                PaddingRight: =10
                                ZIndex: =4

                                Rectangle2_23 As rectangle:
                                    AlignInContainer: =AlignInContainer.Stretch
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    DisabledFill: =RGBA(166, 166, 166, 1)
                                    Fill: =RGBA(204, 204, 204, 1)
                                    FocusedBorderThickness: =4
                                    Height: =1
                                    Visible: =false
                                    ZIndex: =2

                                "dlPolicies As 'Fluent Details List (1.0.22)'.pcfdataset":
                                    AlignInContainer: =AlignInContainer.Stretch
                                    columns_Items: |-
                                        =Table(
                                            {
                                                ColName: "displayName",
                                                ColDisplayName: "Name",
                                                ColWidth: 200,
                                                ColSortable: true,
                                                ColIsBold: false,
                                                ColResizable: true
                                            },
                                            
                                             {
                                                ColName: "cType",
                                                ColDisplayName: "Type",
                                                ColWidth: 200,
                                                ColSortable: true,
                                                ColIsBold: false,
                                                ColResizable: true
                                            },
                                             {
                                                ColName: "cImpact",
                                                ColDisplayName: "Impact upon approval",
                                                ColWidth: 200,
                                                ColSortable: true,
                                                ColIsBold: false,
                                                ColResizable: true
                                            },
                                                 {
                                                ColName: "cAction",
                                                ColDisplayName: "Action",
                                                ColWidth: 150,
                                                ColSortable: true,
                                                ColIsBold: false,
                                                ColResizable: true
                                            },
                                            {
                                                ColName: "iconimage",
                                                ColDisplayName: "Edit in PPAC",
                                                ColCellType:"clickableimage",
                                                ColWidth: 100,
                                                ColIsBold: false,
                                                ColImageWidth: 15,
                                                ColImagePadding: 2,
                                                ColVerticalAlign: "Top"
                                            }
                                            )
                                    Compact: =false
                                    DisplayMode: =DisplayMode.Edit
                                    FillPortions: =1
                                    Height: =200
                                    Items: |-
                                        =AddColumns(
                                            If(
                                                var_selectedCreateReq.'Request status' = 'Approval Status'.Pending,
                                                col_impactSummary,
                                                col_dlpChangeRequestPolicies
                                            ),
                                            cType,
                                            Switch(
                                                ThisRecord.environmentType,
                                                "AllEnvironments",
                                                "All environments",
                                                "ExceptEnvironments",
                                                "Exclude certain environments",
                                                "OnlyEnvironments",
                                                "Multiple environments"
                                            ),
                                            cImpact,
                                            If(
                                                ThisRecord.name in col_blockingPolicies.name,
                                                "Blocking",
                                                If(
                                                    ThisRecord.name in col_restrictingPolicies.name,
                                                    "Restricting",
                                                    "Not blocking"
                                                )
                                            ),
                                            cAction,
                                            Switch( ThisRecord.environmentType,
                                        "AllEnvironments", "No action needed"
                                        ,
                                        "ExceptEnvironments", 
                                            If(ThisRecord.name in col_selectedPolicies.name, "Environment "& If(var_selectedCreateReq.'Request status' = 'Approval Status'.Pending, "will be", "was") &" excluded from Policy upon approval", 
                                            If(!(ThisRecord.name in col_blockingPolicies.name || ThisRecord.name in col_restrictingPolicies.name), "No action needed",
                                            "Exclude Environment from Policy")
                                            )
                                        ,
                                        "OnlyEnvironments",
                                            If( ThisRecord.name in col_selectedPolicies.name, 
                                                "Policy "& If(var_selectedCreateReq.'Request status' = 'Approval Status'.Pending, "will be", "was") &" applied to the Environment upon approval.",
                                                "Apply Policy to Environment"
                                            )
                                        ),
                                        iconimage, "icon:OpenInNewTab"
                                        
                                        
                                        )
                                    LayoutMinHeight: =200
                                    LayoutMinWidth: =200
                                    OnSelect: |-
                                        =Switch( Self.Selected.environmentType,
                                        "AllEnvironments", Launch("https://admin.powerplatform.microsoft.com/dlp")
                                        ,
                                        Collect(col_selectedPolicies, Self.Selected );
                                        )
                                    SelectionType: ='PowerCAT.FluentDetailsList.SelectionType'.None
                                    Width: =200
                                    X: =0
                                    Y: =0
                                    ZIndex: =4

                                    displayName1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="displayName"
                                        FieldName: ="displayName"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =1
                                        ZIndex: =29

                                    impact1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="impact"
                                        FieldName: ="impact"
                                        FieldType: ="n"
                                        FieldVariantName: ="textualColumn"
                                        Order: =2
                                        ZIndex: =30

                                    environmentType1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="environmentType"
                                        FieldName: ="environmentType"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =3
                                        ZIndex: =31

                                    cType1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="cType"
                                        FieldName: ="cType"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =4
                                        ZIndex: =32

                                    cImpact1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="cImpact"
                                        FieldName: ="cImpact"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =5
                                        ZIndex: =33

                                    cAction1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="cAction"
                                        FieldName: ="cAction"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =6
                                        ZIndex: =34

                                    iconimage1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="iconimage"
                                        FieldName: ="iconimage"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =7
                                        ZIndex: =39

                        Rectangle4_1 As rectangle:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(230, 230, 230, 1)
                            FocusedBorderThickness: =4
                            Height: =1
                            Width: =Parent.Width - Self.X * 2
                            X: =25
                            Y: =60
                            ZIndex: =5

                con_rightpanel As groupContainer.verticalAutoLayoutContainer:
                    AlignInContainer: =AlignInContainer.SetByContainer
                    FillPortions: =0
                    Height: = c_notes.Height + 40  + c_securitygroups.Height + c_connectors.Height+40
                    LayoutDirection: =LayoutDirection.Vertical
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    PaddingBottom: =10
                    PaddingRight: =30
                    ZIndex: =2

                    c_securitygroups As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =c_ct_access.Height + 130
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        ZIndex: =1

                        Panel_2 As Panel_1:
                            HeaderText: ="Access"
                            Height: =Parent.Height
                            MarginLeft: =10
                            Width: =Parent.Width
                            ZIndex: =5

                        c_ct_access As groupContainer.verticalAutoLayoutContainer:
                            Height: =c_admins.Height + 20 + c_sg.Height
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =10
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =30
                            PaddingRight: =20
                            Width: =Parent.Width
                            Y: =80
                            ZIndex: =6

                            c_admins As groupContainer.verticalAutoLayoutContainer:
                                AlignInContainer: =AlignInContainer.SetByContainer
                                FillPortions: =0
                                Height: =70
                                LayoutDirection: =LayoutDirection.Vertical
                                LayoutGap: =10
                                LayoutMinHeight: =100
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                Width: =Parent.Width - Self.X * 2
                                ZIndex: =1

                                lbl_requestedAdmins_1 As label:
                                    AlignInContainer: =AlignInContainer.Stretch
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(80, 80, 80, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    FontWeight: =FontWeight.Semibold
                                    Height: =30
                                    Size: =10
                                    Text: |-
                                        ="Admins (" & CountRows(ForAll(Distinct(col_requestedMakers, Maker), {Result: ThisRecord.Value})) & ")"
                                    ZIndex: =1

                                "fpRequestedAdmins As 'Fluent Facepile (1.0.22) Preview'.pcfdataset":
                                    AlignInContainer: =AlignInContainer.Stretch
                                    DisplayMode: =DisplayMode.Edit
                                    Height: =50
                                    Items: =AddColumns(Filter(Makers, Maker in col_requestedMakers.Maker), ItemPersonaName, 'Display Name', ItemPersonaKey, Maker, ItemPersonaImage, PhotoObject, IsImage, true)
                                    LayoutMinHeight: =200
                                    LayoutMinWidth: =200
                                    Width: =200
                                    X: =0
                                    Y: =0
                                    ZIndex: =2

                                    admin_makerid1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="admin_makerid"
                                        FieldName: ="admin_makerid"
                                        FieldType: ="g"
                                        FieldVariantName: ="textualColumn"
                                        Order: =1
                                        ZIndex: =24

                                    admin_photo1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="admin_photo"
                                        FieldName: ="admin_photo"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =2
                                        ZIndex: =25

                                    admin_photoobject1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="admin_photoobject"
                                        FieldName: ="admin_photoobject"
                                        FieldType: ="I"
                                        FieldVariantName: ="textualColumn"
                                        Order: =3
                                        ZIndex: =26

                                    admin_photoobjectid1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="admin_photoobjectid"
                                        FieldName: ="admin_photoobjectid"
                                        FieldType: ="g"
                                        FieldVariantName: ="textualColumn"
                                        Order: =4
                                        ZIndex: =27

                                    admin_displayname1 As pcfDataField.textualColumn:
                                        FieldDisplayName: ="admin_displayname"
                                        FieldName: ="admin_displayname"
                                        FieldType: ="s"
                                        FieldVariantName: ="textualColumn"
                                        Order: =5
                                        ZIndex: =28

                            c_sg As groupContainer.verticalAutoLayoutContainer:
                                FillPortions: =0
                                Height: =c_sg_val.Height + lbl_hd_sg.Height
                                LayoutAlignItems: =LayoutAlignItems.Stretch
                                LayoutDirection: =LayoutDirection.Vertical
                                LayoutMinHeight: =50
                                LayoutMinWidth: =100
                                LayoutMode: =LayoutMode.Auto
                                ZIndex: =2

                                lbl_hd_sg As label:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(80, 80, 80, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    FontWeight: =FontWeight.Semibold
                                    LayoutMinWidth: =50
                                    Size: =10
                                    Text: ="Security group"
                                    ZIndex: =1

                                c_sg_val As groupContainer.horizontalAutoLayoutContainer:
                                    AlignInContainer: =AlignInContainer.SetByContainer
                                    FillPortions: =0
                                    Height: =30
                                    LayoutAlignItems: =LayoutAlignItems.Center
                                    LayoutMinHeight: =100
                                    LayoutMinWidth: =Parent.Width - Self.X
                                    LayoutMode: =LayoutMode.Auto
                                    PaddingRight: =10
                                    ZIndex: =3

                                    lbl_securityGroup_1 As label:
                                        AutoHeight: =true
                                        BorderColor: =RGBA(0, 0, 0, 0)
                                        BorderStyle: =BorderStyle.None
                                        BorderThickness: =2
                                        Color: =
                                        DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                        DisabledColor: =RGBA(166, 166, 166, 1)
                                        FillPortions: =1
                                        FocusedBorderThickness: =4
                                        Font: =Font.'Segoe UI'
                                        LayoutMinHeight: =30
                                        LayoutMinWidth: =80
                                        PaddingTop: =0
                                        Size: =11
                                        Text: =Coalesce(var_selectedSecurityGroup.displayName,"None")
                                        Wrap: =false
                                        ZIndex: =1

                                    "cbSgActions As 'Fluent Command Bar (1.0.22)'.pcfdataset":
                                        DisplayMode: =DisplayMode.Edit
                                        FillPortions: =1
                                        Height: =33
                                        Items: |-
                                            =Table(
                                              {
                                                  ItemKey: "edit",
                                                  ItemDisplayName: "Edit",
                                                  ItemIconName: "Edit",
                                                  ItemEnabled: true,
                                                  ItemIconOnly: true
                                              },
                                              {
                                                  ItemKey: "refresh",
                                                  ItemDisplayName: "Refresh",
                                                  ItemIconName: "Refresh",
                                                  ItemEnabled: true,
                                                  ItemIconOnly: true
                                              },
                                                {
                                                  ItemKey: "remove",
                                                  ItemDisplayName: "Remove",
                                                  ItemIconName: "Delete",
                                                  ItemEnabled: true,
                                                  ItemIconOnly: true
                                              }
                                            )
                                        LayoutMinHeight: =200
                                        LayoutMinWidth: =200
                                        OnSelect: |
                                            =Switch(
                                                Self.Selected.ItemKey,
                                                /* Action for ItemKey 'new' (e.g., Patch function) */
                                                "edit", Set(showPanel, true);Set(pnlContext, "securitygroup"),
                                                "refresh", UpdateContext({ var_selectedSecurityGroup: LookUp( col_groups, id=var_selectedCreateReq.'Database security group ID' ) });,
                                                "remove", UpdateContext({ var_selectedSecurityGroup: Blank() })
                                            
                                              )
                                        Theme: =AppThemeJson
                                        Width: =200
                                        X: =0
                                        Y: =0
                                        ZIndex: =6

                        Rectangle4_2 As rectangle:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(230, 230, 230, 1)
                            FocusedBorderThickness: =4
                            Height: =1
                            Width: =Parent.Width - Self.X *1.7  
                            X: =15
                            Y: =60
                            ZIndex: =7

                    c_notes As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =c_content_Notes.Height + 40
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        ZIndex: =2

                        Panel_3 As Panel_1:
                            HeaderText: ="Notes"
                            Height: =Parent.Height
                            MarginLeft: =10
                            Width: =Parent.Width
                            ZIndex: =5

                        c_content_Notes As groupContainer.verticalAutoLayoutContainer:
                            Height: =tin_notes.Height + c_actions_notes.Height + 40
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =10
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =30
                            PaddingRight: =10
                            PaddingTop: =10
                            Width: =Parent.Width
                            ZIndex: =6

                            c_actions_notes As groupContainer.horizontalAutoLayoutContainer:
                                FillPortions: =0
                                Height: =50
                                LayoutAlignItems: =LayoutAlignItems.Center
                                LayoutJustifyContent: =LayoutJustifyContent.End
                                LayoutMinHeight: =50
                                LayoutMinWidth: =100
                                LayoutMode: =LayoutMode.Auto
                                ZIndex: =1

                                "CommandBar2 As 'Fluent Command Bar (1.0.22)'.pcfdataset":
                                    DisplayMode: =DisplayMode.Edit
                                    Height: =33
                                    Items: |-
                                        =Table(
                                          {
                                              ItemKey: "undo",
                                              ItemDisplayName: "Undo",
                                              ItemIconName: "Undo",
                                              ItemEnabled: true,
                                              ItemIconOnly: false
                                          },
                                          {
                                              ItemKey: "save",
                                              ItemDisplayName: "Save",
                                              ItemIconName: "Save",
                                              ItemEnabled: true,
                                              ItemIconOnly: false
                                          }
                                        )
                                    LayoutMinHeight: =200
                                    LayoutMinWidth: =200
                                    OnSelect: |-
                                        =Switch(
                                            Self.Selected.ItemKey,
                                            /* Action for ItemKey 'new' (e.g., Patch function) */
                                            "undo",
                                            Reset(tin_notes),
                                            "save",
                                            UpdateContext({var_notes: tin_notes.Text});
                                            Patch(
                                                'Environment Creation Requests',
                                                LookUp(
                                                    'Environment Creation Requests',
                                                    'Environment Creation Request' = var_selectedCreateReq.'Environment Creation Request'
                                                ),
                                                {'Notes (coe_notes)': var_notes}
                                            );
                                            Notify(
                                                "Updated notes.",
                                                NotificationType.Success
                                            )
                                        )
                                    Theme: =AppThemeJson
                                    Width: =200
                                    X: =0
                                    Y: =0
                                    ZIndex: =3

                            tin_notes As text:
                                AlignInContainer: =AlignInContainer.Stretch
                                BorderColor: =RGBA(0, 0, 0, 0)
                                BorderStyle: =BorderStyle.None
                                Color: =RGBA(51, 51, 51, 1)
                                Default: =var_selectedCreateReq.'Notes (coe_notes)'
                                DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                DisabledColor: =RGBA(166, 166, 166, 1)
                                DisabledFill: =RGBA(244, 244, 244, 1)
                                DisplayMode: =If( var_selectedCreateReq.'Request status' = 'Approval Status'.Pending, DisplayMode.Edit, DisplayMode.View)
                                FocusedBorderThickness: =4
                                Font: =Font.'Segoe UI'
                                Height: =120
                                HintText: =If( Self.DisplayMode = DisplayMode.Edit, "Add comments on the request decision ...", "No notes addded")
                                HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                                HoverColor: =RGBA(51, 51, 51, 1)
                                HoverFill: =RGBA(255, 255, 255, 1)
                                LayoutMinWidth: =80
                                Mode: =TextMode.MultiLine
                                PaddingRight: =20
                                PressedBorderColor: =RGBA(105, 121, 126, 1)
                                PressedColor: =RGBA(51, 51, 51, 1)
                                PressedFill: =RGBA(255, 255, 255, 1)
                                RadiusBottomLeft: =0
                                RadiusBottomRight: =0
                                RadiusTopLeft: =0
                                RadiusTopRight: =0
                                Size: =10
                                ZIndex: =2

                        Rectangle4_3 As rectangle:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(230, 230, 230, 1)
                            FocusedBorderThickness: =4
                            Height: =1
                            Width: =Parent.Width - Self.X *1.7  
                            X: =15
                            Y: =60
                            ZIndex: =7

                    c_connectors As groupContainer.manualLayoutContainer:
                        AlignInContainer: =AlignInContainer.SetByContainer
                        FillPortions: =0
                        Height: =c_ct_access_1.Height + 130
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        ZIndex: =4

                        Panel_4 As Panel_1:
                            HeaderText: ="Connectors"
                            Height: =Parent.Height
                            MarginLeft: =10
                            Width: =Parent.Width
                            ZIndex: =5

                        c_ct_access_1 As groupContainer.verticalAutoLayoutContainer:
                            Height: =300
                            LayoutDirection: =LayoutDirection.Vertical
                            LayoutGap: =10
                            LayoutMode: =LayoutMode.Auto
                            PaddingLeft: =30
                            PaddingRight: =20
                            Width: =Parent.Width
                            Y: =80
                            ZIndex: =6

                            c_connectorsummarylegend_1 As groupContainer.verticalAutoLayoutContainer:
                                FillPortions: =0
                                Height: =lbl_connectorsblocked_1.Height+15
                                LayoutAlignItems: =LayoutAlignItems.Stretch
                                LayoutDirection: =LayoutDirection.Vertical
                                LayoutMinHeight: =70
                                LayoutMinWidth: =250
                                LayoutMode: =LayoutMode.Auto
                                PaddingLeft: =15
                                PaddingTop: =10
                                Visible: =!IsEmpty(col_requestedConnectors)
                                ZIndex: =3

                                lbl_connectorsblocked_1 As label:
                                    AutoHeight: =true
                                    BorderColor: =RGBA(0, 0, 0, 0)
                                    BorderStyle: =BorderStyle.None
                                    BorderThickness: =2
                                    Color: =RGBA(51, 51, 51, 1)
                                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                                    DisabledColor: =RGBA(166, 166, 166, 1)
                                    FocusedBorderThickness: =4
                                    Font: =Font.'Segoe UI'
                                    Size: =11
                                    Text: |-
                                        =If(!IsEmpty(col_blockedConnectors) , "Connectors are blocked" & If(!IsEmpty(col_restrictedConnectors)," and restricted.","."),
                                        
                                        "No connectors are blocked"& If(!IsEmpty(col_restrictedConnectors)," but some are restricted."," or restricted.")
                                        
                                        )
                                    ZIndex: =1

                            "dlConnectors As 'Fluent Details List (1.0.22)'.pcfdataset":
                                AlignInContainer: =AlignInContainer.Stretch
                                columns_Items: |-
                                    =Table(
                                         {
                                            ColName: "admin_iconuri",
                                            ColDisplayName: "",
                                            ColWidth: 30,
                                            ColIsBold:false,
                                             ColCellType:"image"
                                        },
                                        {
                                            ColName: "admin_displayname",
                                            ColDisplayName: "Name",
                                            ColWidth: 180,
                                            ColIsBold:false
                                        },
                                          {
                                            ColName: "status",
                                            ColDisplayName: "Status",
                                            ColWidth: 50,
                                            ColIsBold:false
                                        }
                                        
                                        )
                                DisplayMode: =DisplayMode.Edit
                                Height: =200
                                Items: |-
                                    =AddColumns(
                                        col_requestedConnectors,
                                        status,
                                        If(
                                            ThisRecord.admin_id in col_blockedConnectors.id,
                                            "⛔",
                                            If(
                                                ThisRecord.admin_id in col_restrictedConnectors.id,
                                                "🟡",
                                                "🟢"
                                            )
                                        )
                                    )
                                LayoutMinHeight: =200
                                LayoutMinWidth: =200
                                SelectionType: ='PowerCAT.FluentDetailsList.SelectionType'.None
                                Width: =200
                                X: =0
                                Y: =0
                                ZIndex: =4

                                admin_backgroundcolor1 As pcfDataField.textualColumn:
                                    FieldDisplayName: ="admin_backgroundcolor"
                                    FieldName: ="admin_backgroundcolor"
                                    FieldType: ="s"
                                    FieldVariantName: ="textualColumn"
                                    Order: =1
                                    ZIndex: =35

                                admin_iconuri1 As pcfDataField.textualColumn:
                                    FieldDisplayName: ="admin_iconuri"
                                    FieldName: ="admin_iconuri"
                                    FieldType: ="h"
                                    FieldVariantName: ="textualColumn"
                                    Order: =2
                                    ZIndex: =36

                                admin_displayname2 As pcfDataField.textualColumn:
                                    FieldDisplayName: ="admin_displayname"
                                    FieldName: ="admin_displayname"
                                    FieldType: ="s"
                                    FieldVariantName: ="textualColumn"
                                    Order: =3
                                    ZIndex: =37

                                status1 As pcfDataField.textualColumn:
                                    FieldDisplayName: ="status"
                                    FieldName: ="status"
                                    FieldType: ="s"
                                    FieldVariantName: ="textualColumn"
                                    Order: =4
                                    ZIndex: =38

                        Rectangle4_4 As rectangle:
                            BorderColor: =RGBA(0, 0, 0, 0)
                            BorderStyle: =BorderStyle.None
                            Fill: =RGBA(230, 230, 230, 1)
                            FocusedBorderThickness: =4
                            Height: =1
                            Width: =Parent.Width - Self.X *1.7  
                            X: =15
                            Y: =60
                            ZIndex: =7

    conSecurityGroup As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Height: =pnlViewDetails.ContentHeight
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =10
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =10
        PaddingLeft: =10
        PaddingRight: =10
        PaddingTop: =10
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =showPanel && pnlContext = "securitygroup"
        Width: =pnlViewDetails.ContentWidth
        X: =pnlViewDetails.ContentX
        Y: =pnlViewDetails.ContentY+20
        ZIndex: =4

        "sbSearchGroups As 'Fluent SearchBox (1.0.22) Preview'":
            AlignInContainer: =AlignInContainer.Stretch
            DisplayMode: =DisplayMode.Edit
            Height: =33
            LayoutMinHeight: =200
            LayoutMinWidth: =200
            Theme: =AppThemeJson
            Width: =200
            X: =0
            Y: =0
            ZIndex: =1

        "dlSearchGroups As 'Fluent Details List (1.0.22)'.pcfdataset":
            AlignInContainer: =AlignInContainer.Stretch
            columns_Items: |-
                =Table(
                    {
                        ColName: "displayName",
                        ColDisplayName: "Name",
                        ColWidth: 300,
                        ColSortable: true,
                        ColIsBold: false,
                        ColResizable: true
                    })
            Compact: =false
            DisplayMode: =DisplayMode.Edit
            FillPortions: =1
            Height: =200
            Items: |-
                =//Sort(Search(col_groups,sbSearchGroups.SearchText,"displayName"),displayName,SortOrder.Ascending);
                
                If(!IsBlank(sbSearchGroups.SearchText), Sort(Office365Groups.ListGroups({'$filter': "startswith(displayName," & "'" & sbSearchGroups.SearchText & "'" & ")"}).value,displayName,SortOrder.Ascending), Sort(Office365Groups.ListGroups().value,displayName,SortOrder.Ascending))
            LayoutMinHeight: =200
            LayoutMinWidth: =200
            Theme: =AppThemeJson
            Width: =200
            X: =0
            Y: =0
            ZIndex: =2

            id1 As pcfDataField.textualColumn:
                FieldDisplayName: ="id"
                FieldName: ="id"
                FieldType: ="s"
                FieldVariantName: ="textualColumn"
                Order: =1
                ZIndex: =40

            displayName2 As pcfDataField.textualColumn:
                FieldDisplayName: ="displayName"
                FieldName: ="displayName"
                FieldType: ="s"
                FieldVariantName: ="textualColumn"
                Order: =2
                ZIndex: =41

    conEditRequest As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Height: =pnlViewDetails.ContentHeight
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =10
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =10
        PaddingLeft: =10
        PaddingRight: =10
        PaddingTop: =10
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =showPanel && pnlContext = "editDetails"
        Width: =pnlViewDetails.ContentWidth
        X: =pnlViewDetails.ContentX
        Y: =pnlViewDetails.ContentY+20
        ZIndex: =5

        formEditRequest As form:
            AcceptsFocus: =false
            AlignInContainer: =AlignInContainer.Start
            BorderColor: =RGBA(166, 166, 166, 1)
            DataSource: ='Environment Creation Requests'
            Item: =LookUp('Environment Creation Requests', 'Environment Creation Request'=var_selectedCreateReq.'Environment Creation Request')
            LayoutMinHeight: =250
            LayoutMinWidth: =400
            NumberOfColumns: =1
            OnFailure: =Notify("Error submitting form, please try again.", NotificationType.Error);
            OnReset: =
            OnSuccess: =Notify("Updated Environment Creation Request details successfully.", NotificationType.Success);
            Width: =Parent.Width - Self.X
            X: =20
            Y: =20
            ZIndex: =1

            "'Business Area_DataCard1_1' As typedDataCard.comboBoxEditCard":
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="admin_BusinessArea"
                Default: =ThisItem.'Business Area'
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@'Environment Creation Requests'],DataSourceInfo.DisplayName,admin_BusinessArea)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =DataCardValue7_2.Selected
                Visible: =LookUp( 'Environment Variable Values', 'Schema Name'="admin_EnvRequestEnableCostTracking").Value = "yes"
                Width: =400
                WidthFit: =true
                X: =0
                Y: =3
                ZIndex: =1

                DataCardKey8_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =12
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue7_2 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(33, 33, 33, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =Parent.Default
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["admin_areaname"]
                    DisplayMode: =Parent.DisplayMode
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    Items: =Choices([@'Environment Creation Requests'].'Business Area')
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(105, 121, 126, 1)
                    SearchFields: =["admin_areaname"]
                    SearchItems: =Search(Choices([@'Environment Creation Requests'].'Business Area'),DataCardValue7_2.SearchText,admin_areaname)
                    SelectionFill: =RGBA(105, 121, 126, 1)
                    SelectMultiple: =false
                    Size: =12
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey8_1.Y + DataCardKey8_1.Height + 5
                    ZIndex: =2

                ErrorMessage7_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue7_2.Y + DataCardValue7_2.Height
                    ZIndex: =3

                StarVisible7_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey8_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =126
                    Y: =DataCardKey8_1.Y
                    ZIndex: =4

            "'Has expiration date_DataCard1_1' As typedDataCard.comboBoxOptionSetSingleEditCard":
                BorderColor: =RGBA(36, 42, 44, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="coe_canexpire"
                Default: =var_selectedCreateReq.'Has expiration date'
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Has expiration date"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =70
                Required: =false
                Update: =If(tgl_canExpire.Value, 'Has expiration date (Environment Creation Requests)'.Yes, 'Has expiration date (Environment Creation Requests)'.No)
                Visible: =true
                Width: =400
                WidthFit: =true
                X: =0
                Y: =4
                ZIndex: =1

                DataCardKey11_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Automatically delete environment?"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage9_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =tgl_canExpire.Y + tgl_canExpire.Height
                    ZIndex: =3

                StarVisible9_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey11_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =375
                    Y: =10
                    ZIndex: =4

                tgl_canExpire As toggleSwitch:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =var_selectedCreateReq.'Has expiration date'
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    FalseFill: =RGBA(230, 230, 230, 1)
                    FalseHoverFill: =ColorFade(Self.FalseFill, -10%)
                    FalseText: ="No"
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    HandleFill: =If(Self.Value, Color.White, RGBA(133, 138, 140, 1))
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    OnUncheck: =Reset(ComboBox2);
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    Size: =11
                    TrueFill: =ColorValue(AppTheme.palette.themePrimary)
                    TrueHoverFill: =ColorFade(Self.TrueFill, -30%)
                    TrueText: ="Yes"
                    X: =30
                    Y: =54
                    ZIndex: =5

            "'Duration Requested_DataCard1_1' As typedDataCard.numberEditCard":
                BorderColor: =RGBA(133, 138, 140, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="coe_durationrequested"
                Default: =ThisItem.'Duration Requested'
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Duration Requested"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =tgl_canExpire.Value
                Update: =ComboBox2.Selected.Value
                Visible: =tgl_canExpire.Value
                Width: =400
                WidthFit: =true
                X: =0
                Y: =5
                ZIndex: =1

                DataCardKey12_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="How long is the environment needed?"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue12 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =Parent.Default
                    DelayOutput: =true
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: =Parent.DisplayMode
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Format: =TextFormat.Number
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    PaddingLeft: =5
                    PressedBorderColor: =RGBA(105, 121, 126, 1)
                    PressedColor: =RGBA(51, 51, 51, 1)
                    PressedFill: =RGBA(255, 255, 255, 1)
                    RadiusBottomLeft: =0
                    RadiusBottomRight: =0
                    RadiusTopLeft: =0
                    RadiusTopRight: =0
                    Size: =13
                    Tooltip: =Parent.DisplayName
                    Visible: =false
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey12_1.Y + DataCardKey12_1.Height + 5
                    ZIndex: =2

                ErrorMessage10_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue12.Y + DataCardValue12.Height
                    ZIndex: =3

                StarVisible10_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey12_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =308
                    Y: =DataCardKey12_1.Y
                    ZIndex: =4

                ComboBox2 As combobox:
                    BorderColor: =RGBA(36, 42, 44, 1)
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(133, 138, 140, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =[Parent.Default]
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["Label"]
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    IsSearchable: =false
                    Items: |-
                        =[30,60,90,120]//Table({Value:30, Label: "30 days"},{Value:60, Label: "60 days"},{Value:90, Label: "90 days"},{Value:120, Label: "120 days"})
                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(105, 121, 126, 1)
                    SearchFields: =["Label"]
                    SearchItems: =[]
                    SelectionFill: =RGBA(105, 121, 126, 1)
                    SelectMultiple: =false
                    Width: =Parent.Width - Self.X * 2
                    X: =30
                    Y: =48
                    ZIndex: =5

            "'Database language_DataCard1_1' As typedDataCard.textualEditCard":
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="coe_dblanguage"
                Default: =ThisItem.'Database language'
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Database language"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =138
                MaxLength: =DataSourceInfo([@'Environment Creation Requests'], DataSourceInfo.MaxLength, coe_dblanguage)
                Required: =tgl_hasDatabase.Value
                Update: =ComboBox2_2.Selected.name
                Visible: =tgl_hasDatabase.Value
                Width: =400
                WidthFit: =true
                X: =0
                Y: =7
                ZIndex: =1

                DataCardKey8_2 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Language"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage6_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =ComboBox2_2.Y + ComboBox2_2.Height
                    ZIndex: =3

                StarVisible6_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey8_2.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =103
                    Y: =10
                    ZIndex: =4

                ComboBox2_2 As combobox:
                    BorderColor: =RGBA(36, 42, 44, 1)
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(133, 138, 140, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =[LookUp(col_languages, name = Parent.Default)]
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["DisplayName"]
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    IsSearchable: =false
                    Items: =col_languages
                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(105, 121, 126, 1)
                    SearchFields: =["name"]
                    SearchItems: =[]
                    SelectionFill: =RGBA(105, 121, 126, 1)
                    SelectMultiple: =false
                    Width: =Parent.Width - Self.X * 2
                    X: =30
                    Y: =88
                    ZIndex: =5

                Label8 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(133, 138, 140, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Default language for user interfaces in this environment"
                    Width: =440
                    X: =30
                    Y: =39
                    ZIndex: =6

            "'Enable PCF Control?_DataCard1' As typedDataCard.pcfCoreComboBoxOptionSetSingleEditCard":
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="admin_enablepcfcontrol"
                Default: =var_selectedCreateReq.'Enable PCF Control?'
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@'Environment Creation Requests'],DataSourceInfo.DisplayName,admin_enablepcfcontrol)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =99
                Required: =false
                Update: =If(tgl_enable_pcf.Value, 'Enable PCF Control? (Environment Creation Requests)'.Yes, 'Enable PCF Control? (Environment Creation Requests)'.No)
                Width: =390
                WidthFit: =true
                X: =0
                Y: =8
                ZIndex: =1

                DataCardKey2 As Label:
                    AutoHeight: =false
                    Color: =RGBA(51, 51, 51, 1)
                    DisplayMode: =DisplayMode.Edit
                    FontSize: =11
                    FontWeight: =FontWeight.Semibold
                    Height: =32
                    OnChange: =false
                    Text: =Parent.DisplayName
                    Tooltip: =Parent.DisplayName
                    VerticalAlignment: =VerticalAlign.Bottom
                    Width: =Parent.Width - 48
                    Wrap: =true
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue2 As combobox:
                    AccessibleLabel: =If(Parent.Required, Substitute("{0}. Required.", "{0}", Parent.DisplayName), Parent.DisplayName)
                    BorderColor: =RGBA(166, 166, 166, 1)
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(33, 33, 33, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =[Parent.Default]
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: =Parent.DisplayMode
                    FocusedBorderColor: =RGBA(0, 120, 212, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.'Segoe UI'
                    Height: =28
                    HoverBorderColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    IsSearchable: =false
                    Items: =Choices('Enable PCF Control? (Environment Creation Requests)')
                    PaddingLeft: =12
                    PressedBorderColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(212, 212, 212, 1)
                    SelectionColor: =RGBA(51, 51, 51, 1)
                    SelectionFill: =RGBA(0, 120, 212, 1)
                    SelectMultiple: =false
                    Size: =10.5
                    Tooltip: =Parent.DisplayName
                    Visible: =false
                    Width: =Parent.Width - 48
                    X: =16
                    Y: =58
                    ZIndex: =2

                ErrorMessage4 As Label:
                    AutoHeight: =true
                    Color: =Color.Red
                    DisplayMode: =DisplayMode.Edit
                    FontSize: =9
                    Height: =30
                    OnChange: =false
                    Text: =Parent.Error
                    Tooltip: =Parent.Error
                    Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                    Width: =Parent.Width - 48
                    Wrap: =true
                    X: =24
                    Y: =DataCardValue2.Y + DataCardValue2.Height
                    ZIndex: =3

                StarVisible4 As Label:
                    Alignment: =Align.Center
                    Color: =
                    DisplayMode: =DisplayMode.Edit
                    Height: =20
                    OnChange: =false
                    Text: ="*"
                    VerticalAlignment: =VerticalAlign.Bottom
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    X: =0
                    Y: =DataCardKey2.Y
                    ZIndex: =4

                tgl_enable_pcf As toggleSwitch:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =var_selectedCreateReq.'Enable PCF Control?'
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    FalseFill: =RGBA(230, 230, 230, 1)
                    FalseHoverFill: =ColorFade(Self.FalseFill,-10%)
                    FalseText: ="No"
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    HandleFill: =If(Self.Value, Color.White, RGBA(133, 138, 140, 1))
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    Size: =11
                    TrueFill: =ColorValue(AppTheme.palette.themePrimary)
                    TrueHoverFill: =ColorFade(Self.TrueFill, -30%)
                    TrueText: ="Yes"
                    X: =30
                    Y: =58
                    ZIndex: =5

                Icon3 As icon.Information:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    DisabledBorderColor: =RGBA(166, 166, 166, 1)
                    DisabledColor: =RGBA(220, 220, 220, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    Height: =20
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Icon: =Icon.Information
                    PaddingBottom: =3
                    PaddingLeft: =3
                    PaddingRight: =3
                    PaddingTop: =3
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =ColorFade(RGBA(0, 120, 212, 1), -30%)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Tooltip: ="Enables Power Apps component framework feature that allows the execution of code that may not be generated by Microsoft when a maker adds code components to an app. Make sure that the code component solution is from a trusted source."
                    Width: =20
                    X: =175
                    Y: =17
                    ZIndex: =6

            "'Database currency_DataCard1_1' As typedDataCard.textualEditCard":
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="coe_dbcurrency"
                Default: =ThisItem.'Database currency'
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Database currency"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =122
                MaxLength: =DataSourceInfo([@'Environment Creation Requests'], DataSourceInfo.MaxLength, coe_dbcurrency)
                Required: =tgl_hasDatabase.Value
                Update: =ComboBox2_3.Selected.name
                Visible: =tgl_hasDatabase.Value
                Width: =400
                WidthFit: =true
                X: =0
                Y: =9
                ZIndex: =1

                DataCardKey9_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Currency"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage7_2 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =ComboBox2_3.Y + ComboBox2_3.Height
                    ZIndex: =3

                StarVisible7_2 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey9_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =98
                    Y: =DataCardKey9_1.Y
                    ZIndex: =4

                ComboBox2_3 As combobox:
                    BorderColor: =RGBA(36, 42, 44, 1)
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(133, 138, 140, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =[LookUp(col_currencies, name = Parent.Default)]
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["name"]
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    IsSearchable: =false
                    Items: =SortByColumns(col_currencies, "name")
                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(105, 121, 126, 1)
                    SearchFields: =["name"]
                    SearchItems: =[]
                    SelectionFill: =RGBA(105, 121, 126, 1)
                    SelectMultiple: =false
                    Width: =Parent.Width - Self.X * 2
                    X: =30
                    Y: =84
                    ZIndex: =5

                Label8_1 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(133, 138, 140, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Reports will use this currency"
                    Width: =440
                    X: =30
                    Y: =34
                    ZIndex: =6

            "'Business Area_DataCard1' As typedDataCard.comboBoxEditCard":
                BorderColor: =RGBA(36, 42, 44, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="admin_BusinessArea"
                Default: =var_selectedCreateReq.'Business Area'
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@'Environment Creation Requests'],DataSourceInfo.DisplayName,admin_BusinessArea)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =DataCardValue4.Selected
                Width: =400
                X: =0
                Y: =10
                ZIndex: =1

                DataCardKey4 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue4 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(133, 138, 140, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =Parent.Default
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["admin_areaname"]
                    DisplayMode: =Parent.DisplayMode
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    Items: =Choices([@'Environment Creation Requests'].'Business Area')
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(105, 121, 126, 1)
                    SearchFields: =["admin_areaname"]
                    SearchItems: =Search(Choices([@'Environment Creation Requests'].'Business Area'),DataCardValue4.SearchText,admin_areaname)
                    SelectionFill: =RGBA(105, 121, 126, 1)
                    SelectMultiple: =false
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 70
                    X: =30
                    Y: =DataCardKey4.Y + DataCardKey4.Height + 5
                    ZIndex: =2

                ErrorMessage1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue4.Y + DataCardValue4.Height
                    ZIndex: =3

                StarVisible1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey4.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey4.Y
                    ZIndex: =4

            Comments_DataCard1 As typedDataCard.pcfCoreTextualMultiLineEditCard:
                BorderColor: =RGBA(36, 42, 44, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="admin_comments"
                Default: =ThisItem.Comments
                DisplayMode: =Parent.DisplayMode
                DisplayName: =DataSourceInfo([@'Environment Creation Requests'],DataSourceInfo.DisplayName,admin_comments)
                Fill: =RGBA(0, 0, 0, 0)
                Height: =70
                Required: =false
                Update: =DataCardValue1.Value
                Width: =362
                WidthFit: =true
                X: =0
                Y: =11
                ZIndex: =1

                DataCardKey1 As Label:
                    AutoHeight: =true
                    Color: =RGBA(51, 51, 51, 1)
                    DisplayMode: =DisplayMode.Edit
                    FontSize: =11
                    FontWeight: =FontWeight.Semibold
                    Height: =30
                    OnChange: =false
                    Text: =Parent.DisplayName
                    Tooltip: =Parent.DisplayName
                    VerticalAlignment: =VerticalAlign.Bottom
                    Width: =336
                    Wrap: =true
                    X: =30
                    Y: =10
                    ZIndex: =1

                "DataCardValue1 As 'Text box'":
                    AcceptsFocus: =
                    AccessibleLabel: =Parent.DisplayName
                    ColorBackground: =
                    ColorText: =
                    DisplayMode: =Parent.DisplayMode
                    FontSize: =10.5
                    FontWeight: =FontWeight.Normal
                    Height: =70
                    Mode: ="Multiline"
                    Required: =Parent.Required
                    Tooltip: =Parent.DisplayName
                    Value: =Parent.Default
                    Width: =336
                    X: =30
                    Y: =40
                    ZIndex: =2

                ErrorMessage3 As Label:
                    AutoHeight: =true
                    Color: =Color.Red
                    DisplayMode: =DisplayMode.Edit
                    FontSize: =9
                    Height: =30
                    OnChange: =false
                    Text: =Parent.Error
                    Tooltip: =Parent.Error
                    Visible: =And(!IsBlank(Parent.Error), Parent.DisplayMode=DisplayMode.Edit)
                    Width: =Parent.Width - 48
                    Wrap: =true
                    X: =24
                    Y: =DataCardValue1.Y + DataCardValue1.Height
                    ZIndex: =3

                StarVisible3 As Label:
                    Alignment: =Align.Center
                    Color: =
                    DisplayMode: =DisplayMode.Edit
                    Height: =30
                    OnChange: =false
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    X: =0
                    Y: =DataCardKey1.Y
                    ZIndex: =4

            dc_name As typedDataCard.textualEditCard:
                BorderColor: =RGBA(36, 42, 44, 1)
                BorderStyle: =BorderStyle.Solid
                BorderThickness: =0
                DataField: ="coe_envdisplayname"
                Default: =var_selectedCreateReq.'Environment display name'
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Environment display name"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                MaxLength: =DataSourceInfo([@'Environment Creation Requests'], DataSourceInfo.MaxLength, coe_envdisplayname)
                Required: =true
                Update: =DataCardValue2_1.Text
                Visible: =true
                Width: =400
                WidthFit: =true
                X: =0
                Y: =0
                ZIndex: =2

                DataCardKey2_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Name"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue2_1 As text:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =Parent.Default
                    DelayOutput: =true
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayMode: =Parent.DisplayMode
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(255, 255, 255, 1)
                    MaxLength: =Parent.MaxLength
                    PaddingLeft: =5
                    PressedBorderColor: =RGBA(105, 121, 126, 1)
                    PressedColor: =RGBA(51, 51, 51, 1)
                    PressedFill: =RGBA(255, 255, 255, 1)
                    RadiusBottomLeft: =1
                    RadiusBottomRight: =1
                    RadiusTopLeft: =1
                    RadiusTopRight: =1
                    Size: =11
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey2_1.Y + DataCardKey2_1.Height + 5
                    ZIndex: =2

                ErrorMessage1_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue2_1.Y + DataCardValue2_1.Height
                    ZIndex: =3

                StarVisible1_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey2_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =70
                    Y: =DataCardKey2_1.Y
                    ZIndex: =4

            dc_region As typedDataCard.textualEditCard:
                BorderColor: =RGBA(166, 166, 166, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="coe_envregion"
                Default: =LookUp(col_regions, name=var_selectedCreateReq.'Environment region').DisplayName
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Environment region"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =lbl_info_region.Y + lbl_info_region.Height + 0
                MaxLength: =DataSourceInfo([@'Environment Creation Requests'], DataSourceInfo.MaxLength, coe_envregion)
                Required: =true
                Update: =ComboBox2_4.Selected.name
                Visible: =true
                Width: =400
                WidthFit: =true
                X: =0
                Y: =1
                ZIndex: =2

                DataCardKey4_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Region"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage3_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =ComboBox2_4.Y + ComboBox2_4.Height
                    ZIndex: =3

                ComboBox2_4 As combobox:
                    BorderColor: =RGBA(36, 42, 44, 1)
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(133, 138, 140, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =LookUp(col_regions, name=var_selectedCreateReq.'Environment region')
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["DisplayName"]
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    IsSearchable: =false
                    Items: =col_regions
                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(105, 121, 126, 1)
                    SearchFields: =["DisplayName"]
                    SearchItems: =[]
                    SelectionFill: =RGBA(105, 121, 126, 1)
                    SelectMultiple: =false
                    Width: =Parent.Width - Self.X * 2
                    X: =30
                    Y: =46
                    ZIndex: =5

                StarVisible2_2 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey3_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Tooltip: ="Required field"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =77
                    Y: =DataCardKey3_1.Y
                    ZIndex: =6

                Icon10_1 As icon.Information:
                    BorderColor: =RGBA(166, 166, 166, 1)
                    Color: =Color.Purple
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(220, 220, 220, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =0
                    Height: =22
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Icon: =Icon.Information
                    OnSelect: |-
                        =UpdateContext({var_showEnvTypeInfo: false , var_message: "" });
                        UpdateContext({var_showEnvTypeInfo: true });
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Visible: =false
                    Width: =31
                    X: =101
                    Y: =15
                    ZIndex: =7

                lbl_info_region As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(128, 128, 128, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    Height: =24
                    Size: =11
                    Text: ="A local region can provide quicker data access"
                    Width: =Parent.Width - Self.X - 20
                    X: =30
                    Y: =93
                    ZIndex: =8

            dc_type As typedDataCard.comboBoxOptionSetSingleEditCard:
                BorderColor: =RGBA(36, 42, 44, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="coe_envsku"
                Default: =var_selectedCreateReq.'Environment type'
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Environment type"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =true
                Update: =DataCardValue3_1.Selected.Value
                Visible: =true
                Width: =400
                WidthFit: =true
                X: =0
                Y: =2
                ZIndex: =2

                DataCardKey3_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Type"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                DataCardValue3_1 As combobox:
                    BorderColor: =If(IsBlank(Parent.Error), Parent.BorderColor, Color.Red)
                    BorderThickness: =1
                    ChevronBackground: =RGBA(255, 255, 255, 1)
                    ChevronDisabledBackground: =RGBA(244, 244, 244, 1)
                    ChevronDisabledFill: =RGBA(166, 166, 166, 1)
                    ChevronFill: =RGBA(133, 138, 140, 1)
                    ChevronHoverBackground: =RGBA(212, 212, 212, 1)
                    ChevronHoverFill: =RGBA(33, 33, 33, 1)
                    Color: =RGBA(51, 51, 51, 1)
                    DefaultSelectedItems: =[Parent.Default]
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    DisabledFill: =RGBA(244, 244, 244, 1)
                    DisplayFields: =["Value"]
                    DisplayMode: =Parent.DisplayMode
                    Font: =Font.'Segoe UI'
                    HoverBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverColor: =RGBA(51, 51, 51, 1)
                    HoverFill: =RGBA(212, 212, 212, 1)
                    IsSearchable: =false
                    Items: =Choices('Environment type')
                    PaddingLeft: =If(Self.DisplayMode = DisplayMode.Edit, 5, 0)
                    PressedBorderColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedColor: =RGBA(255, 255, 255, 1)
                    PressedFill: =RGBA(105, 121, 126, 1)
                    SearchFields: =["Value"]
                    SearchItems: =[]
                    SelectionFill: =RGBA(105, 121, 126, 1)
                    SelectMultiple: =false
                    Tooltip: =Parent.DisplayName
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardKey3_1.Y + DataCardKey3_1.Height + 5
                    ZIndex: =2

                ErrorMessage2_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =DataCardValue3_1.Y + DataCardValue3_1.Height
                    ZIndex: =3

                StarVisible2_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(118, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey3_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Tooltip: ="Required field"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    X: =60
                    Y: =DataCardKey3_1.Y
                    ZIndex: =4

            "'Has database_DataCard1_1' As typedDataCard.comboBoxOptionSetSingleEditCard":
                BorderColor: =RGBA(36, 42, 44, 1)
                BorderStyle: =BorderStyle.Solid
                DataField: ="coe_hasdatabase"
                Default: =var_selectedCreateReq.'Has database'
                DisplayMode: =Parent.DisplayMode
                DisplayName: ="Has database"
                Fill: =RGBA(0, 0, 0, 0)
                Height: =50
                Required: =false
                Update: =If(tgl_hasDatabase.Value, 'Has database (Environment Creation Requests)'.Yes, 'Has database (Environment Creation Requests)'.No)
                Visible: =true
                Width: =400
                WidthFit: =true
                X: =0
                Y: =6
                ZIndex: =2

                DataCardKey5_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =34
                    PaddingLeft: =0
                    Size: =11
                    Text: ="Create a database for this environment?"
                    Width: =Parent.Width - 60
                    Wrap: =false
                    X: =30
                    Y: =10
                    ZIndex: =1

                ErrorMessage4_1 As label:
                    AutoHeight: =true
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(168, 0, 0, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(168, 0, 0, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =10
                    Live: =Live.Assertive
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =13
                    Text: =Parent.Error
                    Visible: =Parent.DisplayMode=DisplayMode.Edit
                    Width: =Parent.Width - 60
                    X: =30
                    Y: =tgl_hasDatabase.Y + tgl_hasDatabase.Height
                    ZIndex: =3

                StarVisible4_1 As label:
                    Align: =Align.Center
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    Height: =DataCardKey5_1.Height
                    PaddingLeft: =0
                    Size: =13
                    Text: ="*"
                    Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                    Width: =30
                    Wrap: =false
                    Y: =DataCardKey5_1.Y
                    ZIndex: =4

                tgl_hasDatabase As toggleSwitch:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    Color: =RGBA(51, 51, 51, 1)
                    Default: =var_selectedCreateReq.'Has database'
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    FalseFill: =RGBA(230, 230, 230, 1)
                    FalseHoverFill: =ColorFade(Self.FalseFill,-10%)
                    FalseText: ="No"
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    HandleFill: =If(Self.Value, Color.White, RGBA(133, 138, 140, 1))
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    Size: =11
                    TrueFill: =ColorValue(AppTheme.palette.themePrimary)
                    TrueHoverFill: =ColorFade(Self.TrueFill, -30%)
                    TrueText: ="Yes"
                    X: =30
                    Y: =52
                    ZIndex: =5

    conPolicyDetails As groupContainer.verticalAutoLayoutContainer:
        DropShadow: =DropShadow.Light
        Height: =pnlViewDetails.ContentHeight
        LayoutDirection: =LayoutDirection.Vertical
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        PaddingBottom: =10
        PaddingLeft: =10
        PaddingRight: =10
        PaddingTop: =10
        RadiusBottomLeft: =4
        RadiusBottomRight: =4
        RadiusTopLeft: =4
        RadiusTopRight: =4
        Visible: =showPanel && pnlContext = "policydetails"
        Width: =pnlViewDetails.ContentWidth
        X: =pnlViewDetails.ContentX
        Y: =pnlViewDetails.ContentY+20
        ZIndex: =6

        Label25 As label:
            AlignInContainer: =AlignInContainer.Stretch
            AutoHeight: =true
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(51, 51, 51, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            PaddingBottom: =0
            PaddingLeft: =14
            Size: =11
            Text: =If(dlAllPolicies.Selected.hasBlockedConnectors, "⛔  Connectors are blocked by this policy.", "✅  No connectors are blocked by this policy.")
            ZIndex: =1

        Label25_1 As label:
            AlignInContainer: =AlignInContainer.Stretch
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(51, 51, 51, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            Height: =35
            PaddingLeft: =14
            PaddingTop: =0
            Size: =11
            Text: =If(dlAllPolicies.Selected.hasRestriction,"🟡  Connectors are restricted by this policy.","✅  Connectors are not restricted from being used together.")
            ZIndex: =2

        Label25_3 As label:
            AlignInContainer: =AlignInContainer.Stretch
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(80,80,80, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Fill: =Coalesce(ColorValue(LookUp(tbl_recommendations, Impact=dlAllPolicies.Selected.impact && PolicyType=dlAllPolicies.Selected.environmentType).Color),Color.White)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            FontWeight: =FontWeight.Semibold
            Height: =50
            PaddingLeft: =20
            Size: =11
            Text: ="Recommended action"
            VerticalAlign: =VerticalAlign.Bottom
            Width: =Parent.Width - Self.X * 2
            ZIndex: =3

        Label25_2 As label:
            AlignInContainer: =AlignInContainer.Stretch
            AutoHeight: =true
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            BorderThickness: =2
            Color: =RGBA(51, 51, 51, 1)
            DisabledBorderColor: =RGBA(0, 0, 0, 0)
            DisabledColor: =RGBA(166, 166, 166, 1)
            Fill: =Coalesce(ColorValue(LookUp(tbl_recommendations, Impact=dlAllPolicies.Selected.impact && PolicyType=dlAllPolicies.Selected.environmentType).Color),Color.White)
            FocusedBorderThickness: =4
            Font: =Font.'Segoe UI'
            Height: =150
            LineHeight: =1.3
            PaddingBottom: =30
            PaddingLeft: =20
            PaddingRight: =30
            Size: =11
            Text: =LookUp(tbl_recommendations, Impact=dlAllPolicies.Selected.impact && PolicyType=dlAllPolicies.Selected.environmentType).Message
            Width: =Parent.Width - Self.X * 2
            ZIndex: =4

        gal_connectorPolicyImpact As gallery.variableTemplateHeightGallery:
            '#CopilotOverlayLabel': ="Filtered"
            AccessibleLabel: ="Policy Impact"
            BorderColor: =RGBA(0, 0, 0, 0)
            BorderStyle: =BorderStyle.None
            Height: =50
            Items: =Sort(dlAllPolicies.Selected.connectorGroups, classification, SortOrder.Ascending)
            Layout: =Layout.Vertical
            LayoutMinHeight: =287
            LayoutMinWidth: =320
            TabIndex: =1
            TemplateFill: |-
                =If( dlAllPolicies.Selected.hasBlockedConnectors && ThisItem.classification = "Blocked", RGBA(255, 240,240,1),
                If( dlAllPolicies.Selected.hasConfidentialConnectors && dlAllPolicies.Selected.hasGeneralConnectors && ThisItem.classification <> "Blocked", RGBA(250,250,220,1))
                )
            TemplatePadding: =0
            TemplateSize: =80
            ZIndex: =5

            gal_groupConnectors As gallery.galleryVertical:
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(166, 166, 166, 1)
                Height: =If(!IsEmpty(Self.AllItems),Max((CountRows(Self.AllItems) / 6),1) * 50,0)
                Items: =Filter(ThisItem.connectors, id in col_requestedConnectors.admin_id)
                Layout: =Layout.Vertical
                ShowScrollbar: =false
                TabIndex: =1
                TemplatePadding: =0
                TemplateSize: =40
                Visible: =true //ThisItem.IsSelected && var_expand
                Width: =Parent.Width
                WrapCount: =10
                Y: =40
                ZIndex: =2

                Image1 As image:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =4
                    Height: =Parent.TemplateHeight
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Image: =LookUp(col_requestedConnectors, admin_id = ThisItem.id).'Connector Icon Uri'
                    OnSelect: =Select(Parent)
                    PaddingBottom: =5
                    PaddingTop: =5
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    Width: =40  
                    X: =10
                    ZIndex: =1

            Container32 As groupContainer.horizontalAutoLayoutContainer:
                Height: =40
                LayoutMode: =LayoutMode.Auto
                Width: =450
                ZIndex: =4

                Label7 As label:
                    BorderColor: =RGBA(0, 0, 0, 0)
                    BorderStyle: =BorderStyle.None
                    BorderThickness: =2
                    Color: =RGBA(51, 51, 51, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(166, 166, 166, 1)
                    FillPortions: =1
                    FocusedBorderThickness: =4
                    Font: =Font.'Segoe UI'
                    FontWeight: =FontWeight.Semibold
                    OnSelect: =
                    PaddingLeft: =10
                    Size: =11
                    Text: =ThisItem.classification & " (" & CountRows(Filter(ThisItem.connectors, id in col_requestedConnectors.admin_id)) & ")"
                    ZIndex: =1

                icn_connectorFlyoutImage As icon.ChevronUp:
                    AccessibleLabel: ="Connector"
                    AlignInContainer: =AlignInContainer.Stretch
                    BorderColor: =RGBA(166, 166, 166, 1)
                    Color: =RGBA(105, 121, 126, 1)
                    DisabledBorderColor: =RGBA(0, 0, 0, 0)
                    DisabledColor: =RGBA(220, 220, 220, 1)
                    DisabledFill: =RGBA(0, 0, 0, 0)
                    FocusedBorderThickness: =4
                    HoverBorderColor: =RGBA(0, 0, 0, 0)
                    HoverColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    Icon: =If(ThisItem.IsSelected && var_expand, Icon.ChevronUp, Icon.ChevronDown)
                    LayoutMinHeight: =30
                    OnSelect: |-
                        =UpdateContext({ var_expand: !var_expand });
                    PaddingBottom: =10
                    PaddingTop: =10
                    PressedBorderColor: =RGBA(0, 0, 0, 0)
                    PressedColor: =ColorFade(RGBA(105, 121, 126, 1), -30%)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    TabIndex: =2
                    Visible: =false
                    X: =386
                    ZIndex: =2

