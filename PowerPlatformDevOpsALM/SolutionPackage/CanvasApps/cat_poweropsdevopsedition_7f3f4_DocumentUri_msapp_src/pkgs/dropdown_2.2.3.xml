<?xml version="1.0"?>
<widget id="http://microsoft.com/appmagic/dropdown" jsClass="AppMagic.Controls.Dropdown.DropdownControl" name="dropdown" runtimeCost="1" spec="1.0" styleable="true" version="2.2.3" xmlns="http://openajax.org/metadata" xmlns:appMagic="http://schemas.microsoft.com/appMagic">
 <appMagic:accessibilityChecks controlIsInteractive="true"/>
 <appMagic:capabilities autoBorders="true" autoDisabledViewState="true" autoFocusedBorders="true" autoPointerViewState="true" contextualViewsEnabled="true" isVersionFlexible="true" screenActiveAware="true"/>
 <appMagic:conversion from="2.0.0" to="2.1.0">
  <appMagic:conversionAction name="AllowUnsetValue" type="add"/>
 </appMagic:conversion>
 <appMagic:conversion from="2.1.0" to="2.2.0">
  <appMagic:conversionAction name="Selected" newName="SelectedText" type="rename"/>
  <appMagic:conversionAction name="Selected" type="add"/>
 </appMagic:conversion>
 <appMagic:conversion from="2.2.0" to="2.2.1">
  <appMagic:conversionAction name="AllowUnsetValue" newName="AllowEmptySelection" type="rename"/>
 </appMagic:conversion>
 <appMagic:conversion from="2.2.1" to="2.2.2"/>
 <appMagic:conversion from="2.2.2" to="2.2.3"/>
 <appMagic:displayMetadata>
  <appMagic:section>
   <appMagic:configureProperty computedValueType="ItemsWithNameMaps" hasNameMaps="true" propertyInvariantName="DependentItems" ruleToSet="Items"/>
   <appMagic:property computedValueType="ItemsWithNameMaps" hasNameMaps="true" name="Items" serverProvidesValue="true"/>
  </appMagic:section>
  <appMagic:section>
   <appMagic:property name="Default"/>
   <appMagic:property name="DisplayMode"/>
  </appMagic:section>
  <appMagic:section>
   <appMagic:property name="Visible"/>
   <appMagic:propertyGroup name="Padding">
    <appMagic:property labelOverride="##Padding_Bottom_Title##" name="PaddingBottom"/>
    <appMagic:property labelOverride="##Padding_Left_Title##" name="PaddingLeft"/>
    <appMagic:property labelOverride="##Padding_Right_Title##" name="PaddingRight"/>
    <appMagic:property labelOverride="##Padding_Top_Title##" name="PaddingTop"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="Position">
    <appMagic:property name="X"/>
    <appMagic:property name="Y"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="Size">
    <appMagic:property name="Height"/>
    <appMagic:property name="Width"/>
   </appMagic:propertyGroup>
  </appMagic:section>
  <appMagic:section>
   <appMagic:property displayType="EnumIcon" itemsOrder="Bold;Semibold;Normal;Lighter" name="FontWeight"/>
   <appMagic:property displayType="FontEnum" name="Font" showInFloatie="true"/>
   <appMagic:property labelOverride="##FontSize_Property##" name="Size" showInFloatie="true"/>
   <appMagic:propertyGroup name="Border">
    <appMagic:property name="BorderColor"/>
    <appMagic:property name="BorderStyle"/>
    <appMagic:property name="BorderThickness"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="ChevronColor">
    <appMagic:property name="ChevronBackground"/>
    <appMagic:property name="ChevronFill"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="Color">
    <appMagic:property name="Color" showInFloatie="true"/>
    <appMagic:property name="Fill" showInFloatie="true"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="SelectionColor">
    <appMagic:property name="SelectionColor"/>
    <appMagic:property name="SelectionFill"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="Style">
    <appMagic:property displayType="ToggleButton" name="Italic"/>
    <appMagic:property displayType="ToggleButton" name="Strikethrough"/>
    <appMagic:property displayType="ToggleButton" name="Underline"/>
   </appMagic:propertyGroup>
  </appMagic:section>
  <appMagic:section>
   <appMagic:property name="ChevronDisabledBackground"/>
   <appMagic:property name="ChevronDisabledFill"/>
   <appMagic:property name="ChevronHoverBackground"/>
   <appMagic:property name="ChevronHoverFill"/>
   <appMagic:property name="TabIndex"/>
   <appMagic:property name="Tooltip"/>
   <appMagic:propertyGroup name="DisabledColor">
    <appMagic:property name="DisabledBorderColor"/>
    <appMagic:property name="DisabledColor"/>
    <appMagic:property name="DisabledFill"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="HoverColor">
    <appMagic:property name="HoverBorderColor"/>
    <appMagic:property name="HoverColor"/>
    <appMagic:property name="HoverFill"/>
   </appMagic:propertyGroup>
   <appMagic:propertyGroup name="PressedColor">
    <appMagic:property name="PressedBorderColor"/>
    <appMagic:property name="PressedColor"/>
    <appMagic:property name="PressedFill"/>
   </appMagic:propertyGroup>
  </appMagic:section>
 </appMagic:displayMetadata>
 <appMagic:includeProperties>
  <appMagic:includeProperty defaultValue="10" name="PaddingBottom"/>
  <appMagic:includeProperty defaultValue="10" name="PaddingLeft"/>
  <appMagic:includeProperty defaultValue="10" name="PaddingRight"/>
  <appMagic:includeProperty defaultValue="10" name="PaddingTop"/>
  <appMagic:includeProperty defaultValue="1366" name="maximumWidth"/>
  <appMagic:includeProperty defaultValue="2" name="BorderThickness"/>
  <appMagic:includeProperty defaultValue="328" name="Width" phoneDefaultValue="575" webDefaultValue="180"/>
  <appMagic:includeProperty defaultValue="35" name="minimumHeight"/>
  <appMagic:includeProperty defaultValue="4" name="FocusedBorderThickness"/>
  <appMagic:includeProperty defaultValue="40" name="Height" phoneDefaultValue="70" webDefaultValue="32"/>
  <appMagic:includeProperty defaultValue="768" name="maximumHeight"/>
  <appMagic:includeProperty defaultValue="80" name="minimumWidth"/>
  <appMagic:includeProperty defaultValue="ColorFade(Self.BorderColor, 15%)" name="HoverBorderColor"/>
  <appMagic:includeProperty defaultValue="ColorFade(Self.SelectionFill, -30%)" name="PressedFill"/>
  <appMagic:includeProperty defaultValue="RGBA(0, 0, 0, 1)" isExpr="true" name="Color"/>
  <appMagic:includeProperty defaultValue="RGBA(186, 186, 186, 1)" name="DisabledBorderColor"/>
  <appMagic:includeProperty defaultValue="RGBA(186, 186, 186, 1)" name="DisabledColor"/>
  <appMagic:includeProperty defaultValue="RGBA(186, 186, 186, 1)" name="HoverFill"/>
  <appMagic:includeProperty defaultValue="RGBA(242, 242, 242, 1)" name="DisabledFill"/>
  <appMagic:includeProperty defaultValue="RGBA(255, 255, 255, 1)" name="Fill"/>
  <appMagic:includeProperty defaultValue="RGBA(69, 69, 69, 1)" name="BorderColor"/>
  <appMagic:includeProperty defaultValue="Self.BorderColor" isExpr="true" name="FocusedBorderColor"/>
  <appMagic:includeProperty defaultValue="Self.Color" name="HoverColor"/>
  <appMagic:includeProperty defaultValue="Self.Color" name="PressedColor"/>
  <appMagic:includeProperty defaultValue="Self.HoverBorderColor" name="PressedBorderColor"/>
  <appMagic:includeProperty direction="in" isPrimaryBehaviorProperty="true" name="OnChange"/>
  <appMagic:includeProperty direction="in" name="OnSelect"/>
  <appMagic:includeProperty name="AccessibleLabel"/>
  <appMagic:includeProperty name="BorderStyle"/>
  <appMagic:includeProperty name="DisplayMode"/>
  <appMagic:includeProperty name="Font"/>
  <appMagic:includeProperty name="FontWeight"/>
  <appMagic:includeProperty name="Italic"/>
  <appMagic:includeProperty name="Size" phoneDefaultValue="30"/>
  <appMagic:includeProperty name="Strikethrough"/>
  <appMagic:includeProperty name="TabIndex"/>
  <appMagic:includeProperty name="Tooltip"/>
  <appMagic:includeProperty name="Underline"/>
  <appMagic:includeProperty name="Visible"/>
  <appMagic:includeProperty name="X"/>
  <appMagic:includeProperty name="Y"/>
 </appMagic:includeProperties>
 <appMagic:insertMetadata>
  <appMagic:category name="ClassicControls" priority="40"/>
  <appMagic:category name="Input" priority="40"/>
 </appMagic:insertMetadata>
 <appMagic:propertyDependencies>
  <appMagic:propertyDependency input="Default" output="Selected"/>
  <appMagic:propertyDependency input="Default" output="SelectedText"/>
  <appMagic:propertyDependency input="Items" output="Selected"/>
  <appMagic:propertyDependency input="Items" output="SelectedText"/>
  <appMagic:propertyDependency input="Reset" output="Selected"/>
 </appMagic:propertyDependencies>
 <author name="Microsoft AppMagic"/>
 <content><div class="appmagic-dropdown no-focus-outline"
      data-bind="
        shortcut: {
          provider: shortcutProvider,
          capture: false
        }
      ">
      <div
        data-bind="
          style: {
            fontFamily: properties.Font,
            fontSize: properties.Size,
            color: autoProperties.Color,
            backgroundColor: autoProperties.Fill,
            fontWeight: properties.FontWeight,
            fontStyle: properties.Italic,
            textAlign: properties.Align
          },
          attr: {
            class: id + ' appmagic-dropdownLabel',
          },
          event: {
            click: onClickLabel,
          },
          css: {
            disabled: isDisabled,
            underline: properties.Underline,
            readonly: isReadOnly,
            strikethrough: properties.Strikethrough
          },
          controlFlyout: {
            contentSelector: '.appmagic-dropdownFlyout',
            position: 'bottom left',
            openOn: null,
            matchWidth: true,
            beforeOpen: beforeOpenFlyout.bind($data),
            showEvent: openFlyoutEvent,
            closeEvent: closeFlyoutEvent,
            onShow: onShow.bind($data),
            onClose: onClose.bind($data)
          }
        "
      >
        <div class="appmagic-dropdownLabelText no-focus-outline"
          touch-action="pan-x pan-y"
          role="button"
          aria-haspopup="listbox"
          data-bind="
            attr: {
              title: properties.Tooltip() || null,
              'aria-label': (properties.AccessibleLabel() || '') + '. ' + selectedValue,
              'aria-disabled': isDisabled || isReadOnly
            },
            text: selectedValue,
            style: {
              paddingTop: properties.PaddingTop,
              paddingRight: properties.PaddingRight,
              paddingBottom: properties.PaddingBottom,
              paddingLeft: properties.PaddingLeft
            }
          "
        >
        </div>

        <div class="appmagic-dropdownLabelArrow" data-bind="style: { width: properties.ChevronWidth }">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" focusable="false" aria-hidden="true"
            data-bind="style: { width: properties.ChevronWidth, height: AppMagic.Controls.converters.pxVerticalConverter.view(properties.Height()) }">
              <polygon class="chevron-svg" points="18,24.5 7,13.6 9.1,11.5 18,20.3 26.9,11.5 29,13.6" />
          </svg>
        </div>
      </div>
      <!-- ko stopBinding: true -->
      <div
        class="appmagic-dropdownFlyout"
        data-bind="
          shortcut: {
            provider: shortcutProvider,
            capture: false
          },
          attr: {
            id: 'appmagic-dropdownFlyout' + id,
          }
        "
      >
        <div
          role="listbox"
          data-bind="
            style: {
              fontFamily: properties.Font,
              fontSize: properties.Size,
              fontWeight: properties.FontWeight,
              maxHeight: flyoutMaximumHeight,
              fontStyle: properties.Italic,
              textAlign: properties.Align,
              borderWidth: properties.BorderThickness,
              borderColor: properties.HoverBorderColor,
              borderStyle: properties.BorderStyle,
              backgroundColor: properties.Fill,
            },
            attr: {
              class: id + ' appmagic-dropdownList',
              'aria-label': Core.Utility.formatString(AppMagic.Strings.ListBoxItemsLabel || '', properties.AccessibleLabel())
            },
            css: {
              underline: properties.Underline,
              strikethrough: properties.Strikethrough
            },
            foreach: currentItems
          "
        >
          <div
            touch-action="pan-y"
            role="option"
            tabindex="-1"
            data-bind="
              attr: {
                  class: 'item' + $index() + ' appmagic-dropdownListItem',
                  id: 'appmagic-dropdownFlyout' + $parent.id + '_' + $index(),
                  'aria-selected': selected
              },
              style: {
                  paddingTop: $parent.properties.PaddingTop,
                  paddingRight: $parent.properties.PaddingRight,
                  paddingBottom: $parent.properties.PaddingBottom,
                  paddingLeft: $parent.properties.PaddingLeft},
              css: {
                  selected: selected
              },
              event: {
                  click: $parent.onClickItem.bind($parent),
                  mouseover: onMouseEvent,
                  pointerout: onMouseEvent,
                  mousedown: onMouseEvent,
                  pointerdown: onMouseEvent,
                  pointerup: onMouseEvent
              },
              text: value
            "
          ></div>
          </div>
      </div>
      <!-- /ko -->
    </div>
    <style data-bind="text: dropdownStyles"></style></content>
 <description>DROPDOWN
      Control description here.</description>
 <license type="text/html">&lt;p&gt;TODO:  Need license text here.&lt;/p&gt;</license>
 <properties>
  <property converter="argbConverter" datatype="Color" defaultValue="ColorFade(Self.ChevronBackground, 20%)" isExpr="true" localizedName="##Dropdown_Chevron_HoverBackground##" name="ChevronHoverBackground" styleable="true">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Chevron_HoverBackground_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <title>Dropdown Chevron Hover Fill</title>
  </property>
  <property converter="argbConverter" datatype="Color" defaultValue="RGBA(0, 176, 240, 1)" isExpr="true" localizedName="##dropdown_SelectionFill##" name="SelectionFill">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##dropdown_SelectionFill_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <appMagic:tooltip>##dropdown_SelectionFill_Tooltip##</appMagic:tooltip>
   <title>Selected Fill color</title>
  </property>
  <property converter="argbConverter" datatype="Color" defaultValue="RGBA(215, 210, 204, 1)" isExpr="true" localizedName="##Dropdown_Chevron_DisabledBackground##" name="ChevronDisabledBackground" styleable="true">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Chevron_DisabledBackground_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <title>Dropdown Chevron Disabled Fill</title>
  </property>
  <property converter="argbConverter" datatype="Color" defaultValue="RGBA(235, 233, 229, 1)" isExpr="true" localizedName="##Dropdown_Chevron_DisabledFill##" name="ChevronDisabledFill" styleable="true">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Chevron_DisabledFill_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <title>Dropdown Chevron Disabled Fill</title>
  </property>
  <property converter="argbConverter" datatype="Color" defaultValue="RGBA(255, 255, 255, 1)" isExpr="true" localizedName="##Dropdown_Chevron_Fill##" name="ChevronFill">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Chevron_Fill_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <appMagic:tooltip>##Dropdown_Chevron_Fill_Tooltip##</appMagic:tooltip>
   <title>Dropdown Chevron Fill</title>
  </property>
  <property converter="argbConverter" datatype="Color" defaultValue="RGBA(255, 255, 255, 1)" isExpr="true" localizedName="##dropdown_SelectionColor##" name="SelectionColor">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##dropdown_SelectionColor_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <appMagic:tooltip>##dropdown_SelectionColor_Tooltip##</appMagic:tooltip>
   <title>Selected Text color</title>
  </property>
  <property converter="argbConverter" datatype="Color" defaultValue="RGBA(35, 31, 32, 1)" isExpr="true" localizedName="##Dropdown_Chevron_Background##" name="ChevronBackground">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Chevron_Background_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <appMagic:tooltip>##Dropdown_Chevron_Background_Tooltip##</appMagic:tooltip>
   <title>Dropdown Chevron Fill</title>
  </property>
  <property converter="argbConverter" datatype="Color" defaultValue="Self.ChevronFill" isExpr="true" localizedName="##Dropdown_Chevron_HoverFill##" name="ChevronHoverFill" styleable="true">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Chevron_HoverFill_DisplayName##</appMagic:displayName>
   <appMagic:helperUI>color</appMagic:helperUI>
   <title>Dropdown Chevron Hover Fill</title>
  </property>
  <property converter="pxHorizontalConverter" datatype="Number" defaultValue="34" hidden="true" localizedName="##Dropdown_Chevron_Width##" name="ChevronWidth" phoneDefaultValue="50" styleable="true" webDefaultValue="32">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Chevron_Width_DisplayName##</appMagic:displayName>
   <title>Dropdown Chevron Width</title>
  </property>
  <property converter="pxVerticalConverter" datatype="Number" defaultValue="400" hidden="true" localizedName="##Dropdown_Flyout_MaximumHeight##" name="FlyoutMaximumHeight" phoneDefaultValue="700" styleable="true">
   <appMagic:category>design</appMagic:category>
   <appMagic:displayName>##Dropdown_Flyout_MaximumHeight_DisplayName##</appMagic:displayName>
   <title>Dropdown Flyout Maximum Height</title>
  </property>
  <property datatype="Array" direction="in" hasEditableNameMap="true" isPrimaryInputProperty="true" localizedName="##dropdown_Items##" name="Items">
   <appMagic:category>data</appMagic:category>
   <appMagic:displayName>##dropdown_Items_DisplayName##</appMagic:displayName>
   <appMagic:sampleDataSource location="data/DropdownSample.xlsx" name="DropDownSample"/>
   <appMagic:tooltip>##dropdown_Items_Tooltip##</appMagic:tooltip>
   <properties>
    <property datatype="String" localizedName="##dropdown_Value##" name="Value"/>
   </properties>
   <title>dropdown items</title>
  </property>
  <property datatype="Boolean" defaultValue="false" direction="in" localizedName="##commonProperties_Reset##" name="Reset">
   <appMagic:category>data</appMagic:category>
   <appMagic:displayName>##commonProperties_Reset_DisplayName##</appMagic:displayName>
   <appMagic:tooltip>##commonProperties_Reset_Tooltip##</appMagic:tooltip>
   <title>Reset</title>
  </property>
  <property datatype="Boolean" defaultValue="false" direction="in" localizedName="##dropdown_AllowEmptySelection##" name="AllowEmptySelection">
   <appMagic:category>data</appMagic:category>
   <appMagic:displayName>##dropdown_AllowEmptySelection_DisplayName##</appMagic:displayName>
   <appMagic:tooltip>##dropdown_AllowEmptySelection_Tooltip##</appMagic:tooltip>
   <title>AllowEmptySelection</title>
  </property>
  <property datatype="object" direction="out" isPrimaryOutputProperty="true" localizedName="##dropdown_SelectedText##" name="SelectedText" supportsAutomation="true">
   <appMagic:category>data</appMagic:category>
   <appMagic:passThroughReference>Items</appMagic:passThroughReference>
   <properties>
    <property datatype="String" localizedName="##dropdown_Value##" name="Value"/>
   </properties>
   <title>Text value of the selected item</title>
  </property>
  <property datatype="object" direction="out" localizedName="##dropdown_Selected##" name="Selected" supportsAutomation="true">
   <appMagic:category>data</appMagic:category>
   <appMagic:passThroughReference>Items</appMagic:passThroughReference>
   <title>Value of the selected item</title>
  </property>
  <property datatype="String" defaultValue="1" direction="in" editable="true" localizedName="##dropdown_Default##" name="Default">
   <appMagic:category>data</appMagic:category>
   <appMagic:displayName>##dropdown_Default_DisplayName##</appMagic:displayName>
   <appMagic:tooltip>##dropdown_Default_Tooltip##</appMagic:tooltip>
   <title>Selected item</title>
  </property>
 </properties>
 <requires>
  <require authoringOnly="true" src="data/DropdownSample.xlsx" type="other"/>
  <require src="css/dropdown.css" type="css"/>
  <require src="images/dropdownarrow_blackicon.svg" type="other"/>
  <require src="js/dropdown.js" type="javascript"/>
 </requires>
</widget>
